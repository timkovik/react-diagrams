/*! For license information please see main.60a8d40ccd1cdeb71d01.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(module,exports,__webpack_require__){"use strict";__webpack_require__(11),__webpack_require__(2);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0});var react_diagrams_core_1=__webpack_require__(50),react_diagrams_defaults_1=__webpack_require__(447),react_diagrams_routing_1=__webpack_require__(455),react_canvas_core_1=__webpack_require__(8);__exportStar(__webpack_require__(50),exports),__exportStar(__webpack_require__(447),exports),__exportStar(__webpack_require__(455),exports),exports.default=function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},engine=new react_diagrams_core_1.DiagramEngine(options);return engine.getLayerFactories().registerFactory(new react_diagrams_core_1.NodeLayerFactory),engine.getLayerFactories().registerFactory(new react_diagrams_core_1.LinkLayerFactory),engine.getLayerFactories().registerFactory(new react_canvas_core_1.SelectionBoxLayerFactory),engine.getLabelFactories().registerFactory(new react_diagrams_defaults_1.DefaultLabelFactory),engine.getNodeFactories().registerFactory(new react_diagrams_defaults_1.DefaultNodeFactory),engine.getLinkFactories().registerFactory(new react_diagrams_defaults_1.DefaultLinkFactory),engine.getLinkFactories().registerFactory(new react_diagrams_routing_1.PathFindingLinkFactory),engine.getPortFactories().registerFactory(new react_diagrams_defaults_1.DefaultPortFactory),engine.getStateMachine().pushState(new react_diagrams_core_1.DefaultDiagramState),engine}},1025:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"CloneSelected",(function(){return _2_AdvancedUsage_stories_CloneSelected})),__webpack_require__.d(__webpack_exports__,"SerializingAndDeSerializing",(function(){return SerializingAndDeSerializing})),__webpack_require__.d(__webpack_exports__,"ProgramaticallyModifyingGraph",(function(){return ProgramaticallyModifyingGraph})),__webpack_require__.d(__webpack_exports__,"DragAndDrop",(function(){return DragAndDrop})),__webpack_require__.d(__webpack_exports__,"SmartRouting",(function(){return SmartRouting})),__webpack_require__.d(__webpack_exports__,"RightAnglesRouting",(function(){return RightAnglesRouting})),__webpack_require__.d(__webpack_exports__,"LinkingByClickingInsteadOfDragging",(function(){return LinkingByClickingInsteadOfDragging})),__webpack_require__.d(__webpack_exports__,"SettingCustomDeleteKeys",(function(){return SettingCustomDeleteKeys}));var dist=__webpack_require__(8),react_diagrams_dist=(__webpack_require__(152),__webpack_require__(25),__webpack_require__(26),__webpack_require__(13),__webpack_require__(12),__webpack_require__(22),__webpack_require__(14),__webpack_require__(11),__webpack_require__(2),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),__webpack_require__(1)),react_diagrams_dist_default=__webpack_require__.n(react_diagrams_dist),lodash=__webpack_require__(15),react=__webpack_require__(0),DemoWorkspaceWidget=__webpack_require__(20),DemoCanvasWidget=__webpack_require__(17);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var demo_cloning_CloneSelected=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(CloneSelected,_React$Component);var _super=_createSuper(CloneSelected);function CloneSelected(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CloneSelected),(_this=_super.call(this,props)).cloneSelected=_this.cloneSelected.bind(_assertThisInitialized(_this)),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(CloneSelected,[{key:"cloneSelected",value:function cloneSelected(){var engine=this.props.engine,offset_x=100,offset_y=100,model=engine.getModel(),itemMap={};lodash.forEach(model.getSelectedEntities(),(function(item){var newItem=item.clone(itemMap);newItem instanceof react_diagrams_dist.NodeModel?(newItem.setPosition(newItem.getX()+offset_x,newItem.getY()+offset_y),model.addNode(newItem)):newItem instanceof react_diagrams_dist.LinkModel&&(newItem.getPoints().forEach((function(p){p.setPosition(p.getX()+offset_x,p.getY()+offset_y)})),model.addLink(newItem)),newItem.setSelected(!1)})),this.forceUpdate()}},{key:"render",value:function render(){var engine=this.props.engine;return react.createElement(DemoWorkspaceWidget.b,{buttons:react.createElement(DemoWorkspaceWidget.a,{onClick:this.cloneSelected},"Clone Selected")},react.createElement(DemoCanvasWidget.a,null,react.createElement(dist.CanvasWidget,{engine:engine})))}}]),CloneSelected}(react.Component),addon_actions_dist=__webpack_require__(60),json_beautify=__webpack_require__(527);__webpack_require__(65);function demo_mutate_graph_typeof(obj){return(demo_mutate_graph_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function demo_mutate_graph_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function demo_mutate_graph_setPrototypeOf(o,p){return(demo_mutate_graph_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function demo_mutate_graph_createSuper(Derived){var hasNativeReflectConstruct=function demo_mutate_graph_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=demo_mutate_graph_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=demo_mutate_graph_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return demo_mutate_graph_possibleConstructorReturn(this,result)}}function demo_mutate_graph_possibleConstructorReturn(self,call){return!call||"object"!==demo_mutate_graph_typeof(call)&&"function"!=typeof call?demo_mutate_graph_assertThisInitialized(self):call}function demo_mutate_graph_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function demo_mutate_graph_getPrototypeOf(o){return(demo_mutate_graph_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var S,demo_mutate_graph_NodeDelayedPosition=function(_React$Component){!function demo_mutate_graph_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&demo_mutate_graph_setPrototypeOf(subClass,superClass)}(NodeDelayedPosition,_React$Component);var _super=demo_mutate_graph_createSuper(NodeDelayedPosition);function NodeDelayedPosition(props){var _this;return function demo_mutate_graph_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NodeDelayedPosition),(_this=_super.call(this,props)).updatePosition=_this.updatePosition.bind(demo_mutate_graph_assertThisInitialized(_this)),_this.updatePositionViaSerialize=_this.updatePositionViaSerialize.bind(demo_mutate_graph_assertThisInitialized(_this)),_this}return function demo_mutate_graph_createClass(Constructor,protoProps,staticProps){return protoProps&&demo_mutate_graph_defineProperties(Constructor.prototype,protoProps),staticProps&&demo_mutate_graph_defineProperties(Constructor,staticProps),Constructor}(NodeDelayedPosition,[{key:"updatePosition",value:function updatePosition(){var engine=this.props.engine,nodes=engine.getModel().getNodes(),node=nodes[Object.keys(nodes)[0]];node.setPosition(node.getX()+30,node.getY()+30),engine.repaintCanvas()}},{key:"updatePositionViaSerialize",value:function updatePositionViaSerialize(){var engine=this.props.engine,model=engine.getModel(),str=JSON.stringify(model.serialize()),model2=new react_diagrams_dist.DiagramModel,obj=JSON.parse(str),node=lodash.values(obj.layers[1].models)[0];node.x+=30,node.y+=30,model2.deserializeModel(obj,engine),engine.setModel(model2)}},{key:"render",value:function render(){var engine=this.props.engine;return react.createElement(DemoWorkspaceWidget.b,{buttons:[react.createElement(DemoWorkspaceWidget.a,{key:1,onClick:this.updatePosition},"Update position"),react.createElement(DemoWorkspaceWidget.a,{key:2,onClick:this.updatePositionViaSerialize},"Update position via serialize")]},react.createElement(DemoCanvasWidget.a,null,react.createElement(dist.CanvasWidget,{engine:engine})))}}]),NodeDelayedPosition}(react.Component),styled_base_browser_esm=__webpack_require__(47);function TrayWidget_typeof(obj){return(TrayWidget_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function TrayWidget_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function TrayWidget_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function TrayWidget_setPrototypeOf(o,p){return(TrayWidget_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function TrayWidget_createSuper(Derived){var hasNativeReflectConstruct=function TrayWidget_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=TrayWidget_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=TrayWidget_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return TrayWidget_possibleConstructorReturn(this,result)}}function TrayWidget_possibleConstructorReturn(self,call){return!call||"object"!==TrayWidget_typeof(call)&&"function"!=typeof call?function TrayWidget_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function TrayWidget_getPrototypeOf(o){return(TrayWidget_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}(S||(S={})).Tray=Object(styled_base_browser_esm.a)("div",{target:"eai0tvt0",label:"Tray"})({name:"bhbfxy",styles:"min-width:200px;background:rgb(20,20,20);flex-grow:0;flex-shrink:0;"});var TrayWidget_TrayWidget=function(_React$Component){!function TrayWidget_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&TrayWidget_setPrototypeOf(subClass,superClass)}(TrayWidget,_React$Component);var _super=TrayWidget_createSuper(TrayWidget);function TrayWidget(){return TrayWidget_classCallCheck(this,TrayWidget),_super.apply(this,arguments)}return function TrayWidget_createClass(Constructor,protoProps,staticProps){return protoProps&&TrayWidget_defineProperties(Constructor.prototype,protoProps),staticProps&&TrayWidget_defineProperties(Constructor,staticProps),Constructor}(TrayWidget,[{key:"render",value:function render(){return react.createElement(S.Tray,null,this.props.children)}}]),TrayWidget}(react.Component);try{TrayWidget_TrayWidget.displayName="TrayWidget",TrayWidget_TrayWidget.__docgenInfo={description:"",displayName:"TrayWidget",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["demos/demo-drag-and-drop/components/TrayWidget.tsx#TrayWidget"]={docgenInfo:TrayWidget_TrayWidget.__docgenInfo,name:"TrayWidget",path:"demos/demo-drag-and-drop/components/TrayWidget.tsx#TrayWidget"})}catch(__react_docgen_typescript_loader_error){}var TrayItemWidget_S;__webpack_require__(23);function TrayItemWidget_typeof(obj){return(TrayItemWidget_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function TrayItemWidget_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function TrayItemWidget_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function TrayItemWidget_setPrototypeOf(o,p){return(TrayItemWidget_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function TrayItemWidget_createSuper(Derived){var hasNativeReflectConstruct=function TrayItemWidget_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=TrayItemWidget_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=TrayItemWidget_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return TrayItemWidget_possibleConstructorReturn(this,result)}}function TrayItemWidget_possibleConstructorReturn(self,call){return!call||"object"!==TrayItemWidget_typeof(call)&&"function"!=typeof call?function TrayItemWidget_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function TrayItemWidget_getPrototypeOf(o){return(TrayItemWidget_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}!function(_S){_S.Tray=Object(styled_base_browser_esm.a)("div",{target:"e886l660",label:"Tray"})("color:white;font-family:Helvetica,Arial;padding:5px;margin:0px 10px;border:solid 1px ",(function(p){return p.color}),";border-radius:5px;margin-bottom:2px;cursor:pointer;")}(TrayItemWidget_S||(TrayItemWidget_S={}));var BodyWidget_S,TrayItemWidget_TrayItemWidget=function(_React$Component){!function TrayItemWidget_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&TrayItemWidget_setPrototypeOf(subClass,superClass)}(TrayItemWidget,_React$Component);var _super=TrayItemWidget_createSuper(TrayItemWidget);function TrayItemWidget(){return TrayItemWidget_classCallCheck(this,TrayItemWidget),_super.apply(this,arguments)}return function TrayItemWidget_createClass(Constructor,protoProps,staticProps){return protoProps&&TrayItemWidget_defineProperties(Constructor.prototype,protoProps),staticProps&&TrayItemWidget_defineProperties(Constructor,staticProps),Constructor}(TrayItemWidget,[{key:"render",value:function render(){var _this=this;return react.createElement(TrayItemWidget_S.Tray,{color:this.props.color,draggable:!0,onDragStart:function onDragStart(event){event.dataTransfer.setData("storm-diagram-node",JSON.stringify(_this.props.model))},className:"tray-item"},this.props.name)}}]),TrayItemWidget}(react.Component);try{TrayItemWidget_TrayItemWidget.displayName="TrayItemWidget",TrayItemWidget_TrayItemWidget.__docgenInfo={description:"",displayName:"TrayItemWidget",props:{model:{defaultValue:null,description:"",name:"model",required:!0,type:{name:"any"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["demos/demo-drag-and-drop/components/TrayItemWidget.tsx#TrayItemWidget"]={docgenInfo:TrayItemWidget_TrayItemWidget.__docgenInfo,name:"TrayItemWidget",path:"demos/demo-drag-and-drop/components/TrayItemWidget.tsx#TrayItemWidget"})}catch(__react_docgen_typescript_loader_error){}function BodyWidget_typeof(obj){return(BodyWidget_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function BodyWidget_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function BodyWidget_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function BodyWidget_setPrototypeOf(o,p){return(BodyWidget_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function BodyWidget_createSuper(Derived){var hasNativeReflectConstruct=function BodyWidget_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=BodyWidget_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=BodyWidget_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return BodyWidget_possibleConstructorReturn(this,result)}}function BodyWidget_possibleConstructorReturn(self,call){return!call||"object"!==BodyWidget_typeof(call)&&"function"!=typeof call?function BodyWidget_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function BodyWidget_getPrototypeOf(o){return(BodyWidget_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}!function(_S){_S.Body=Object(styled_base_browser_esm.a)("div",{target:"e88ag2y0",label:"Body"})({name:"1j3ugks",styles:"flex-grow:1;display:flex;flex-direction:column;min-height:100%;"}),_S.Header=Object(styled_base_browser_esm.a)("div",{target:"e88ag2y1",label:"Header"})({name:"1lx7khr",styles:"display:flex;background:rgb(30,30,30);flex-grow:0;flex-shrink:0;color:white;font-family:Helvetica,Arial,sans-serif;padding:10px;align-items:center;"}),_S.Content=Object(styled_base_browser_esm.a)("div",{target:"e88ag2y2",label:"Content"})({name:"1ilyui9",styles:"display:flex;flex-grow:1;"}),_S.Layer=Object(styled_base_browser_esm.a)("div",{target:"e88ag2y3",label:"Layer"})({name:"m4cs32",styles:"position:relative;flex-grow:1;"})}(BodyWidget_S||(BodyWidget_S={}));var BodyWidget_BodyWidget=function(_React$Component){!function BodyWidget_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&BodyWidget_setPrototypeOf(subClass,superClass)}(BodyWidget,_React$Component);var _super=BodyWidget_createSuper(BodyWidget);function BodyWidget(){return BodyWidget_classCallCheck(this,BodyWidget),_super.apply(this,arguments)}return function BodyWidget_createClass(Constructor,protoProps,staticProps){return protoProps&&BodyWidget_defineProperties(Constructor.prototype,protoProps),staticProps&&BodyWidget_defineProperties(Constructor,staticProps),Constructor}(BodyWidget,[{key:"render",value:function render(){var _this=this;return react.createElement(BodyWidget_S.Body,null,react.createElement(BodyWidget_S.Header,null,react.createElement("div",{className:"title"},"Storm React Diagrams - DnD demo")),react.createElement(BodyWidget_S.Content,null,react.createElement(TrayWidget_TrayWidget,null,react.createElement(TrayItemWidget_TrayItemWidget,{model:{type:"in"},name:"In Node",color:"rgb(192,255,0)"}),react.createElement(TrayItemWidget_TrayItemWidget,{model:{type:"out"},name:"Out Node",color:"rgb(0,192,255)"})),react.createElement(BodyWidget_S.Layer,{onDrop:function onDrop(event){var data=JSON.parse(event.dataTransfer.getData("storm-diagram-node")),nodesCount=lodash.keys(_this.props.app.getDiagramEngine().getModel().getNodes()).length,node=null;"in"===data.type?(node=new react_diagrams_dist.DefaultNodeModel("Node "+(nodesCount+1),"rgb(192,255,0)")).addInPort("In"):(node=new react_diagrams_dist.DefaultNodeModel("Node "+(nodesCount+1),"rgb(0,192,255)")).addOutPort("Out");var point=_this.props.app.getDiagramEngine().getRelativeMousePoint(event);node.setPosition(point),_this.props.app.getDiagramEngine().getModel().addNode(node),_this.forceUpdate()},onDragOver:function onDragOver(event){event.preventDefault()}},react.createElement(DemoCanvasWidget.a,null,react.createElement(dist.CanvasWidget,{engine:this.props.app.getDiagramEngine()})))))}}]),BodyWidget}(react.Component);try{BodyWidget_BodyWidget.displayName="BodyWidget",BodyWidget_BodyWidget.__docgenInfo={description:"",displayName:"BodyWidget",props:{app:{defaultValue:null,description:"",name:"app",required:!0,type:{name:"Application"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["demos/demo-drag-and-drop/components/BodyWidget.tsx#BodyWidget"]={docgenInfo:BodyWidget_BodyWidget.__docgenInfo,name:"BodyWidget",path:"demos/demo-drag-and-drop/components/BodyWidget.tsx#BodyWidget"})}catch(__react_docgen_typescript_loader_error){}function Application_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Application_Application=function(){function Application(){!function Application_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Application),this.activeModel=void 0,this.diagramEngine=void 0,this.diagramEngine=react_diagrams_dist_default.a(),this.newModel()}return function Application_createClass(Constructor,protoProps,staticProps){return protoProps&&Application_defineProperties(Constructor.prototype,protoProps),staticProps&&Application_defineProperties(Constructor,staticProps),Constructor}(Application,[{key:"newModel",value:function newModel(){this.activeModel=new react_diagrams_dist.DiagramModel,this.diagramEngine.setModel(this.activeModel);var node1=new react_diagrams_dist.DefaultNodeModel("Node 1","rgb(0,192,255)"),port=node1.addOutPort("Out");node1.setPosition(100,100);var node2=new react_diagrams_dist.DefaultNodeModel("Node 2","rgb(192,255,0)"),port2=node2.addInPort("In");node2.setPosition(400,100);var link1=port.link(port2);this.activeModel.addAll(node1,node2,link1)}},{key:"getActiveDiagram",value:function getActiveDiagram(){return this.activeModel}},{key:"getDiagramEngine",value:function getDiagramEngine(){return this.diagramEngine}}]),Application}();function demo_right_angles_routing_typeof(obj){return(demo_right_angles_routing_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function demo_right_angles_routing_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function demo_right_angles_routing_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function demo_right_angles_routing_setPrototypeOf(o,p){return(demo_right_angles_routing_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function demo_right_angles_routing_createSuper(Derived){var hasNativeReflectConstruct=function demo_right_angles_routing_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=demo_right_angles_routing_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=demo_right_angles_routing_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return demo_right_angles_routing_possibleConstructorReturn(this,result)}}function demo_right_angles_routing_possibleConstructorReturn(self,call){return!call||"object"!==demo_right_angles_routing_typeof(call)&&"function"!=typeof call?function demo_right_angles_routing_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function demo_right_angles_routing_getPrototypeOf(o){return(demo_right_angles_routing_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var demo_right_angles_routing_RightAnglePortModel=function(_DefaultPortModel){!function demo_right_angles_routing_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&demo_right_angles_routing_setPrototypeOf(subClass,superClass)}(RightAnglePortModel,_DefaultPortModel);var _super=demo_right_angles_routing_createSuper(RightAnglePortModel);function RightAnglePortModel(){return demo_right_angles_routing_classCallCheck(this,RightAnglePortModel),_super.apply(this,arguments)}return function demo_right_angles_routing_createClass(Constructor,protoProps,staticProps){return protoProps&&demo_right_angles_routing_defineProperties(Constructor.prototype,protoProps),staticProps&&demo_right_angles_routing_defineProperties(Constructor,staticProps),Constructor}(RightAnglePortModel,[{key:"createLinkModel",value:function createLinkModel(factory){return new react_diagrams_dist.RightAngleLinkModel}}]),RightAnglePortModel}(react_diagrams_dist.DefaultPortModel),react_diagrams_core_dist=__webpack_require__(50);function CreateLinkState_typeof(obj){return(CreateLinkState_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function CreateLinkState_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function CreateLinkState_setPrototypeOf(o,p){return(CreateLinkState_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function CreateLinkState_createSuper(Derived){var hasNativeReflectConstruct=function CreateLinkState_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=CreateLinkState_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=CreateLinkState_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return CreateLinkState_possibleConstructorReturn(this,result)}}function CreateLinkState_possibleConstructorReturn(self,call){return!call||"object"!==CreateLinkState_typeof(call)&&"function"!=typeof call?function CreateLinkState_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function CreateLinkState_getPrototypeOf(o){return(CreateLinkState_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var CreateLinkState_CreateLinkState=function(_State){!function CreateLinkState_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&CreateLinkState_setPrototypeOf(subClass,superClass)}(CreateLinkState,_State);var _super=CreateLinkState_createSuper(CreateLinkState);function CreateLinkState(){var _this;return function CreateLinkState_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CreateLinkState),(_this=_super.call(this,{name:"create-new-link"})).sourcePort=void 0,_this.link=void 0,_this.registerAction(new dist.Action({type:dist.InputType.MOUSE_UP,fire:function fire(actionEvent){var element=_this.engine.getActionEventBus().getModelForEvent(actionEvent),_actionEvent$event=actionEvent.event,clientX=_actionEvent$event.clientX,clientY=_actionEvent$event.clientY,ox=_this.engine.getModel().getOffsetX(),oy=_this.engine.getModel().getOffsetY();if(element instanceof react_diagrams_core_dist.PortModel&&!_this.sourcePort){_this.sourcePort=element;var link=_this.sourcePort.createLinkModel();link.setSourcePort(_this.sourcePort),link.getFirstPoint().setPosition(clientX-ox,clientY-oy),link.getLastPoint().setPosition(clientX-ox+20,clientY-oy+20),_this.link=_this.engine.getModel().addLink(link)}else element instanceof react_diagrams_core_dist.PortModel&&_this.sourcePort&&element!=_this.sourcePort?_this.sourcePort.canLinkToPort(element)&&(_this.link.setTargetPort(element),element.reportPosition(),_this.clearState(),_this.eject()):element===_this.link.getLastPoint()&&_this.link.point(clientX-ox,clientY-oy,-1);_this.engine.repaintCanvas()}})),_this.registerAction(new dist.Action({type:dist.InputType.MOUSE_MOVE,fire:function fire(actionEvent){if(_this.link){var event=actionEvent.event;_this.link.getLastPoint().setPosition(event.clientX,event.clientY),_this.engine.repaintCanvas()}}})),_this.registerAction(new dist.Action({type:dist.InputType.KEY_UP,fire:function fire(actionEvent){27===actionEvent.event.keyCode&&(_this.link.remove(),_this.clearState(),_this.eject(),_this.engine.repaintCanvas())}})),_this}return function CreateLinkState_createClass(Constructor,protoProps,staticProps){return protoProps&&CreateLinkState_defineProperties(Constructor.prototype,protoProps),staticProps&&CreateLinkState_defineProperties(Constructor,staticProps),Constructor}(CreateLinkState,[{key:"clearState",value:function clearState(){this.link=void 0,this.sourcePort=void 0}}]),CreateLinkState}(dist.State);function DefaultState_typeof(obj){return(DefaultState_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function DefaultState_setPrototypeOf(o,p){return(DefaultState_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function DefaultState_createSuper(Derived){var hasNativeReflectConstruct=function DefaultState_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=DefaultState_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=DefaultState_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return DefaultState_possibleConstructorReturn(this,result)}}function DefaultState_possibleConstructorReturn(self,call){return!call||"object"!==DefaultState_typeof(call)&&"function"!=typeof call?function DefaultState_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function DefaultState_getPrototypeOf(o){return(DefaultState_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var DefaultState_DefaultState=function(_State){!function DefaultState_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&DefaultState_setPrototypeOf(subClass,superClass)}(DefaultState,_State);var _super=DefaultState_createSuper(DefaultState);function DefaultState(){var _this;return function DefaultState_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DefaultState),(_this=_super.call(this,{name:"starting-state"})).dragCanvas=void 0,_this.createLink=void 0,_this.dragItems=void 0,_this.childStates=[new dist.SelectingState],_this.dragCanvas=new dist.DragCanvasState,_this.createLink=new CreateLinkState_CreateLinkState,_this.dragItems=new react_diagrams_core_dist.DragDiagramItemsState,_this.registerAction(new dist.Action({type:dist.InputType.MOUSE_DOWN,fire:function fire(event){var element=_this.engine.getActionEventBus().getModelForEvent(event);if(element){if(element instanceof react_diagrams_core_dist.PortModel)return;_this.transitionWithEvent(_this.dragItems,event)}else _this.transitionWithEvent(_this.dragCanvas,event)}})),_this.registerAction(new dist.Action({type:dist.InputType.MOUSE_UP,fire:function fire(event){_this.engine.getActionEventBus().getModelForEvent(event)instanceof react_diagrams_core_dist.PortModel&&_this.transitionWithEvent(_this.createLink,event)}})),_this}return DefaultState}(dist.State);dist.Toolkit.TESTING=!0;__webpack_exports__.default={title:"Advanced Usage"};var _2_AdvancedUsage_stories_CloneSelected=function(){var engine=react_diagrams_dist_default()(),model=new react_diagrams_dist.DiagramModel,node1=new react_diagrams_dist.DefaultNodeModel("Node 1","rgb(0,192,255)"),port=node1.addOutPort("Out");node1.setPosition(100,100);var node2=new react_diagrams_dist.DefaultNodeModel("Node 2","rgb(192,255,0)"),port2=node2.addInPort("In");node2.setPosition(400,100);var link1=port.link(port2);return model.addAll(node1,node2,link1),engine.setModel(model),react.createElement(demo_cloning_CloneSelected,{engine:engine,model:model})},SerializingAndDeSerializing=function(){var engine=react_diagrams_dist_default()(),model=new react_diagrams_dist.DiagramModel,node1=new react_diagrams_dist.DefaultNodeModel("Node 1","rgb(0,192,255)"),port1=node1.addOutPort("Out");node1.setPosition(100,100);var node2=new react_diagrams_dist.DefaultNodeModel("Node 2","rgb(192,255,0)"),port2=node2.addInPort("In");node2.setPosition(400,100);var link1=port1.link(port2);model.addAll(node1,node2,link1),engine.setModel(model);var str=JSON.stringify(model.serialize()),model2=new react_diagrams_dist.DiagramModel;return model2.deserializeModel(JSON.parse(str),engine),engine.setModel(model2),react.createElement(DemoWorkspaceWidget.b,{buttons:react.createElement(DemoWorkspaceWidget.a,{onClick:function onClick(){Object(addon_actions_dist.action)("Serialized Graph")(json_beautify(model2.serialize(),null,2,80))}},"Serialize Graph")},react.createElement(DemoCanvasWidget.a,null,react.createElement(dist.CanvasWidget,{engine:engine})))},ProgramaticallyModifyingGraph=function(){var engine=react_diagrams_dist_default()(),model=new react_diagrams_dist.DiagramModel,node1=new react_diagrams_dist.DefaultNodeModel("Node 1","rgb(0,192,255)"),port1=node1.addOutPort("Out");node1.setPosition(100,100);var node2=new react_diagrams_dist.DefaultNodeModel("Node 2","rgb(192,255,0)"),port2=node2.addInPort("In");node2.setPosition(400,100);var link1=port1.link(port2);return model.addAll(node1,node2,link1),engine.setModel(model),react.createElement(demo_mutate_graph_NodeDelayedPosition,{engine:engine,model:model})},DragAndDrop=function(){var app=new Application_Application;return react.createElement(BodyWidget_BodyWidget,{app:app})},SmartRouting=function(){var engine=react_diagrams_dist_default()(),model=new react_diagrams_dist.DiagramModel,node1=new react_diagrams_dist.DefaultNodeModel("Node A","rgb(0,192,255)"),port1=node1.addPort(new react_diagrams_dist.DefaultPortModel(!1,"out-1","Out"));node1.setPosition(340,350);var node2=new react_diagrams_dist.DefaultNodeModel("Node B","rgb(255,255,0)"),port2=node2.addPort(new react_diagrams_dist.DefaultPortModel(!1,"out-1","Out"));node2.setPosition(240,80);var node3=new react_diagrams_dist.DefaultNodeModel("Node C","rgb(192,255,255)"),port3=node3.addPort(new react_diagrams_dist.DefaultPortModel(!0,"in-1","In"));node3.setPosition(540,180);var node4=new react_diagrams_dist.DefaultNodeModel("Node D","rgb(192,0,255)"),port4=node4.addPort(new react_diagrams_dist.DefaultPortModel(!0,"in-1","In"));node4.setPosition(95,185);var node5=new react_diagrams_dist.DefaultNodeModel("Node E","rgb(192,255,0)");node5.setPosition(250,180);var pathfinding=engine.getLinkFactories().getFactory(react_diagrams_dist.PathFindingLinkFactory.NAME),link1=port1.link(port4,pathfinding),link2=port2.link(port3,pathfinding);return link1.addLabel(new react_diagrams_dist.DefaultLabelModel({label:"I am a label!",offsetY:20})),model.addAll(node1,node2,node3,node4,node5,link1,link2),engine.setModel(model),react.createElement(DemoWorkspaceWidget.b,{buttons:react.createElement(DemoWorkspaceWidget.a,{onClick:function onClick(){Object(addon_actions_dist.action)("Serialized Graph")(JSON.stringify(model.serialize(),null,2))}},"Serialize Graph")},react.createElement(DemoCanvasWidget.a,null,react.createElement(dist.CanvasWidget,{engine:engine})))},RightAnglesRouting=function(){var engine=react_diagrams_dist_default()();engine.getLinkFactories().registerFactory(new react_diagrams_dist.RightAngleLinkFactory);var model=new react_diagrams_dist.DiagramModel,node1=new react_diagrams_dist.DefaultNodeModel("Node A","rgb(0,192,255)"),port1=node1.addPort(new demo_right_angles_routing_RightAnglePortModel(!1,"out-1","Out"));node1.setPosition(340,350);var node2=new react_diagrams_dist.DefaultNodeModel("Node B","rgb(255,255,0)"),port2=node2.addPort(new demo_right_angles_routing_RightAnglePortModel(!1,"out-1","Out"));node2.setPosition(240,80);var node3=new react_diagrams_dist.DefaultNodeModel("Node C","rgb(192,255,255)"),port3=node3.addPort(new demo_right_angles_routing_RightAnglePortModel(!0,"in-1","In"));node3.setPosition(540,180);var node4=new react_diagrams_dist.DefaultNodeModel("Node D","rgb(192,0,255)"),port4=node4.addPort(new demo_right_angles_routing_RightAnglePortModel(!0,"in-1","In"));node4.setPosition(95,185);var link1=port1.link(port4),link2=port2.link(port3);return model.addAll(node1,node2,node3,node4,link1,link2),engine.setModel(model),react.createElement(DemoWorkspaceWidget.b,{buttons:react.createElement(DemoWorkspaceWidget.a,{onClick:function onClick(){Object(addon_actions_dist.action)("Serialized Graph")(JSON.stringify(model.serialize(),null,2))}},"Serialize Graph")},react.createElement(DemoCanvasWidget.a,null,react.createElement(dist.CanvasWidget,{engine:engine})))},LinkingByClickingInsteadOfDragging=function(){var engine=react_diagrams_dist_default()(),model=new react_diagrams_dist.DiagramModel,node1=new react_diagrams_dist.DefaultNodeModel("Node 1","rgb(0,192,255)");node1.addOutPort("Out"),node1.setPosition(100,100);var node2=new react_diagrams_dist.DefaultNodeModel("Node 2","rgb(192,255,0)");return node2.addInPort("In"),node2.setPosition(400,100),model.addAll(node1,node2),engine.setModel(model),engine.getStateMachine().pushState(new DefaultState_DefaultState),react.createElement(DemoCanvasWidget.a,null,react.createElement(dist.CanvasWidget,{engine:engine}))},SettingCustomDeleteKeys=function(){var engine=react_diagrams_dist_default()({registerDefaultDeleteItemsAction:!1}),model=new react_diagrams_dist.DiagramModel,node1=new react_diagrams_dist.DefaultNodeModel({name:"Node 1",color:"rgb(0,192,255)"});node1.setPosition(100,100);var port1=node1.addOutPort("Out"),node2=new react_diagrams_dist.DefaultNodeModel("Node 2","rgb(192,255,0)"),port2=node2.addInPort("In");node2.setPosition(400,100);var link1=port1.link(port2);return link1.getOptions().testName="Test",link1.addLabel("Hello World!"),model.addAll(node1,node2,link1),engine.setModel(model),engine.getActionEventBus().registerAction(new dist.DeleteItemsAction({keyCodes:[46]})),react.createElement(DemoCanvasWidget.a,null,react.createElement(dist.CanvasWidget,{engine:engine}))}},1027:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"CustomDiamondNode",(function(){return CustomDiamondNode})),__webpack_require__.d(__webpack_exports__,"CustomAnimatedLinks",(function(){return CustomAnimatedLinks})),__webpack_require__.d(__webpack_exports__,"CustomLinkEndsWithArrows",(function(){return CustomLinkEndsWithArrows})),__webpack_require__.d(__webpack_exports__,"CustomLinkLabel",(function(){return CustomLinkLabel})),__webpack_require__.d(__webpack_exports__,"CustomEvent",(function(){return CustomEvent}));var dist=__webpack_require__(8),react=(__webpack_require__(22),__webpack_require__(0)),react_diagrams_dist=__webpack_require__(1),react_diagrams_dist_default=__webpack_require__.n(react_diagrams_dist),DemoCanvasWidget=__webpack_require__(17);__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(2),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),__webpack_require__(21),__webpack_require__(32),__webpack_require__(30);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var S,EditableLabelModel=function(_LabelModel){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(EditableLabelModel,_LabelModel);var _super=_createSuper(EditableLabelModel);function EditableLabelModel(){var _this,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,EditableLabelModel),(_this=_super.call(this,Object.assign({},options,{type:"editable-label"}))).value=void 0,_this.value=options.value||"",_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(EditableLabelModel,[{key:"serialize",value:function serialize(){return Object.assign({},_get(_getPrototypeOf(EditableLabelModel.prototype),"serialize",this).call(this),{value:this.value})}},{key:"deserialize",value:function deserialize(event){_get(_getPrototypeOf(EditableLabelModel.prototype),"deserialize",this).call(this,event),this.value=event.data.value}}]),EditableLabelModel}(react_diagrams_dist.LabelModel),styled_base_browser_esm=(__webpack_require__(35),__webpack_require__(19),__webpack_require__(23),__webpack_require__(42),__webpack_require__(47)),addon_actions_dist=__webpack_require__(60);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}(S||(S={})).Label=Object(styled_base_browser_esm.a)("div",{target:"e12njsou0",label:"Label"})({name:"jp96su",styles:"user-select:none;pointer-events:auto;"});var EditableLabelWidget_EditableLabelWidget=function EditableLabelWidget(props){var _React$useState2=_slicedToArray(react.useState(props.model.value),2),str=_React$useState2[0],setStr=_React$useState2[1];return react.createElement(S.Label,null,react.createElement("input",{value:str,onChange:function onChange(event){var newVal=event.target.value;setStr(newVal),props.model.value=newVal}}),react.createElement("button",{onClick:function onClick(){return Object(addon_actions_dist.action)("model eventDidFire")("You clicked the button")}},"Click me!"))};EditableLabelWidget_EditableLabelWidget.displayName="EditableLabelWidget";try{EditableLabelWidget_EditableLabelWidget.displayName="EditableLabelWidget",EditableLabelWidget_EditableLabelWidget.__docgenInfo={description:"",displayName:"EditableLabelWidget",props:{model:{defaultValue:null,description:"",name:"model",required:!0,type:{name:"EditableLabelModel"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["demos/demo-custom-link-label/EditableLabelWidget.tsx#EditableLabelWidget"]={docgenInfo:EditableLabelWidget_EditableLabelWidget.__docgenInfo,name:"EditableLabelWidget",path:"demos/demo-custom-link-label/EditableLabelWidget.tsx#EditableLabelWidget"})}catch(__react_docgen_typescript_loader_error){}function EditableLabelFactory_typeof(obj){return(EditableLabelFactory_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function EditableLabelFactory_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function EditableLabelFactory_setPrototypeOf(o,p){return(EditableLabelFactory_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function EditableLabelFactory_createSuper(Derived){var hasNativeReflectConstruct=function EditableLabelFactory_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=EditableLabelFactory_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=EditableLabelFactory_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return EditableLabelFactory_possibleConstructorReturn(this,result)}}function EditableLabelFactory_possibleConstructorReturn(self,call){return!call||"object"!==EditableLabelFactory_typeof(call)&&"function"!=typeof call?function EditableLabelFactory_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function EditableLabelFactory_getPrototypeOf(o){return(EditableLabelFactory_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var EditableLabelFactory_EditableLabelFactory=function(_AbstractReactFactory){!function EditableLabelFactory_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&EditableLabelFactory_setPrototypeOf(subClass,superClass)}(EditableLabelFactory,_AbstractReactFactory);var _super=EditableLabelFactory_createSuper(EditableLabelFactory);function EditableLabelFactory(){return function EditableLabelFactory_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EditableLabelFactory),_super.call(this,"editable-label")}return function EditableLabelFactory_createClass(Constructor,protoProps,staticProps){return protoProps&&EditableLabelFactory_defineProperties(Constructor.prototype,protoProps),staticProps&&EditableLabelFactory_defineProperties(Constructor,staticProps),Constructor}(EditableLabelFactory,[{key:"generateModel",value:function generateModel(){return new EditableLabelModel}},{key:"generateReactWidget",value:function generateReactWidget(event){return react.createElement(EditableLabelWidget_EditableLabelWidget,{model:event.model})}}]),EditableLabelFactory}(dist.AbstractReactFactory),lodash=(__webpack_require__(73),__webpack_require__(15));function demo_custom_action_typeof(obj){return(demo_custom_action_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function demo_custom_action_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function demo_custom_action_setPrototypeOf(o,p){return(demo_custom_action_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function demo_custom_action_createSuper(Derived){var hasNativeReflectConstruct=function demo_custom_action_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=demo_custom_action_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=demo_custom_action_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return demo_custom_action_possibleConstructorReturn(this,result)}}function demo_custom_action_possibleConstructorReturn(self,call){return!call||"object"!==demo_custom_action_typeof(call)&&"function"!=typeof call?function demo_custom_action_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function demo_custom_action_getPrototypeOf(o){return(demo_custom_action_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var demo_custom_action_CustomDeleteItemsAction=function(_Action){!function demo_custom_action_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&demo_custom_action_setPrototypeOf(subClass,superClass)}(CustomDeleteItemsAction,_Action);var _super=demo_custom_action_createSuper(CustomDeleteItemsAction);function CustomDeleteItemsAction(){var _this,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return demo_custom_action_classCallCheck(this,CustomDeleteItemsAction),options=Object.assign({keyCodes:[46,8]},options),_this=_super.call(this,{type:dist.InputType.KEY_DOWN,fire:function fire(event){if(-1!==options.keyCodes.indexOf(event.event.keyCode)){var selectedEntities=_this.engine.getModel().getSelectedEntities();if(selectedEntities.length>0)window.confirm("Are you sure you want to delete?")&&(lodash.forEach(selectedEntities,(function(model){model.isLocked()||model.remove()})),_this.engine.repaintCanvas())}}})}return CustomDeleteItemsAction}(dist.Action);function DiamondPortModel_typeof(obj){return(DiamondPortModel_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function DiamondPortModel_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function DiamondPortModel_setPrototypeOf(o,p){return(DiamondPortModel_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function DiamondPortModel_createSuper(Derived){var hasNativeReflectConstruct=function DiamondPortModel_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=DiamondPortModel_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=DiamondPortModel_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return DiamondPortModel_possibleConstructorReturn(this,result)}}function DiamondPortModel_possibleConstructorReturn(self,call){return!call||"object"!==DiamondPortModel_typeof(call)&&"function"!=typeof call?function DiamondPortModel_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function DiamondPortModel_getPrototypeOf(o){return(DiamondPortModel_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var DiamondPortModel_DiamondPortModel=function(_PortModel){!function DiamondPortModel_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&DiamondPortModel_setPrototypeOf(subClass,superClass)}(DiamondPortModel,_PortModel);var _super=DiamondPortModel_createSuper(DiamondPortModel);function DiamondPortModel(alignment){return function DiamondPortModel_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DiamondPortModel),_super.call(this,{type:"diamond",name:alignment,alignment:alignment})}return function DiamondPortModel_createClass(Constructor,protoProps,staticProps){return protoProps&&DiamondPortModel_defineProperties(Constructor.prototype,protoProps),staticProps&&DiamondPortModel_defineProperties(Constructor,staticProps),Constructor}(DiamondPortModel,[{key:"createLinkModel",value:function createLinkModel(){return new react_diagrams_dist.DefaultLinkModel}}]),DiamondPortModel}(react_diagrams_dist.PortModel);function DiamondNodeModel_typeof(obj){return(DiamondNodeModel_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function DiamondNodeModel_setPrototypeOf(o,p){return(DiamondNodeModel_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function DiamondNodeModel_createSuper(Derived){var hasNativeReflectConstruct=function DiamondNodeModel_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=DiamondNodeModel_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=DiamondNodeModel_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return DiamondNodeModel_possibleConstructorReturn(this,result)}}function DiamondNodeModel_possibleConstructorReturn(self,call){return!call||"object"!==DiamondNodeModel_typeof(call)&&"function"!=typeof call?function DiamondNodeModel_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function DiamondNodeModel_getPrototypeOf(o){return(DiamondNodeModel_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var DiamondNodeWidget_S,DiamondNodeModel_DiamondNodeModel=function(_NodeModel){!function DiamondNodeModel_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&DiamondNodeModel_setPrototypeOf(subClass,superClass)}(DiamondNodeModel,_NodeModel);var _super=DiamondNodeModel_createSuper(DiamondNodeModel);function DiamondNodeModel(){var _this;return function DiamondNodeModel_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DiamondNodeModel),(_this=_super.call(this,{type:"diamond"})).addPort(new DiamondPortModel_DiamondPortModel(react_diagrams_dist.PortModelAlignment.TOP)),_this.addPort(new DiamondPortModel_DiamondPortModel(react_diagrams_dist.PortModelAlignment.LEFT)),_this.addPort(new DiamondPortModel_DiamondPortModel(react_diagrams_dist.PortModelAlignment.BOTTOM)),_this.addPort(new DiamondPortModel_DiamondPortModel(react_diagrams_dist.PortModelAlignment.RIGHT)),_this}return DiamondNodeModel}(react_diagrams_dist.NodeModel);function DiamondNodeWidget_typeof(obj){return(DiamondNodeWidget_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function DiamondNodeWidget_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function DiamondNodeWidget_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function DiamondNodeWidget_setPrototypeOf(o,p){return(DiamondNodeWidget_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function DiamondNodeWidget_createSuper(Derived){var hasNativeReflectConstruct=function DiamondNodeWidget_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=DiamondNodeWidget_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=DiamondNodeWidget_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return DiamondNodeWidget_possibleConstructorReturn(this,result)}}function DiamondNodeWidget_possibleConstructorReturn(self,call){return!call||"object"!==DiamondNodeWidget_typeof(call)&&"function"!=typeof call?function DiamondNodeWidget_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function DiamondNodeWidget_getPrototypeOf(o){return(DiamondNodeWidget_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}!function(_S){_S.Port=Object(styled_base_browser_esm.a)("div",{target:"ece2ctx0",label:"Port"})({name:"z6xz7y",styles:"width:16px;height:16px;z-index:10;background:rgba(0,0,0,0.5);border-radius:8px;cursor:pointer;&:hover{background:rgba(0,0,0,1);}"})}(DiamondNodeWidget_S||(DiamondNodeWidget_S={}));var DiamondNodeWidget_DiamondNodeWidget=function(_React$Component){!function DiamondNodeWidget_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&DiamondNodeWidget_setPrototypeOf(subClass,superClass)}(DiamondNodeWidget,_React$Component);var _super=DiamondNodeWidget_createSuper(DiamondNodeWidget);function DiamondNodeWidget(){return DiamondNodeWidget_classCallCheck(this,DiamondNodeWidget),_super.apply(this,arguments)}return function DiamondNodeWidget_createClass(Constructor,protoProps,staticProps){return protoProps&&DiamondNodeWidget_defineProperties(Constructor.prototype,protoProps),staticProps&&DiamondNodeWidget_defineProperties(Constructor,staticProps),Constructor}(DiamondNodeWidget,[{key:"render",value:function render(){return react.createElement("div",{className:"diamond-node",style:{position:"relative",width:this.props.size,height:this.props.size}},react.createElement("svg",{width:this.props.size,height:this.props.size,dangerouslySetInnerHTML:{__html:'\n          <g id="Layer_1">\n          </g>\n          <g id="Layer_2">\n            <polygon fill="mediumpurple" stroke="'.concat(this.props.node.isSelected()?"white":"#000000",'" stroke-width="3" stroke-miterlimit="10" points="10,')+this.props.size/2+" "+this.props.size/2+",10 "+(this.props.size-10)+","+this.props.size/2+" "+this.props.size/2+","+(this.props.size-10)+' "/>\n          </g>\n        '}}),react.createElement(react_diagrams_dist.PortWidget,{style:{top:this.props.size/2-8,left:-8,position:"absolute"},port:this.props.node.getPort(react_diagrams_dist.PortModelAlignment.LEFT),engine:this.props.engine},react.createElement(DiamondNodeWidget_S.Port,null)),react.createElement(react_diagrams_dist.PortWidget,{style:{left:this.props.size/2-8,top:-8,position:"absolute"},port:this.props.node.getPort(react_diagrams_dist.PortModelAlignment.TOP),engine:this.props.engine},react.createElement(DiamondNodeWidget_S.Port,null)),react.createElement(react_diagrams_dist.PortWidget,{style:{left:this.props.size-8,top:this.props.size/2-8,position:"absolute"},port:this.props.node.getPort(react_diagrams_dist.PortModelAlignment.RIGHT),engine:this.props.engine},react.createElement(DiamondNodeWidget_S.Port,null)),react.createElement(react_diagrams_dist.PortWidget,{style:{left:this.props.size/2-8,top:this.props.size-8,position:"absolute"},port:this.props.node.getPort(react_diagrams_dist.PortModelAlignment.BOTTOM),engine:this.props.engine},react.createElement(DiamondNodeWidget_S.Port,null)))}}]),DiamondNodeWidget}(react.Component);try{DiamondNodeWidget_DiamondNodeWidget.displayName="DiamondNodeWidget",DiamondNodeWidget_DiamondNodeWidget.__docgenInfo={description:"",displayName:"DiamondNodeWidget",props:{node:{defaultValue:null,description:"",name:"node",required:!0,type:{name:"DiamondNodeModel"}},engine:{defaultValue:null,description:"",name:"engine",required:!0,type:{name:"DiagramEngine"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["demos/demo-custom-node1/DiamondNodeWidget.tsx#DiamondNodeWidget"]={docgenInfo:DiamondNodeWidget_DiamondNodeWidget.__docgenInfo,name:"DiamondNodeWidget",path:"demos/demo-custom-node1/DiamondNodeWidget.tsx#DiamondNodeWidget"})}catch(__react_docgen_typescript_loader_error){}function DiamondNodeFactory_typeof(obj){return(DiamondNodeFactory_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function DiamondNodeFactory_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function DiamondNodeFactory_setPrototypeOf(o,p){return(DiamondNodeFactory_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function DiamondNodeFactory_createSuper(Derived){var hasNativeReflectConstruct=function DiamondNodeFactory_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=DiamondNodeFactory_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=DiamondNodeFactory_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return DiamondNodeFactory_possibleConstructorReturn(this,result)}}function DiamondNodeFactory_possibleConstructorReturn(self,call){return!call||"object"!==DiamondNodeFactory_typeof(call)&&"function"!=typeof call?function DiamondNodeFactory_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function DiamondNodeFactory_getPrototypeOf(o){return(DiamondNodeFactory_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var DiamondNodeFactory_DiamondNodeFactory=function(_AbstractReactFactory){!function DiamondNodeFactory_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&DiamondNodeFactory_setPrototypeOf(subClass,superClass)}(DiamondNodeFactory,_AbstractReactFactory);var _super=DiamondNodeFactory_createSuper(DiamondNodeFactory);function DiamondNodeFactory(){return function DiamondNodeFactory_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DiamondNodeFactory),_super.call(this,"diamond")}return function DiamondNodeFactory_createClass(Constructor,protoProps,staticProps){return protoProps&&DiamondNodeFactory_defineProperties(Constructor.prototype,protoProps),staticProps&&DiamondNodeFactory_defineProperties(Constructor,staticProps),Constructor}(DiamondNodeFactory,[{key:"generateReactWidget",value:function generateReactWidget(event){return react.createElement(DiamondNodeWidget_DiamondNodeWidget,{engine:this.engine,size:50,node:event.model})}},{key:"generateModel",value:function generateModel(event){return new DiamondNodeModel_DiamondNodeModel}}]),DiamondNodeFactory}(dist.AbstractReactFactory);function SimplePortFactory_typeof(obj){return(SimplePortFactory_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function SimplePortFactory_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function SimplePortFactory_setPrototypeOf(o,p){return(SimplePortFactory_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function SimplePortFactory_createSuper(Derived){var hasNativeReflectConstruct=function SimplePortFactory_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=SimplePortFactory_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=SimplePortFactory_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return SimplePortFactory_possibleConstructorReturn(this,result)}}function SimplePortFactory_possibleConstructorReturn(self,call){return!call||"object"!==SimplePortFactory_typeof(call)&&"function"!=typeof call?function SimplePortFactory_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function SimplePortFactory_getPrototypeOf(o){return(SimplePortFactory_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var SimplePortFactory=function(_AbstractModelFactory){!function SimplePortFactory_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&SimplePortFactory_setPrototypeOf(subClass,superClass)}(SimplePortFactory,_AbstractModelFactory);var _super=SimplePortFactory_createSuper(SimplePortFactory);function SimplePortFactory(type,cb){var _this;return function SimplePortFactory_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SimplePortFactory),(_this=_super.call(this,type)).cb=void 0,_this.cb=cb,_this}return function SimplePortFactory_createClass(Constructor,protoProps,staticProps){return protoProps&&SimplePortFactory_defineProperties(Constructor.prototype,protoProps),staticProps&&SimplePortFactory_defineProperties(Constructor,staticProps),Constructor}(SimplePortFactory,[{key:"generateModel",value:function generateModel(event){return this.cb(event.initialConfig)}}]),SimplePortFactory}(dist.AbstractModelFactory);function demo_custom_link1_typeof(obj){return(demo_custom_link1_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function demo_custom_link1_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function demo_custom_link1_createClass(Constructor,protoProps,staticProps){return protoProps&&demo_custom_link1_defineProperties(Constructor.prototype,protoProps),staticProps&&demo_custom_link1_defineProperties(Constructor,staticProps),Constructor}function demo_custom_link1_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function demo_custom_link1_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&demo_custom_link1_setPrototypeOf(subClass,superClass)}function demo_custom_link1_setPrototypeOf(o,p){return(demo_custom_link1_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function demo_custom_link1_createSuper(Derived){var hasNativeReflectConstruct=function demo_custom_link1_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=demo_custom_link1_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=demo_custom_link1_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return demo_custom_link1_possibleConstructorReturn(this,result)}}function demo_custom_link1_possibleConstructorReturn(self,call){return!call||"object"!==demo_custom_link1_typeof(call)&&"function"!=typeof call?function demo_custom_link1_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function demo_custom_link1_getPrototypeOf(o){return(demo_custom_link1_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var AdvancedLinkModel=function(_DefaultLinkModel){demo_custom_link1_inherits(AdvancedLinkModel,_DefaultLinkModel);var _super=demo_custom_link1_createSuper(AdvancedLinkModel);function AdvancedLinkModel(){return demo_custom_link1_classCallCheck(this,AdvancedLinkModel),_super.call(this,{type:"advanced",width:10})}return AdvancedLinkModel}(react_diagrams_dist.DefaultLinkModel),AdvancedPortModel=function(_DefaultPortModel){demo_custom_link1_inherits(AdvancedPortModel,_DefaultPortModel);var _super2=demo_custom_link1_createSuper(AdvancedPortModel);function AdvancedPortModel(){return demo_custom_link1_classCallCheck(this,AdvancedPortModel),_super2.apply(this,arguments)}return demo_custom_link1_createClass(AdvancedPortModel,[{key:"createLinkModel",value:function createLinkModel(){return new AdvancedLinkModel}}]),AdvancedPortModel}(react_diagrams_dist.DefaultPortModel),demo_custom_link1_AdvancedLinkSegment=function(_React$Component){demo_custom_link1_inherits(AdvancedLinkSegment,_React$Component);var _super3=demo_custom_link1_createSuper(AdvancedLinkSegment);function AdvancedLinkSegment(props){var _this;return demo_custom_link1_classCallCheck(this,AdvancedLinkSegment),(_this=_super3.call(this,props)).path=void 0,_this.circle=void 0,_this.callback=void 0,_this.percent=void 0,_this.handle=void 0,_this.mounted=void 0,_this.percent=0,_this}return demo_custom_link1_createClass(AdvancedLinkSegment,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.mounted=!0,this.callback=function(){if(_this2.circle&&_this2.path){_this2.percent+=2,_this2.percent>100&&(_this2.percent=0);var point=_this2.path.getPointAtLength(_this2.path.getTotalLength()*(_this2.percent/100));_this2.circle.setAttribute("cx",""+point.x),_this2.circle.setAttribute("cy",""+point.y),_this2.mounted&&requestAnimationFrame(_this2.callback)}},requestAnimationFrame(this.callback)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mounted=!1}},{key:"render",value:function render(){var _this3=this;return react.createElement(react.Fragment,null,react.createElement("path",{fill:"none",ref:function ref(_ref){_this3.path=_ref},strokeWidth:this.props.model.getOptions().width,stroke:"rgba(255,0,0,0.5)",d:this.props.path}),react.createElement("circle",{ref:function ref(_ref2){_this3.circle=_ref2},r:10,fill:"orange"}))}}]),AdvancedLinkSegment}(react.Component),demo_custom_link1_AdvancedLinkFactory=function(_DefaultLinkFactory){demo_custom_link1_inherits(AdvancedLinkFactory,_DefaultLinkFactory);var _super4=demo_custom_link1_createSuper(AdvancedLinkFactory);function AdvancedLinkFactory(){return demo_custom_link1_classCallCheck(this,AdvancedLinkFactory),_super4.call(this,"advanced")}return demo_custom_link1_createClass(AdvancedLinkFactory,[{key:"generateModel",value:function generateModel(){return new AdvancedLinkModel}},{key:"generateLinkSegment",value:function generateLinkSegment(model,selected,path){return react.createElement("g",null,react.createElement(demo_custom_link1_AdvancedLinkSegment,{model:model,path:path}))}}]),AdvancedLinkFactory}(react_diagrams_dist.DefaultLinkFactory);try{demo_custom_link1_AdvancedLinkSegment.displayName="AdvancedLinkSegment",demo_custom_link1_AdvancedLinkSegment.__docgenInfo={description:"",displayName:"AdvancedLinkSegment",props:{model:{defaultValue:null,description:"",name:"model",required:!0,type:{name:"AdvancedLinkModel"}},path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["demos/demo-custom-link1/index.tsx#AdvancedLinkSegment"]={docgenInfo:demo_custom_link1_AdvancedLinkSegment.__docgenInfo,name:"AdvancedLinkSegment",path:"demos/demo-custom-link1/index.tsx#AdvancedLinkSegment"})}catch(__react_docgen_typescript_loader_error){}try{democustomlink1.displayName="democustomlink1",democustomlink1.__docgenInfo={description:"Simple link styling demo",displayName:"democustomlink1",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["demos/demo-custom-link1/index.tsx#democustomlink1"]={docgenInfo:democustomlink1.__docgenInfo,name:"democustomlink1",path:"demos/demo-custom-link1/index.tsx#democustomlink1"})}catch(__react_docgen_typescript_loader_error){}var react_diagrams_core_dist=__webpack_require__(50);function demo_custom_link2_typeof(obj){return(demo_custom_link2_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function demo_custom_link2_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function demo_custom_link2_createClass(Constructor,protoProps,staticProps){return protoProps&&demo_custom_link2_defineProperties(Constructor.prototype,protoProps),staticProps&&demo_custom_link2_defineProperties(Constructor,staticProps),Constructor}function demo_custom_link2_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function demo_custom_link2_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&demo_custom_link2_setPrototypeOf(subClass,superClass)}function demo_custom_link2_setPrototypeOf(o,p){return(demo_custom_link2_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function demo_custom_link2_createSuper(Derived){var hasNativeReflectConstruct=function demo_custom_link2_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=demo_custom_link2_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=demo_custom_link2_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return demo_custom_link2_possibleConstructorReturn(this,result)}}function demo_custom_link2_possibleConstructorReturn(self,call){return!call||"object"!==demo_custom_link2_typeof(call)&&"function"!=typeof call?function demo_custom_link2_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function demo_custom_link2_getPrototypeOf(o){return(demo_custom_link2_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var demo_custom_link2_AdvancedLinkModel=function(_DefaultLinkModel){demo_custom_link2_inherits(AdvancedLinkModel,_DefaultLinkModel);var _super=demo_custom_link2_createSuper(AdvancedLinkModel);function AdvancedLinkModel(){return demo_custom_link2_classCallCheck(this,AdvancedLinkModel),_super.call(this,{type:"advanced",width:4})}return AdvancedLinkModel}(react_diagrams_dist.DefaultLinkModel),demo_custom_link2_AdvancedPortModel=function(_DefaultPortModel){demo_custom_link2_inherits(AdvancedPortModel,_DefaultPortModel);var _super2=demo_custom_link2_createSuper(AdvancedPortModel);function AdvancedPortModel(){return demo_custom_link2_classCallCheck(this,AdvancedPortModel),_super2.apply(this,arguments)}return demo_custom_link2_createClass(AdvancedPortModel,[{key:"createLinkModel",value:function createLinkModel(){return new demo_custom_link2_AdvancedLinkModel}}]),AdvancedPortModel}(react_diagrams_dist.DefaultPortModel),demo_custom_link2_CustomLinkArrowWidget=function CustomLinkArrowWidget(props){var point=props.point,previousPoint=props.previousPoint,angle=90+180*Math.atan2(point.getPosition().y-previousPoint.getPosition().y,point.getPosition().x-previousPoint.getPosition().x)/Math.PI;return react.createElement("g",{className:"arrow",transform:"translate("+point.getPosition().x+", "+point.getPosition().y+")"},react.createElement("g",{style:{transform:"rotate("+angle+"deg)"}},react.createElement("g",{transform:"translate(0, -3)"},react.createElement("polygon",{points:"0,10 8,30 -8,30",fill:props.color,"data-id":point.getID(),"data-linkid":point.getLink().getID()}))))};demo_custom_link2_CustomLinkArrowWidget.displayName="CustomLinkArrowWidget";var demo_custom_link2_AdvancedLinkWidget=function(_DefaultLinkWidget){demo_custom_link2_inherits(AdvancedLinkWidget,_DefaultLinkWidget);var _super3=demo_custom_link2_createSuper(AdvancedLinkWidget);function AdvancedLinkWidget(){return demo_custom_link2_classCallCheck(this,AdvancedLinkWidget),_super3.apply(this,arguments)}return demo_custom_link2_createClass(AdvancedLinkWidget,[{key:"generateArrow",value:function generateArrow(point,previousPoint){return react.createElement(demo_custom_link2_CustomLinkArrowWidget,{key:point.getID(),point:point,previousPoint:previousPoint,colorSelected:this.props.link.getOptions().selectedColor,color:this.props.link.getOptions().color})}},{key:"render",value:function render(){var _this=this,points=this.props.link.getPoints(),paths=[];this.refPaths=[];for(var _loop=function _loop(j){paths.push(_this.generateLink(react_diagrams_core_dist.LinkWidget.generateLinePath(points[j],points[j+1]),{"data-linkid":_this.props.link.getID(),"data-point":j,onMouseDown:function onMouseDown(event){_this.addPointToLink(event,j+1)}},j))},j=0;j<points.length-1;j++)_loop(j);for(var i=1;i<points.length-1;i++)paths.push(this.generatePoint(points[i]));return null!==this.props.link.getTargetPort()?paths.push(this.generateArrow(points[points.length-1],points[points.length-2])):paths.push(this.generatePoint(points[points.length-1])),react.createElement("g",{"data-default-link-test":this.props.link.getOptions().testName},paths)}}]),AdvancedLinkWidget}(react_diagrams_dist.DefaultLinkWidget),demo_custom_link2_AdvancedLinkFactory=function(_DefaultLinkFactory){demo_custom_link2_inherits(AdvancedLinkFactory,_DefaultLinkFactory);var _super4=demo_custom_link2_createSuper(AdvancedLinkFactory);function AdvancedLinkFactory(){return demo_custom_link2_classCallCheck(this,AdvancedLinkFactory),_super4.call(this,"advanced")}return demo_custom_link2_createClass(AdvancedLinkFactory,[{key:"generateModel",value:function generateModel(){return new demo_custom_link2_AdvancedLinkModel}},{key:"generateReactWidget",value:function generateReactWidget(event){return react.createElement(demo_custom_link2_AdvancedLinkWidget,{link:event.model,diagramEngine:this.engine})}}]),AdvancedLinkFactory}(react_diagrams_dist.DefaultLinkFactory);try{demo_custom_link2_AdvancedLinkWidget.displayName="AdvancedLinkWidget",demo_custom_link2_AdvancedLinkWidget.__docgenInfo={description:"",displayName:"AdvancedLinkWidget",props:{link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"DefaultLinkModel"}},diagramEngine:{defaultValue:null,description:"",name:"diagramEngine",required:!0,type:{name:"DiagramEngine"}},pointAdded:{defaultValue:null,description:"",name:"pointAdded",required:!1,type:{name:"(point: PointModel<PointModelGenerics>, event: MouseEvent<Element, MouseEvent>) => any"}},renderPoints:{defaultValue:null,description:"",name:"renderPoints",required:!1,type:{name:"boolean"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"(event: MouseEvent<Element, MouseEvent>) => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["demos/demo-custom-link2/index.tsx#AdvancedLinkWidget"]={docgenInfo:demo_custom_link2_AdvancedLinkWidget.__docgenInfo,name:"AdvancedLinkWidget",path:"demos/demo-custom-link2/index.tsx#AdvancedLinkWidget"})}catch(__react_docgen_typescript_loader_error){}try{democustomlink2.displayName="democustomlink2",democustomlink2.__docgenInfo={description:"Simple link styling demo",displayName:"democustomlink2",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["demos/demo-custom-link2/index.tsx#democustomlink2"]={docgenInfo:democustomlink2.__docgenInfo,name:"democustomlink2",path:"demos/demo-custom-link2/index.tsx#democustomlink2"})}catch(__react_docgen_typescript_loader_error){}dist.Toolkit.TESTING=!0;__webpack_exports__.default={title:"Customization"};var CustomDiamondNode=function(){var engine=react_diagrams_dist_default()();engine.getPortFactories().registerFactory(new SimplePortFactory("diamond",(function(config){return new DiamondPortModel_DiamondPortModel(react_diagrams_dist.PortModelAlignment.LEFT)}))),engine.getNodeFactories().registerFactory(new DiamondNodeFactory_DiamondNodeFactory);var model=new react_diagrams_dist.DiagramModel,node1=new react_diagrams_dist.DefaultNodeModel("Node 1","rgb(0,192,255)"),port1=node1.addOutPort("Out");node1.setPosition(100,200);var node2=new DiamondNodeModel_DiamondNodeModel;node2.setPosition(250,108);var node3=new react_diagrams_dist.DefaultNodeModel("Node 3","red"),port3=node3.addInPort("In");node3.setPosition(500,100);var link1=port1.link(node2.getPort(react_diagrams_dist.PortModelAlignment.LEFT)),link2=port3.link(node2.getPort(react_diagrams_dist.PortModelAlignment.RIGHT)),node4=new react_diagrams_dist.DefaultNodeModel("Node 4","rgb(0,192,255)"),port4=node4.addOutPort("Out");node4.setPosition(200,10);var link3=port4.link(node2.getPort(react_diagrams_dist.PortModelAlignment.TOP)),node5=new react_diagrams_dist.DefaultNodeModel("Node 5","mediumpurple"),port5=node5.addInPort("In");node5.setPosition(400,300);var link4=port5.link(node2.getPort(react_diagrams_dist.PortModelAlignment.BOTTOM));return model.addAll(node1,node2,node3,link1,link2,node4,link3,link4,node5),engine.setModel(model),react.createElement(DemoCanvasWidget.a,null,react.createElement(dist.CanvasWidget,{engine:engine}))},CustomAnimatedLinks=function(){var engine=react_diagrams_dist_default()();engine.getLinkFactories().registerFactory(new demo_custom_link1_AdvancedLinkFactory);var node1=new react_diagrams_dist.DefaultNodeModel("Source","rgb(0,192,255)"),port1=node1.addPort(new AdvancedPortModel(!1,"out-1","Out thick")),port2=node1.addPort(new react_diagrams_dist.DefaultPortModel(!1,"out-2","Out default"));node1.setPosition(100,100);var node2=new react_diagrams_dist.DefaultNodeModel("Target","rgb(192,255,0)"),port3=node2.addPort(new AdvancedPortModel(!0,"in-1","In thick")),port4=node2.addPort(new react_diagrams_dist.DefaultPortModel(!0,"in-2","In default"));node2.setPosition(300,100);var node3=new react_diagrams_dist.DefaultNodeModel("Source","rgb(0,192,255)");node3.addPort(new AdvancedPortModel(!1,"out-1","Out thick")),node3.addPort(new react_diagrams_dist.DefaultPortModel(!1,"out-2","Out default")),node3.setPosition(100,200);var node4=new react_diagrams_dist.DefaultNodeModel("Target","rgb(192,255,0)");node4.addPort(new AdvancedPortModel(!0,"in-1","In thick")),node4.addPort(new react_diagrams_dist.DefaultPortModel(!0,"in-2","In default")),node4.setPosition(300,200);var model=new react_diagrams_dist.DiagramModel;return model.addAll(port1.link(port3),port2.link(port4)),model.addAll(node1,node2,node3,node4),engine.setModel(model),react.createElement(DemoCanvasWidget.a,null,react.createElement(dist.CanvasWidget,{engine:engine}))},CustomLinkEndsWithArrows=function(){var engine=react_diagrams_dist_default()();engine.getLinkFactories().registerFactory(new demo_custom_link2_AdvancedLinkFactory);var node1=new react_diagrams_dist.DefaultNodeModel("Source","rgb(0,192,255)"),port1=node1.addPort(new demo_custom_link2_AdvancedPortModel(!1,"out"));node1.setPosition(100,100);var node2=new react_diagrams_dist.DefaultNodeModel("Target","rgb(192,255,0)"),port2=node2.addPort(new demo_custom_link2_AdvancedPortModel(!0,"in"));node2.setPosition(500,350);var node3=new react_diagrams_dist.DefaultNodeModel("Source","rgb(0,192,255)"),port3=node3.addPort(new demo_custom_link2_AdvancedPortModel(!1,"out"));node3.setPosition(100,500);var node4=new react_diagrams_dist.DefaultNodeModel("Target","rgb(192,255,0)"),port4=node4.addPort(new demo_custom_link2_AdvancedPortModel(!0,"in"));node4.setPosition(500,450);var model=new react_diagrams_dist.DiagramModel;return model.addAll(port1.link(port2),port3.link(port4)),model.addAll(node1,node2,node3,node4),engine.setModel(model),react.createElement(DemoCanvasWidget.a,null,react.createElement(dist.CanvasWidget,{engine:engine}))},CustomLinkLabel=function(){var engine=react_diagrams_dist_default()();engine.getLabelFactories().registerFactory(new EditableLabelFactory_EditableLabelFactory);var model=new react_diagrams_dist.DiagramModel,node1=new react_diagrams_dist.DefaultNodeModel("Node1","red"),port1=node1.addOutPort("out");node1.setPosition(250,100);var node2=new react_diagrams_dist.DefaultNodeModel("Node2","green"),port2=node2.addInPort("in");node2.setPosition(800,300);var link1=port1.link(port2);return link1.addLabel(new EditableLabelModel({value:"Hello, I am label!"})),model.addAll(node1,port1,node2,port2,link1),engine.setModel(model),react.createElement(DemoCanvasWidget.a,null,react.createElement(dist.CanvasWidget,{engine:engine}))},CustomEvent=function(){var engine=react_diagrams_dist_default()({registerDefaultDeleteItemsAction:!1}),model=new react_diagrams_dist.DiagramModel,node1=new react_diagrams_dist.DefaultNodeModel({name:"Node 1",color:"rgb(0,192,255)"});node1.setPosition(100,100);var port1=node1.addOutPort("Out"),node2=new react_diagrams_dist.DefaultNodeModel("Node 2","rgb(192,255,0)"),port2=node2.addInPort("In");node2.setPosition(400,100);var link1=port1.link(port2);return link1.getOptions().testName="Test",link1.addLabel("Hello World!"),model.addAll(node1,node2,link1),engine.setModel(model),engine.getActionEventBus().registerAction(new demo_custom_action_CustomDeleteItemsAction),react.createElement(DemoCanvasWidget.a,null,react.createElement(dist.CanvasWidget,{engine:engine}))}},1028:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DemoSimple",(function(){return DemoSimple})),__webpack_require__.d(__webpack_exports__,"SimpleFlowExample",(function(){return SimpleFlowExample})),__webpack_require__.d(__webpack_exports__,"PerformanceDemo",(function(){return PerformanceDemo})),__webpack_require__.d(__webpack_exports__,"LockedWidget",(function(){return LockedWidget})),__webpack_require__.d(__webpack_exports__,"CanvasGridSize",(function(){return CanvasGridSize})),__webpack_require__.d(__webpack_exports__,"EventsAndListeners",(function(){return EventsAndListeners})),__webpack_require__.d(__webpack_exports__,"ZoomToFit",(function(){return ZoomToFit})),__webpack_require__.d(__webpack_exports__,"ZoomToFitSelectNodes",(function(){return ZoomToFitSelectNodes})),__webpack_require__.d(__webpack_exports__,"CanvasDrag",(function(){return CanvasDrag})),__webpack_require__.d(__webpack_exports__,"DynamicPorts",(function(){return DynamicPorts})),__webpack_require__.d(__webpack_exports__,"LinksWithLabels",(function(){return LinksWithLabels}));var dist=__webpack_require__(8),react_diagrams_dist=(__webpack_require__(22),__webpack_require__(1)),react_diagrams_dist_default=__webpack_require__.n(react_diagrams_dist),react=__webpack_require__(0),DemoCanvasWidget=__webpack_require__(17);function generateNodes(model,offsetX,offsetY){var node1=new react_diagrams_dist.DefaultNodeModel("Node 1","rgb(0,192,255)"),port1=node1.addOutPort("Out");node1.setPosition(100+offsetX,100+offsetY);var node2=new react_diagrams_dist.DefaultNodeModel("Node 2","rgb(192,255,0)"),port2=node2.addInPort("In");node2.setPosition(200+offsetX,100+offsetY);var link1=port1.link(port2);model.addAll(node1,node2,link1)}try{demoperformance.displayName="demoperformance",demoperformance.__docgenInfo={description:"Simple stress test of the system, shows that it can handle many nodes, and\nretain good performance",displayName:"demoperformance",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["demos/demo-performance/index.tsx#demoperformance"]={docgenInfo:demoperformance.__docgenInfo,name:"demoperformance",path:"demos/demo-performance/index.tsx#demoperformance"})}catch(__react_docgen_typescript_loader_error){}try{demolocks.displayName="demolocks",demolocks.__docgenInfo={description:"Shows how you can lock down the system so that the entire scene cant be interacted with.",displayName:"demolocks",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["demos/demo-locks/index.tsx#demolocks"]={docgenInfo:demolocks.__docgenInfo,name:"demolocks",path:"demos/demo-locks/index.tsx#demolocks"})}catch(__react_docgen_typescript_loader_error){}try{demogrid.displayName="demogrid",demogrid.__docgenInfo={description:"Tests the grid size",displayName:"demogrid",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["demos/demo-grid/index.tsx#demogrid"]={docgenInfo:demogrid.__docgenInfo,name:"demogrid",path:"demos/demo-grid/index.tsx#demogrid"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(25),__webpack_require__(26);var addon_actions_dist=__webpack_require__(60);try{demolisteners.displayName="demolisteners",demolisteners.__docgenInfo={description:"Shows some of the events triggered when elements are selected",displayName:"demolisteners",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["demos/demo-listeners/index.tsx#demolisteners"]={docgenInfo:demolisteners.__docgenInfo,name:"demolisteners",path:"demos/demo-listeners/index.tsx#demolisteners"})}catch(__react_docgen_typescript_loader_error){}var DemoWorkspaceWidget=__webpack_require__(20);function demo_zoom_to_fit_generateNodes(model,offsetX,offsetY){var node1=new react_diagrams_dist.DefaultNodeModel("Node 1","rgb(0,192,255)"),port1=node1.addOutPort("Out");node1.setPosition(100+offsetX,100+offsetY);var node2=new react_diagrams_dist.DefaultNodeModel("Node 2","rgb(192,255,0)"),port2=node2.addInPort("In");node2.setPosition(200+offsetX,100+offsetY);var link1=port1.link(port2);model.addAll(node1,node2,link1)}try{demozoomtofit.displayName="demozoomtofit",demozoomtofit.__docgenInfo={description:"Simple stress test of the system plus zoom to fit function",displayName:"demozoomtofit",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["demos/demo-zoom-to-fit/index.tsx#demozoomtofit"]={docgenInfo:demozoomtofit.__docgenInfo,name:"demozoomtofit",path:"demos/demo-zoom-to-fit/index.tsx#demozoomtofit"})}catch(__react_docgen_typescript_loader_error){}function demo_zoom_to_fit_nodes_generateNodes(model,offsetX,offsetY){var node1=new react_diagrams_dist.DefaultNodeModel("Node 1","rgb(0,192,255)"),port1=node1.addOutPort("Out");node1.setPosition(100+offsetX,100+offsetY);var node2=new react_diagrams_dist.DefaultNodeModel("Node 2","rgb(192,255,0)"),port2=node2.addInPort("In");node2.setPosition(200+offsetX,100+offsetY);var link1=port1.link(port2);model.addAll(node1,node2,link1)}try{demozoomtofitnodes.displayName="demozoomtofitnodes",demozoomtofitnodes.__docgenInfo={description:"Simple stress test of the system plus zoom to fit function",displayName:"demozoomtofitnodes",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["demos/demo-zoom-to-fit-nodes/index.tsx#demozoomtofitnodes"]={docgenInfo:demozoomtofitnodes.__docgenInfo,name:"demozoomtofitnodes",path:"demos/demo-zoom-to-fit-nodes/index.tsx#demozoomtofitnodes"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(31),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(2),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var demo_canvas_drag_CanvasDragToggle=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(CanvasDragToggle,_React$Component);var _super=_createSuper(CanvasDragToggle);function CanvasDragToggle(){var _this;_classCallCheck(this,CanvasDragToggle);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).enableDrag=function(){_this.props.engine.getStateMachine().getCurrentState().dragCanvas.config.allowDrag=!0},_this.disableDrag=function(){_this.props.engine.getStateMachine().getCurrentState().dragCanvas.config.allowDrag=!1},_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(CanvasDragToggle,[{key:"render",value:function render(){var engine=this.props.engine;return react.createElement(DemoWorkspaceWidget.b,{buttons:[react.createElement(DemoWorkspaceWidget.a,{key:1,onClick:this.enableDrag},"Enable canvas drag"),react.createElement(DemoWorkspaceWidget.a,{key:2,onClick:this.disableDrag},"Disable canvas drag")]},react.createElement(DemoCanvasWidget.a,null,react.createElement(dist.CanvasWidget,{engine:engine})))}}]),CanvasDragToggle}(react.Component),lodash=(__webpack_require__(23),__webpack_require__(19),__webpack_require__(42),__webpack_require__(35),__webpack_require__(15));function demo_dynamic_ports_typeof(obj){return(demo_dynamic_ports_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function demo_dynamic_ports_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function demo_dynamic_ports_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function demo_dynamic_ports_setPrototypeOf(o,p){return(demo_dynamic_ports_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function demo_dynamic_ports_createSuper(Derived){var hasNativeReflectConstruct=function demo_dynamic_ports_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=demo_dynamic_ports_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=demo_dynamic_ports_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return demo_dynamic_ports_possibleConstructorReturn(this,result)}}function demo_dynamic_ports_possibleConstructorReturn(self,call){return!call||"object"!==demo_dynamic_ports_typeof(call)&&"function"!=typeof call?function demo_dynamic_ports_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function demo_dynamic_ports_getPrototypeOf(o){return(demo_dynamic_ports_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var demo_dynamic_ports_CloneSelected=function(_React$Component){!function demo_dynamic_ports_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&demo_dynamic_ports_setPrototypeOf(subClass,superClass)}(CloneSelected,_React$Component);var _super=demo_dynamic_ports_createSuper(CloneSelected);function CloneSelected(){var _this;demo_dynamic_ports_classCallCheck(this,CloneSelected);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).addPorts=function(){var _step,_iterator=_createForOfIteratorHelper(lodash.values(_this.props.model.getNodes()));try{for(_iterator.s();!(_step=_iterator.n()).done;){var node=_step.value;"Node 2"===node.getOptions().name?node.addInPort("in-".concat(node.getInPorts().length+1),!1):node.addOutPort("out-".concat(node.getOutPorts().length+1),!1)}}catch(err){_iterator.e(err)}finally{_iterator.f()}_this.props.engine.repaintCanvas()},_this}return function demo_dynamic_ports_createClass(Constructor,protoProps,staticProps){return protoProps&&demo_dynamic_ports_defineProperties(Constructor.prototype,protoProps),staticProps&&demo_dynamic_ports_defineProperties(Constructor,staticProps),Constructor}(CloneSelected,[{key:"render",value:function render(){var engine=this.props.engine;return react.createElement(DemoWorkspaceWidget.b,{buttons:react.createElement(DemoWorkspaceWidget.a,{onClick:this.addPorts},"Add more ports")},react.createElement(DemoCanvasWidget.a,null,react.createElement(dist.CanvasWidget,{engine:engine})))}}]),CloneSelected}(react.Component);dist.Toolkit.TESTING=!0;__webpack_exports__.default={title:"Simple Usage"};var DemoSimple=function(){var engine=react_diagrams_dist_default()(),model=new react_diagrams_dist.DiagramModel,node1=new react_diagrams_dist.DefaultNodeModel({name:"Node 1",color:"rgb(0,192,255)"});node1.setPosition(100,100);var port1=node1.addOutPort("Out"),node2=new react_diagrams_dist.DefaultNodeModel("Node 2","rgb(192,255,0)"),port2=node2.addInPort("In");node2.setPosition(400,100);var link1=port1.link(port2);return link1.getOptions().testName="Test",link1.addLabel("Hello World!"),model.addAll(node1,node2,link1),engine.setModel(model),react.createElement(DemoCanvasWidget.a,null,react.createElement(dist.CanvasWidget,{engine:engine}))},SimpleFlowExample=function(){var engine=react_diagrams_dist_default()(),state=engine.getStateMachine().getCurrentState();state instanceof react_diagrams_dist.DefaultDiagramState&&(state.dragNewLink.config.allowLooseLinks=!1);var model=new react_diagrams_dist.DiagramModel,node1=new react_diagrams_dist.DefaultNodeModel("Node 1","rgb(0,192,255)"),port1=node1.addOutPort("Out");node1.setPosition(100,100);var node2=new react_diagrams_dist.DefaultNodeModel("Node 2","rgb(192,255,0)"),port2=node2.addInPort("In");node2.setPosition(400,100);var link1=port1.link(port2),node3=new react_diagrams_dist.DefaultNodeModel("Node 3","rgb(0,192,255)");return node3.addOutPort("Out"),node3.setPosition(100,200),model.addAll(node1,node2,node3,link1),engine.setModel(model),react.createElement(DemoCanvasWidget.a,null,react.createElement(dist.CanvasWidget,{engine:engine}))},PerformanceDemo=function(){for(var engine=react_diagrams_dist_default()(),model=new react_diagrams_dist.DiagramModel,i=0;i<8;i++)for(var j=0;j<8;j++)generateNodes(model,200*i,100*j);return engine.setModel(model),react.createElement(DemoCanvasWidget.a,null,react.createElement(dist.CanvasWidget,{engine:engine}))},LockedWidget=function(){var engine=react_diagrams_dist_default()(),model=new react_diagrams_dist.DiagramModel,node1=new react_diagrams_dist.DefaultNodeModel("Node 1","rgb(0,192,255)"),port1=node1.addOutPort("Out");node1.setPosition(100,100);var node2=new react_diagrams_dist.DefaultNodeModel("Node 2","rgb(192,255,0)"),port2=node2.addInPort("In");node2.setPosition(400,100);var link1=port1.link(port2);model.addAll(node1,node2,link1);var node3=new react_diagrams_dist.DefaultNodeModel("Node 3","rgb(0,192,255)"),port3=node3.addOutPort("Out");node3.setPosition(100,250);var node4=new react_diagrams_dist.DefaultNodeModel("Node 4","rgb(192,255,0)"),port4=node4.addInPort("In");node4.setPosition(400,250);var link2=port3.link(port4);return link2.point(350,225),link2.point(200,225),model.addAll(node3,node4,link2),engine.setModel(model),model.setLocked(!0),react.createElement(DemoCanvasWidget.a,null,react.createElement(dist.CanvasWidget,{engine:engine}))},CanvasGridSize=function(){var engine=react_diagrams_dist_default()(),model=new react_diagrams_dist.DiagramModel;model.setGridSize(50);var node1=new react_diagrams_dist.DefaultNodeModel("Node 1","rgb(0,192,255)"),port=node1.addOutPort("Out");node1.setPosition(100,100);var node2=new react_diagrams_dist.DefaultNodeModel("Node 2","rgb(192,255,0)"),port2=node2.addInPort("In");node2.setPosition(400,100);var link1=port.link(port2);return model.addAll(node1,node2,link1),engine.setModel(model),react.createElement(DemoCanvasWidget.a,null,react.createElement(dist.CanvasWidget,{engine:engine}))},EventsAndListeners=function(){var engine=react_diagrams_dist_default()(),model=new react_diagrams_dist.DiagramModel,node1=new react_diagrams_dist.DefaultNodeModel("Node 1","rgb(255,99,66)"),port1=node1.addOutPort("Out");node1.setPosition(100,100);var node2=new react_diagrams_dist.DefaultNodeModel("Node 2","rgb(192,255,0)"),port2=node2.addInPort("In");node2.setPosition(400,40);var node3=new react_diagrams_dist.DefaultNodeModel("Node 3","rgb(128,99,255)"),port3=node3.addInPort("In");node3.setPosition(300,160);var link1=port1.link(port2),link2=port1.link(port3);return model.addAll(node1,node2,node3,link1,link2).forEach((function(item){item.registerListener({eventDidFire:Object(addon_actions_dist.action)("element eventDidFire")})})),model.registerListener({eventDidFire:Object(addon_actions_dist.action)("model eventDidFire")}),engine.setModel(model),react.createElement(DemoCanvasWidget.a,null,react.createElement(dist.CanvasWidget,{engine:engine}))},ZoomToFit=function(){for(var engine=react_diagrams_dist_default()(),model=new react_diagrams_dist.DiagramModel,i=0;i<8;i++)for(var j=0;j<8;j++)demo_zoom_to_fit_generateNodes(model,200*i,100*j);return engine.setModel(model),react.createElement(DemoWorkspaceWidget.b,{buttons:react.createElement(DemoWorkspaceWidget.a,{onClick:function onClick(){return engine.zoomToFit()}},"Zoom to fit")},react.createElement(DemoCanvasWidget.a,null,react.createElement(dist.CanvasWidget,{engine:engine})))},ZoomToFitSelectNodes=function(){for(var engine=react_diagrams_dist_default()(),model=new react_diagrams_dist.DiagramModel,i=0;i<8;i++)for(var j=0;j<8;j++)demo_zoom_to_fit_nodes_generateNodes(model,200*i,100*j);return engine.setModel(model),react.createElement(DemoWorkspaceWidget.b,{buttons:react.createElement(DemoWorkspaceWidget.a,{onClick:function onClick(){return engine.zoomToFitSelectedNodes(50)}},"Zoom to fit")},react.createElement(DemoCanvasWidget.a,null,react.createElement(dist.CanvasWidget,{engine:engine})))},CanvasDrag=function(){var engine=react_diagrams_dist_default()(),model=new react_diagrams_dist.DiagramModel,node1=new react_diagrams_dist.DefaultNodeModel("Node 1","rgb(0,192,255)"),port1=node1.addOutPort("Out");node1.setPosition(100,100);var node2=new react_diagrams_dist.DefaultNodeModel("Node 2","rgb(192,255,0)"),port2=node2.addInPort("In");node2.setPosition(400,100);var link1=port1.link(port2);return model.addAll(node1,node2,link1),engine.setModel(model),react.createElement(demo_canvas_drag_CanvasDragToggle,{engine:engine,model:model})},DynamicPorts=function(){var engine=react_diagrams_dist_default()(),model=new react_diagrams_dist.DiagramModel,node1=new react_diagrams_dist.DefaultNodeModel("Node 1","rgb(0,192,255)");node1.setPosition(100,100);var node2=new react_diagrams_dist.DefaultNodeModel("Node 2","rgb(192,255,0)");return node2.setPosition(400,100),model.addAll(node1,node2),engine.setModel(model),react.createElement(demo_dynamic_ports_CloneSelected,{engine:engine,model:model})},LinksWithLabels=function(){var engine=react_diagrams_dist_default()(),model=new react_diagrams_dist.DiagramModel,node1=new react_diagrams_dist.DefaultNodeModel("Node A","rgb(0,192,255)"),port1=node1.addOutPort("Out");node1.setPosition(100,100);var node2=new react_diagrams_dist.DefaultNodeModel("Node B","rgb(255,255,0)"),port2=node2.addInPort("In");node2.setPosition(400,50);var node3=new react_diagrams_dist.DefaultNodeModel("Node C (no label)","rgb(192,255,255)"),port3=node3.addInPort("In");node3.setPosition(450,180);var node4=new react_diagrams_dist.DefaultNodeModel("Node D","rgb(192,0,255)"),port4=node4.addInPort("In");node4.setPosition(300,250);var link1=port1.link(port2);link1.addLabel("Custom label 1"),link1.addLabel("Custom label 2");var link2=port1.link(port3),link3=port1.link(port4);return link3.addLabel("Emoji label: "),model.addAll(node1,node2,node3,node4,link1,link2,link3),engine.setModel(model),react.createElement(DemoWorkspaceWidget.b,{buttons:react.createElement(DemoWorkspaceWidget.a,{onClick:function onClick(){Object(addon_actions_dist.action)("Serialized Graph")(JSON.stringify(model.serializeDiagram(),null,2))}},"Serialize Graph")},react.createElement(DemoCanvasWidget.a,null,react.createElement(dist.CanvasWidget,{engine:engine})))}},1029:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DagreDistribute",(function(){return DagreDistribute})),__webpack_require__.d(__webpack_exports__,"GsapAnimation",(function(){return GsapAnimation}));var dist=__webpack_require__(8),react_diagrams_dist=(__webpack_require__(31),__webpack_require__(23),__webpack_require__(22),__webpack_require__(526),__webpack_require__(29),__webpack_require__(25),__webpack_require__(26),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(2),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),__webpack_require__(1)),react_diagrams_dist_default=__webpack_require__.n(react_diagrams_dist),react=__webpack_require__(0),DemoWorkspaceWidget=__webpack_require__(20),DemoCanvasWidget=__webpack_require__(17);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function createNode(name){return new react_diagrams_dist.DefaultNodeModel(name,"rgb(0,192,255)")}var count=0;function connectNodes(nodeFrom,nodeTo,engine){count++;var portOut=nodeFrom.addPort(new react_diagrams_dist.DefaultPortModel(!0,"".concat(nodeFrom.name,"-out-").concat(count),"Out")),portTo=nodeTo.addPort(new react_diagrams_dist.DefaultPortModel(!1,"".concat(nodeFrom.name,"-to-").concat(count),"IN"));return portOut.link(portTo)}var demo_dagre_DemoWidget=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DemoWidget,_React$Component);var _super=_createSuper(DemoWidget);function DemoWidget(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DemoWidget),(_this=_super.call(this,props)).engine=void 0,_this.autoDistribute=function(){_this.engine.redistribute(_this.props.model),_this.reroute(),_this.props.engine.repaintCanvas()},_this.engine=new react_diagrams_dist.DagreEngine({graph:{rankdir:"RL",ranker:"longest-path",marginx:25,marginy:25},includeLinks:!0}),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DemoWidget,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;setTimeout((function(){_this2.autoDistribute()}),500)}},{key:"reroute",value:function reroute(){this.props.engine.getLinkFactories().getFactory(react_diagrams_dist.PathFindingLinkFactory.NAME).calculateRoutingMatrix()}},{key:"render",value:function render(){return react.createElement(DemoWorkspaceWidget.b,{buttons:react.createElement(DemoWorkspaceWidget.a,{onClick:this.autoDistribute},"Re-distribute")},react.createElement(DemoCanvasWidget.a,null,react.createElement(dist.CanvasWidget,{engine:this.props.engine})))}}]),DemoWidget}(react.Component),gsap=__webpack_require__(528);function demo_animation_typeof(obj){return(demo_animation_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function demo_animation_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function demo_animation_setPrototypeOf(o,p){return(demo_animation_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function demo_animation_createSuper(Derived){var hasNativeReflectConstruct=function demo_animation_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=demo_animation_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=demo_animation_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return demo_animation_possibleConstructorReturn(this,result)}}function demo_animation_possibleConstructorReturn(self,call){return!call||"object"!==demo_animation_typeof(call)&&"function"!=typeof call?function demo_animation_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function demo_animation_getPrototypeOf(o){return(demo_animation_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var demo_animation_NodeDelayedPosition=function(_React$Component){!function demo_animation_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&demo_animation_setPrototypeOf(subClass,superClass)}(NodeDelayedPosition,_React$Component);var _super=demo_animation_createSuper(NodeDelayedPosition);function NodeDelayedPosition(props){return function demo_animation_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NodeDelayedPosition),_super.call(this,props)}return function demo_animation_createClass(Constructor,protoProps,staticProps){return protoProps&&demo_animation_defineProperties(Constructor.prototype,protoProps),staticProps&&demo_animation_defineProperties(Constructor,staticProps),Constructor}(NodeDelayedPosition,[{key:"render",value:function render(){var engine=this.props.engine;return react.createElement(DemoWorkspaceWidget.b,null,react.createElement(DemoCanvasWidget.a,null,react.createElement(dist.CanvasWidget,{engine:engine})))}}]),NodeDelayedPosition}(react.Component);dist.Toolkit.TESTING=!0;__webpack_exports__.default={title:"External Libs"};var DagreDistribute=function(){var engine=react_diagrams_dist_default()(),model=new react_diagrams_dist.DiagramModel,nodesFrom=[],nodesTo=[];nodesFrom.push(createNode("from-1")),nodesFrom.push(createNode("from-2")),nodesFrom.push(createNode("from-3")),nodesTo.push(createNode("to-1")),nodesTo.push(createNode("to-2")),nodesTo.push(createNode("to-3"));var links=nodesFrom.map((function(node,index){return connectNodes(node,nodesTo[index])}));return links.push(connectNodes(nodesFrom[0],nodesTo[1])),links.push(connectNodes(nodesTo[0],nodesFrom[1])),links.push(connectNodes(nodesFrom[1],nodesTo[2])),nodesFrom.forEach((function(node,index){node.setPosition(70*index,70*index),model.addNode(node)})),nodesTo.forEach((function(node,index){node.setPosition(70*index,100),model.addNode(node)})),links.forEach((function(link){model.addLink(link)})),engine.setModel(model),react.createElement(demo_dagre_DemoWidget,{model:model,engine:engine})},GsapAnimation=function(){var engine=react_diagrams_dist_default()({repaintDebounceMs:12}),model=new react_diagrams_dist.DiagramModel,node1=new react_diagrams_dist.DefaultNodeModel("Node 1","rgb(0,192,255)"),port1=node1.addOutPort("Out");node1.setPosition(100,100);var node2=new react_diagrams_dist.DefaultNodeModel("Node 2","rgb(192,255,0)"),port2=node2.addInPort("In");node2.setPosition(400,100);var node3=new react_diagrams_dist.DefaultNodeModel("Node 3","rgb(192,255,0)");node2.setPosition(200,300);var node4=new react_diagrams_dist.DefaultNodeModel("Node 4","rgb(192,255,0)");node2.setPosition(400,400);var link1=port1.link(port2);model.addAll(node1,node2,link1,node3,node4),engine.setModel(model);setInterval((function(){[node1,node2,node3,node4].map((function(node){var obj={x:0,y:0};gsap.a.fromTo(obj,{x:node.getPosition().x,y:node.getPosition().y},{x:Math.floor(500*Math.random()),y:Math.floor(500*Math.random()),duration:.8,onUpdate:function onUpdate(){node.setPosition(obj.x,obj.y),engine.repaintCanvas()}})}))}),2e3);return react.createElement(demo_animation_NodeDelayedPosition,{engine:engine,model:model})}},103:function(module,exports,__webpack_require__){"use strict";__webpack_require__(11),__webpack_require__(2);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__(196),exports),__exportStar(__webpack_require__(422),exports),__exportStar(__webpack_require__(277),exports),__exportStar(__webpack_require__(423),exports),__exportStar(__webpack_require__(842),exports)},159:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(2),__webpack_require__(21),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseObserver=void 0;var Toolkit_1=__webpack_require__(195),BaseObserver=function(){function BaseObserver(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BaseObserver),this.listeners={}}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(BaseObserver,[{key:"fireEventInternal",value:function fireEventInternal(fire,k,event){this.iterateListeners((function(listener){if(!fire&&!event.firing)return!1;listener[k]&&listener[k](event)}))}},{key:"fireEvent",value:function fireEvent(event,k){event=Object.assign({firing:!0,stopPropagation:function stopPropagation(){event.firing=!1}},event),this.fireEventInternal(!0,"eventWillFire",Object.assign(Object.assign({},event),{function:k})),this.fireEventInternal(!1,k,event),this.fireEventInternal(!0,"eventDidFire",Object.assign(Object.assign({},event),{function:k}))}},{key:"iterateListeners",value:function iterateListeners(cb){for(var id in this.listeners){if(!1===cb(this.listeners[id]))return}}},{key:"getListenerHandle",value:function getListenerHandle(listener){var _this=this,_loop=function _loop(id){if(_this.listeners[id]===listener)return{v:{id:id,listener:listener,deregister:function deregister(){delete _this.listeners[id]}}}};for(var id in this.listeners){var _ret=_loop(id);if("object"===_typeof(_ret))return _ret.v}}},{key:"registerListener",value:function registerListener(listener){var _this2=this,id=Toolkit_1.Toolkit.UID();return this.listeners[id]=listener,{id:id,listener:listener,deregister:function deregister(){delete _this2.listeners[id]}}}},{key:"deregisterListener",value:function deregisterListener(listener){if("object"===_typeof(listener))return listener.deregister(),!0;var handle=this.getListenerHandle(listener);return!!handle&&(handle.deregister(),!0)}}]),BaseObserver}();exports.BaseObserver=BaseObserver},17:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DemoCanvasWidget}));__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(2),__webpack_require__(19),__webpack_require__(41),__webpack_require__(39),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10);var _templateObject,S,_S,_emotion_styled_base__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(47),react__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(0),_emotion_react__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(117);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}(_S=S||(S={})).Container=Object(_emotion_styled_base__WEBPACK_IMPORTED_MODULE_15__.a)("div",{target:"e1rj2iph0",label:"Container"})("height:100%;background-color:",(function(p){return p.background}),";background-size:50px 50px;display:flex;> *{height:100%;min-height:100%;width:100%;}background-image:linear-gradient( 0deg,transparent 24%,",(function(p){return p.color})," 25%,",(function(p){return p.color})," 26%,transparent 27%,transparent 74%,",(function(p){return p.color})," 75%,",(function(p){return p.color})," 76%,transparent 77%,transparent ),linear-gradient( 90deg,transparent 24%,",(function(p){return p.color})," 25%,",(function(p){return p.color})," 26%,transparent 27%,transparent 74%,",(function(p){return p.color})," 75%,",(function(p){return p.color})," 76%,transparent 77%,transparent );"),_S.Expand=Object(_emotion_react__WEBPACK_IMPORTED_MODULE_17__.css)(_templateObject||(_templateObject=function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n\t\thtml,\n\t\tbody,\n\t\t#root {\n\t\t\theight: 100%;\n\t\t}\n\t"])));var DemoCanvasWidget=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DemoCanvasWidget,_React$Component);var _super=_createSuper(DemoCanvasWidget);function DemoCanvasWidget(){return _classCallCheck(this,DemoCanvasWidget),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DemoCanvasWidget,[{key:"render",value:function render(){return react__WEBPACK_IMPORTED_MODULE_16__.createElement(react__WEBPACK_IMPORTED_MODULE_16__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_16__.createElement(_emotion_react__WEBPACK_IMPORTED_MODULE_17__.Global,{styles:S.Expand}),react__WEBPACK_IMPORTED_MODULE_16__.createElement(S.Container,{background:this.props.background||"rgb(60, 60, 60)",color:this.props.color||"rgba(255,255,255, 0.05)"},this.props.children))}}]),DemoCanvasWidget}(react__WEBPACK_IMPORTED_MODULE_16__.Component);try{DemoCanvasWidget.displayName="DemoCanvasWidget",DemoCanvasWidget.__docgenInfo={description:"",displayName:"DemoCanvasWidget",props:{color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},background:{defaultValue:null,description:"",name:"background",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["demos/helpers/DemoCanvasWidget.tsx#DemoCanvasWidget"]={docgenInfo:DemoCanvasWidget.__docgenInfo,name:"DemoCanvasWidget",path:"demos/helpers/DemoCanvasWidget.tsx#DemoCanvasWidget"})}catch(__react_docgen_typescript_loader_error){}},195:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(2),__webpack_require__(363),__webpack_require__(90),__webpack_require__(3),__webpack_require__(66),__webpack_require__(64),Object.defineProperty(exports,"__esModule",{value:!0}),exports.Toolkit=void 0;var _closest=__webpack_require__(421),Toolkit=function(){function Toolkit(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Toolkit)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Toolkit,null,[{key:"UID",value:function UID(){return Toolkit.TESTING?(Toolkit.TESTING_UID++,"".concat(Toolkit.TESTING_UID)):"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(c){var r=16*Math.random()|0;return("x"===c?r:3&r|8).toString(16)}))}},{key:"closest",value:function closest(element,selector){return document.body.closest?element.closest(selector):_closest(element,selector)}}]),Toolkit}();exports.Toolkit=Toolkit,Toolkit.TESTING=!1,Toolkit.TESTING_UID=0},196:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(2),Object.defineProperty(exports,"__esModule",{value:!0}),exports.Point=void 0;var Matrix_1=__webpack_require__(422),Point=function(){function Point(x,y){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Point),this.x=x,this.y=y}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Point,[{key:"translate",value:function translate(x,y){this.x+=x,this.y+=y}},{key:"clone",value:function clone(){return new Point(this.x,this.y)}},{key:"toSVG",value:function toSVG(){return this.x+" "+this.y}},{key:"asMatrix",value:function asMatrix(){return new Matrix_1.Matrix([[this.x],[this.y],[1]])}},{key:"transform",value:function transform(matrix){var _final=matrix.mmul(this.asMatrix());this.x=_final.get(0,0),this.y=_final.get(1,0)}}],[{key:"middlePoint",value:function middlePoint(pointA,pointB){return new Point((pointB.x+pointA.x)/2,(pointB.y+pointA.y)/2)}},{key:"multiply",value:function multiply(){for(var m=arguments.length<=0?void 0:arguments[0],i=1;i<arguments.length;i++)m=m.mmul(i<0||arguments.length<=i?void 0:arguments[i]);return m}},{key:"scaleMatrix",value:function scaleMatrix(x,y){return new Matrix_1.Matrix([[x,0,0],[0,y,0],[0,0,1]])}},{key:"translateMatrix",value:function translateMatrix(x,y){return new Matrix_1.Matrix([[1,0,x],[0,1,y],[0,0,1]])}},{key:"rotateMatrix",value:function rotateMatrix(deg){return new Matrix_1.Matrix([[Math.cos(deg),-1*Math.sin(deg),0],[Math.sin(deg),Math.cos(deg),0],[0,0,1]])}},{key:"createScaleMatrix",value:function createScaleMatrix(x,y,origin){return this.multiply(Point.translateMatrix(origin.x,origin.y),Point.scaleMatrix(x,y),Point.translateMatrix(-origin.x,-origin.y))}},{key:"createRotateMatrix",value:function createRotateMatrix(deg,origin){return this.multiply(Point.translateMatrix(origin.x,origin.y),Point.rotateMatrix(deg),Point.translateMatrix(-origin.x,-origin.y))}}]),Point}();exports.Point=Point},197:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractDisplacementState=void 0;var State_1=__webpack_require__(198),Action_1=__webpack_require__(93),AbstractDisplacementState=function(_State_1$State){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(AbstractDisplacementState,_State_1$State);var _super=_createSuper(AbstractDisplacementState);function AbstractDisplacementState(options){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AbstractDisplacementState),(_this=_super.call(this,options)).registerAction(new Action_1.Action({type:Action_1.InputType.MOUSE_DOWN,fire:function fire(actionEvent){_this.initialX=actionEvent.event.clientX,_this.initialY=actionEvent.event.clientY;var rel=_this.engine.getRelativePoint(actionEvent.event.clientX,actionEvent.event.clientY);_this.initialXRelative=rel.x,_this.initialYRelative=rel.y}})),_this.registerAction(new Action_1.Action({type:Action_1.InputType.MOUSE_MOVE,fire:function fire(actionEvent){var event=actionEvent.event;0!==event.buttons?_this.fireMouseMoved({displacementX:event.clientX-_this.initialX,displacementY:event.clientY-_this.initialY,virtualDisplacementX:(event.clientX-_this.initialX)/(_this.engine.getModel().getZoomLevel()/100),virtualDisplacementY:(event.clientY-_this.initialY)/(_this.engine.getModel().getZoomLevel()/100),event:event}):_this.eject()}})),_this.registerAction(new Action_1.Action({type:Action_1.InputType.MOUSE_UP,fire:function fire(event){_this.eject()}})),_this}return AbstractDisplacementState}(State_1.State);exports.AbstractDisplacementState=AbstractDisplacementState},198:function(module,exports,__webpack_require__){"use strict";function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(2),__webpack_require__(3),__webpack_require__(6),__webpack_require__(10),__webpack_require__(19),__webpack_require__(23),__webpack_require__(42),__webpack_require__(7),__webpack_require__(4),__webpack_require__(5),__webpack_require__(9),__webpack_require__(35),Object.defineProperty(exports,"__esModule",{value:!0}),exports.State=void 0;var Action_1=__webpack_require__(93),_=__webpack_require__(15),State=function(){function State(options){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,State),this.actions=[],this.keys=[],this.childStates=[],this.options=options}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(State,[{key:"setEngine",value:function setEngine(engine){this.engine=engine}},{key:"getOptions",value:function getOptions(){return this.options}},{key:"eject",value:function eject(){this.engine.getStateMachine().popState()}},{key:"transitionWithEvent",value:function transitionWithEvent(state,event){this.engine.getStateMachine().pushState(state),this.engine.getActionEventBus().fireAction(event)}},{key:"registerAction",value:function registerAction(action){this.actions.push(action)}},{key:"tryActivateParentState",value:function tryActivateParentState(keys){return this.keys.length>0&&!this.isKeysFullfilled(keys)&&(this.eject(),!0)}},{key:"tryActivateChildState",value:function tryActivateChildState(keys){var state=this.findStateToActivate(keys);return!!state&&(this.engine.getStateMachine().pushState(state),!0)}},{key:"findStateToActivate",value:function findStateToActivate(keys){var _step,_iterator=_createForOfIteratorHelper(this.childStates);try{for(_iterator.s();!(_step=_iterator.n()).done;){var child=_step.value;if(child.isKeysFullfilled(keys))return child}}catch(err){_iterator.e(err)}finally{_iterator.f()}return null}},{key:"isKeysFullfilled",value:function isKeysFullfilled(keys){return _.intersection(this.keys,keys).length===this.keys.length}},{key:"activated",value:function activated(previous){var _this=this,keys=this.engine.getActionEventBus().getKeys();if(!this.tryActivateParentState(keys)&&!this.tryActivateChildState(keys)){this.handler1=this.engine.getActionEventBus().registerAction(new Action_1.Action({type:Action_1.InputType.KEY_DOWN,fire:function fire(){_this.tryActivateChildState(_this.engine.getActionEventBus().getKeys())}})),this.handler2=this.engine.getActionEventBus().registerAction(new Action_1.Action({type:Action_1.InputType.KEY_UP,fire:function fire(){_this.tryActivateParentState(_this.engine.getActionEventBus().getKeys())}}));var _step2,_iterator2=_createForOfIteratorHelper(this.actions);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var action=_step2.value;this.engine.getActionEventBus().registerAction(action)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}},{key:"deactivated",value:function deactivated(next){this.handler1&&this.handler1(),this.handler2&&this.handler2();var _step3,_iterator3=_createForOfIteratorHelper(this.actions);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var action=_step3.value;this.engine.getActionEventBus().deregisterAction(action)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}}}]),State}();exports.State=State},199:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(25),__webpack_require__(26),__webpack_require__(21),__webpack_require__(29),__webpack_require__(3),__webpack_require__(6),__webpack_require__(10),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(32),__webpack_require__(30),__webpack_require__(19),__webpack_require__(23),__webpack_require__(42),__webpack_require__(7),__webpack_require__(4),__webpack_require__(5),__webpack_require__(9),__webpack_require__(35),Object.defineProperty(exports,"__esModule",{value:!0}),exports.NodeModel=void 0;var _=__webpack_require__(15),geometry_1=__webpack_require__(103),NodeModel=function(_react_canvas_core_1$){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(NodeModel,_react_canvas_core_1$);var _super=_createSuper(NodeModel);function NodeModel(options){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NodeModel),(_this=_super.call(this,options)).ports={},_this.width=0,_this.height=0,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(NodeModel,[{key:"getBoundingBox",value:function getBoundingBox(){return new geometry_1.Rectangle(this.getPosition(),this.width,this.height)}},{key:"setPosition",value:function setPosition(x,y){var old=this.position;_get(_getPrototypeOf(NodeModel.prototype),"setPosition",this).call(this,x,y),_.forEach(this.ports,(function(port){port.setPosition(port.getX()+x-old.x,port.getY()+y-old.y)}))}},{key:"deserialize",value:function deserialize(event){var _this2=this;_get(_getPrototypeOf(NodeModel.prototype),"deserialize",this).call(this,event),_.forEach(event.data.ports,(function(port){var portOb=event.engine.getFactoryForPort(port.type).generateModel({});portOb.deserialize(Object.assign(Object.assign({},event),{data:port})),event.registerModel(portOb),_this2.addPort(portOb)}))}},{key:"serialize",value:function serialize(){return Object.assign(Object.assign({},_get(_getPrototypeOf(NodeModel.prototype),"serialize",this).call(this)),{ports:_.map(this.ports,(function(port){return port.serialize()}))})}},{key:"doClone",value:function doClone(){var lookupTable=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},clone=arguments.length>1?arguments[1]:void 0;clone.ports={},_.forEach(this.ports,(function(port){clone.addPort(port.clone(lookupTable))}))}},{key:"remove",value:function remove(){_get(_getPrototypeOf(NodeModel.prototype),"remove",this).call(this),_.forEach(this.ports,(function(port){_.forEach(port.getLinks(),(function(link){link.remove()}))}))}},{key:"getPortFromID",value:function getPortFromID(id){for(var i in this.ports)if(this.ports[i].getID()===id)return this.ports[i];return null}},{key:"getLink",value:function getLink(id){for(var portID in this.ports){var links=this.ports[portID].getLinks();if(links[id])return links[id]}}},{key:"getPort",value:function getPort(name){return this.ports[name]}},{key:"getPorts",value:function getPorts(){return this.ports}},{key:"removePort",value:function removePort(port){var _step,_iterator=_createForOfIteratorHelper(_.values(port.getLinks()));try{for(_iterator.s();!(_step=_iterator.n()).done;){_step.value.clearPort(port)}}catch(err){_iterator.e(err)}finally{_iterator.f()}this.ports[port.getName()]&&(this.ports[port.getName()].setParent(null),delete this.ports[port.getName()])}},{key:"addPort",value:function addPort(port){return port.setParent(this),this.ports[port.getName()]=port,port}},{key:"updateDimensions",value:function updateDimensions(_ref){var width=_ref.width,height=_ref.height;this.width=width,this.height=height}}]),NodeModel}(__webpack_require__(8).BasePositionModel);exports.NodeModel=NodeModel},20:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DemoButton})),__webpack_require__.d(__webpack_exports__,"b",(function(){return DemoWorkspaceWidget}));__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(2),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10);var S,_S,_emotion_styled_base__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(47),react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(0);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}(_S=S||(S={})).Toolbar=Object(_emotion_styled_base__WEBPACK_IMPORTED_MODULE_12__.a)("div",{target:"e13xz6110",label:"Toolbar"})({name:"1b2qdc3",styles:"padding:5px;display:flex;flex-shrink:0;"}),_S.Content=Object(_emotion_styled_base__WEBPACK_IMPORTED_MODULE_12__.a)("div",{target:"e13xz6111",label:"Content"})({name:"1y6z04t",styles:"flex-grow:1;height:100%;"}),_S.Container=Object(_emotion_styled_base__WEBPACK_IMPORTED_MODULE_12__.a)("div",{target:"e13xz6112",label:"Container"})({name:"1q2syjk",styles:"background:black;display:flex;flex-direction:column;height:100%;border-radius:5px;overflow:hidden;"});var DemoButton=Object(_emotion_styled_base__WEBPACK_IMPORTED_MODULE_12__.a)("button",{target:"e13xz6113",label:"DemoButton"})({name:"lj7x0e",styles:"background:rgb(60,60,60);font-size:14px;padding:5px 10px;border:none;color:white;outline:none;cursor:pointer;margin:2px;border-radius:3px;&:hover{background:rgb(0,192,255);}"}),DemoWorkspaceWidget=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DemoWorkspaceWidget,_React$Component);var _super=_createSuper(DemoWorkspaceWidget);function DemoWorkspaceWidget(){return _classCallCheck(this,DemoWorkspaceWidget),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DemoWorkspaceWidget,[{key:"render",value:function render(){return react__WEBPACK_IMPORTED_MODULE_13__.createElement(S.Container,null,react__WEBPACK_IMPORTED_MODULE_13__.createElement(S.Toolbar,null,this.props.buttons),react__WEBPACK_IMPORTED_MODULE_13__.createElement(S.Content,null,this.props.children))}}]),DemoWorkspaceWidget}(react__WEBPACK_IMPORTED_MODULE_13__.Component);try{DemoButton.displayName="DemoButton",DemoButton.__docgenInfo={description:"",displayName:"DemoButton",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["demos/helpers/DemoWorkspaceWidget.tsx#DemoButton"]={docgenInfo:DemoButton.__docgenInfo,name:"DemoButton",path:"demos/helpers/DemoWorkspaceWidget.tsx#DemoButton"})}catch(__react_docgen_typescript_loader_error){}try{DemoWorkspaceWidget.displayName="DemoWorkspaceWidget",DemoWorkspaceWidget.__docgenInfo={description:"",displayName:"DemoWorkspaceWidget",props:{buttons:{defaultValue:null,description:"",name:"buttons",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["demos/helpers/DemoWorkspaceWidget.tsx#DemoWorkspaceWidget"]={docgenInfo:DemoWorkspaceWidget.__docgenInfo,name:"DemoWorkspaceWidget",path:"demos/helpers/DemoWorkspaceWidget.tsx#DemoWorkspaceWidget"})}catch(__react_docgen_typescript_loader_error){}},200:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(23),__webpack_require__(21),__webpack_require__(29),__webpack_require__(25),__webpack_require__(26),__webpack_require__(3),__webpack_require__(6),__webpack_require__(10),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(32),__webpack_require__(30),__webpack_require__(4),__webpack_require__(5),__webpack_require__(9),__webpack_require__(7),Object.defineProperty(exports,"__esModule",{value:!0}),exports.PortModel=exports.PortModelAlignment=void 0;var _=__webpack_require__(15),geometry_1=__webpack_require__(103),react_canvas_core_1=__webpack_require__(8);!function(PortModelAlignment){PortModelAlignment.TOP="top",PortModelAlignment.LEFT="left",PortModelAlignment.BOTTOM="bottom",PortModelAlignment.RIGHT="right"}(exports.PortModelAlignment||(exports.PortModelAlignment={}));var PortModel=function(_react_canvas_core_1$){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(PortModel,_react_canvas_core_1$);var _super=_createSuper(PortModel);function PortModel(options){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PortModel),(_this=_super.call(this,options)).links={},_this.reportedPosition=!1,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(PortModel,[{key:"deserialize",value:function deserialize(event){_get(_getPrototypeOf(PortModel.prototype),"deserialize",this).call(this,event),this.reportedPosition=!1,this.options.name=event.data.name,this.options.alignment=event.data.alignment}},{key:"serialize",value:function serialize(){return Object.assign(Object.assign({},_get(_getPrototypeOf(PortModel.prototype),"serialize",this).call(this)),{name:this.options.name,alignment:this.options.alignment,parentNode:this.parent.getID(),links:_.map(this.links,(function(link){return link.getID()}))})}},{key:"setPosition",value:function setPosition(x,y){var _this2=this,old=this.position;_get(_getPrototypeOf(PortModel.prototype),"setPosition",this).call(this,x,y),_.forEach(this.getLinks(),(function(link){var point=link.getPointForPort(_this2);point.setPosition(point.getX()+x-old.x,point.getY()+y-old.y)}))}},{key:"doClone",value:function doClone(){var lookupTable=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},clone=arguments.length>1?arguments[1]:void 0;clone.links={},clone.parentNode=this.getParent().clone(lookupTable)}},{key:"getNode",value:function getNode(){return this.getParent()}},{key:"getName",value:function getName(){return this.options.name}},{key:"getMaximumLinks",value:function getMaximumLinks(){return this.options.maximumLinks}},{key:"setMaximumLinks",value:function setMaximumLinks(maximumLinks){this.options.maximumLinks=maximumLinks}},{key:"removeLink",value:function removeLink(link){delete this.links[link.getID()]}},{key:"addLink",value:function addLink(link){this.links[link.getID()]=link}},{key:"getLinks",value:function getLinks(){return this.links}},{key:"createLinkModel",value:function createLinkModel(){if(_.isFinite(this.options.maximumLinks)){var numberOfLinks=_.size(this.links);if(1===this.options.maximumLinks&&numberOfLinks>=1)return _.values(this.links)[0];if(numberOfLinks>=this.options.maximumLinks)return null}return null}},{key:"reportPosition",value:function reportPosition(){var _this3=this;_.forEach(this.getLinks(),(function(link){link.getPointForPort(_this3).setPosition(_this3.getCenter())})),this.fireEvent({entity:this},"reportInitialPosition")}},{key:"getCenter",value:function getCenter(){return new geometry_1.Point(this.getX()+this.width/2,this.getY()+this.height/2)}},{key:"getBoundingBox",value:function getBoundingBox(){return new geometry_1.Rectangle(this.position,this.width,this.height)}},{key:"updateCoords",value:function updateCoords(coords){this.width=coords.getWidth(),this.height=coords.getHeight(),this.setPosition(coords.getTopLeft()),this.reportedPosition=!0,this.reportPosition()}},{key:"canLinkToPort",value:function canLinkToPort(port){return!0}},{key:"isLocked",value:function isLocked(){return _get(_getPrototypeOf(PortModel.prototype),"isLocked",this).call(this)||this.getParent().isLocked()}}]),PortModel}(react_canvas_core_1.BasePositionModel);exports.PortModel=PortModel},277:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(2),__webpack_require__(29),__webpack_require__(25),__webpack_require__(26),__webpack_require__(11),__webpack_require__(160),__webpack_require__(161),Object.defineProperty(exports,"__esModule",{value:!0}),exports.Polygon=void 0;var Point_1=__webpack_require__(196),_=__webpack_require__(15),Polygon=function(){function Polygon(){var points=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,Polygon),this.points=points}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Polygon,[{key:"serialize",value:function serialize(){return _.map(this.points,(function(point){return[point.x,point.y]}))}},{key:"deserialize",value:function deserialize(data){this.points=_.map(data,(function(point){return new Point_1.Point(point[0],point[1])}))}},{key:"scale",value:function scale(x,y,origin){var matrix=Point_1.Point.createScaleMatrix(x,y,origin);_.forEach(this.points,(function(point){point.transform(matrix)}))}},{key:"transform",value:function transform(matrix){_.forEach(this.points,(function(point){point.transform(matrix)}))}},{key:"setPoints",value:function setPoints(points){this.points=points}},{key:"getPoints",value:function getPoints(){return this.points}},{key:"rotate",value:function rotate(degrees){this.transform(Point_1.Point.createRotateMatrix(degrees/(180/Math.PI),this.getOrigin()))}},{key:"translate",value:function translate(offsetX,offsetY){_.forEach(this.points,(function(point){point.translate(offsetX,offsetY)}))}},{key:"doClone",value:function doClone(ob){this.points=_.map(ob.points,(function(point){return point.clone()}))}},{key:"clone",value:function clone(){var ob=Object.create(this);return ob.doClone(this),ob}},{key:"getOrigin",value:function getOrigin(){if(0===this.points.length)return null;var dimensions=this.getBoundingBox();return Point_1.Point.middlePoint(dimensions.getTopLeft(),dimensions.getBottomRight())}},{key:"getBoundingBox",value:function getBoundingBox(){for(var minX=this.points[0].x,maxX=this.points[0].x,minY=this.points[0].y,maxY=this.points[0].y,i=1;i<this.points.length;i++)this.points[i].x<minX&&(minX=this.points[i].x),this.points[i].x>maxX&&(maxX=this.points[i].x),this.points[i].y<minY&&(minY=this.points[i].y),this.points[i].y>maxY&&(maxY=this.points[i].y);return new Rectangle_1.Rectangle(new Point_1.Point(minX,minY),new Point_1.Point(maxX,minY),new Point_1.Point(maxX,maxY),new Point_1.Point(minX,maxY))}}],[{key:"boundingBoxFromPolygons",value:function boundingBoxFromPolygons(polygons){return Polygon.boundingBoxFromPoints(_.flatMap(polygons,(function(polygon){return polygon.getPoints()})))}},{key:"boundingBoxFromPoints",value:function boundingBoxFromPoints(points){if(0===points.length)return new Rectangle_1.Rectangle(0,0,0,0);for(var minX=points[0].x,maxX=points[0].x,minY=points[0].y,maxY=points[0].y,i=1;i<points.length;i++)points[i].x<minX&&(minX=points[i].x),points[i].x>maxX&&(maxX=points[i].x),points[i].y<minY&&(minY=points[i].y),points[i].y>maxY&&(maxY=points[i].y);return new Rectangle_1.Rectangle(new Point_1.Point(minX,minY),new Point_1.Point(maxX,minY),new Point_1.Point(maxX,maxY),new Point_1.Point(minX,maxY))}}]),Polygon}();exports.Polygon=Polygon;var Rectangle_1=__webpack_require__(423)},278:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(21),__webpack_require__(160),__webpack_require__(161),__webpack_require__(75),__webpack_require__(25),__webpack_require__(26),__webpack_require__(3),__webpack_require__(6),__webpack_require__(10),__webpack_require__(73),__webpack_require__(279),__webpack_require__(101),__webpack_require__(29),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(32),__webpack_require__(30),__webpack_require__(4),__webpack_require__(5),__webpack_require__(9),__webpack_require__(7),Object.defineProperty(exports,"__esModule",{value:!0}),exports.CanvasModel=void 0;var _=__webpack_require__(15),CanvasModel=function(_BaseEntity_1$BaseEnt){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(CanvasModel,_BaseEntity_1$BaseEnt);var _super=_createSuper(CanvasModel);function CanvasModel(){var _this,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,CanvasModel),(_this=_super.call(this,Object.assign({zoom:100,gridSize:0,offsetX:0,offsetY:0},options))).layers=[],_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(CanvasModel,[{key:"getSelectionEntities",value:function getSelectionEntities(){return _.flatMap(this.layers,(function(layer){return layer.getSelectionEntities()}))}},{key:"getSelectedEntities",value:function getSelectedEntities(){return _.filter(this.getSelectionEntities(),(function(ob){return ob.isSelected()}))}},{key:"clearSelection",value:function clearSelection(){_.forEach(this.getSelectedEntities(),(function(element){element.setSelected(!1)}))}},{key:"getModels",value:function getModels(){return _.flatMap(this.layers,(function(layer){return _.values(layer.getModels())}))}},{key:"addLayer",value:function addLayer(layer){layer.setParent(this),layer.registerListener({entityRemoved:function entityRemoved(event){}}),this.layers.push(layer)}},{key:"removeLayer",value:function removeLayer(layer){var index=this.layers.indexOf(layer);return-1!==index&&(this.layers.splice(index,1),!0)}},{key:"getLayers",value:function getLayers(){return this.layers}},{key:"setGridSize",value:function setGridSize(){var size=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.options.gridSize=size,this.fireEvent({size:size},"gridUpdated")}},{key:"getGridPosition",value:function getGridPosition(pos){return 0===this.options.gridSize?pos:this.options.gridSize*Math.floor((pos+this.options.gridSize/2)/this.options.gridSize)}},{key:"deserializeModel",value:function deserializeModel(data,engine){var models={},promises={},resolvers={},event={data:data,engine:engine,registerModel:function registerModel(model){models[model.getID()]=model,resolvers[model.getID()]&&resolvers[model.getID()](model)},getModel:function getModel(id){return models[id]?Promise.resolve(models[id]):(promises[id]||(promises[id]=new Promise((function(resolve){resolvers[id]=resolve}))),promises[id])}};this.deserialize(event)}},{key:"deserialize",value:function deserialize(event){var _this2=this;_get(_getPrototypeOf(CanvasModel.prototype),"deserialize",this).call(this,event),this.options.offsetX=event.data.offsetX,this.options.offsetY=event.data.offsetY,this.options.zoom=event.data.zoom,this.options.gridSize=event.data.gridSize,_.forEach(event.data.layers,(function(layer){var layerOb=event.engine.getFactoryForLayer(layer.type).generateModel({initialConfig:layer});layerOb.deserialize(Object.assign(Object.assign({},event),{data:layer})),_this2.addLayer(layerOb)}))}},{key:"serialize",value:function serialize(){return Object.assign(Object.assign({},_get(_getPrototypeOf(CanvasModel.prototype),"serialize",this).call(this)),{offsetX:this.options.offsetX,offsetY:this.options.offsetY,zoom:this.options.zoom,gridSize:this.options.gridSize,layers:_.map(this.layers,(function(layer){return layer.serialize()}))})}},{key:"setZoomLevel",value:function setZoomLevel(zoom){this.options.zoom=zoom,this.fireEvent({zoom:zoom},"zoomUpdated")}},{key:"setOffset",value:function setOffset(offsetX,offsetY){this.options.offsetX=offsetX,this.options.offsetY=offsetY,this.fireEvent({offsetX:offsetX,offsetY:offsetY},"offsetUpdated")}},{key:"setOffsetX",value:function setOffsetX(offsetX){this.setOffset(offsetX,this.options.offsetY)}},{key:"setOffsetY",value:function setOffsetY(offsetY){this.setOffset(this.options.offsetX,offsetY)}},{key:"getOffsetY",value:function getOffsetY(){return this.options.offsetY}},{key:"getOffsetX",value:function getOffsetX(){return this.options.offsetX}},{key:"getZoomLevel",value:function getZoomLevel(){return this.options.zoom}}]),CanvasModel}(__webpack_require__(280).BaseEntity);exports.CanvasModel=CanvasModel},280:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(21),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(32),__webpack_require__(30),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseEntity=void 0;var Toolkit_1=__webpack_require__(195),_=__webpack_require__(15),BaseEntity=function(_BaseObserver_1$BaseO){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(BaseEntity,_BaseObserver_1$BaseO);var _super=_createSuper(BaseEntity);function BaseEntity(){var _this,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,BaseEntity),(_this=_super.call(this)).options=Object.assign({id:Toolkit_1.Toolkit.UID()},options),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(BaseEntity,[{key:"getOptions",value:function getOptions(){return this.options}},{key:"getID",value:function getID(){return this.options.id}},{key:"doClone",value:function doClone(){}},{key:"clone",value:function clone(){var lookupTable=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(lookupTable[this.options.id])return lookupTable[this.options.id];var clone=_.cloneDeep(this);return clone.options=Object.assign(Object.assign({},this.options),{id:Toolkit_1.Toolkit.UID()}),clone.clearListeners(),lookupTable[this.options.id]=clone,this.doClone(lookupTable,clone),clone}},{key:"clearListeners",value:function clearListeners(){this.listeners={}}},{key:"deserialize",value:function deserialize(event){this.options.id=event.data.id,this.options.locked=event.data.locked}},{key:"serialize",value:function serialize(){return{id:this.options.id,locked:this.options.locked}}},{key:"fireEvent",value:function fireEvent(event,k){_get(_getPrototypeOf(BaseEntity.prototype),"fireEvent",this).call(this,Object.assign({entity:this},event),k)}},{key:"isLocked",value:function isLocked(){return this.options.locked}},{key:"setLocked",value:function setLocked(){var locked=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.options.locked=locked,this.fireEvent({locked:locked},"lockChanged")}}]),BaseEntity}(__webpack_require__(159).BaseObserver);exports.BaseEntity=BaseEntity},281:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(21),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(32),__webpack_require__(30),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseModel=void 0;var BaseEntity_1=__webpack_require__(280),CanvasModel_1=__webpack_require__(278),BaseModel=function(_BaseEntity_1$BaseEnt){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(BaseModel,_BaseEntity_1$BaseEnt);var _super=_createSuper(BaseModel);function BaseModel(options){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BaseModel),_super.call(this,options)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(BaseModel,[{key:"performanceTune",value:function performanceTune(){return!0}},{key:"getParentCanvasModel",value:function getParentCanvasModel(){return this.parent?this.parent instanceof CanvasModel_1.CanvasModel?this.parent:this.parent instanceof BaseModel?this.parent.getParentCanvasModel():null:null}},{key:"getParent",value:function getParent(){return this.parent}},{key:"setParent",value:function setParent(parent){this.parent=parent}},{key:"getSelectionEntities",value:function getSelectionEntities(){return[this]}},{key:"serialize",value:function serialize(){return Object.assign(Object.assign({},_get(_getPrototypeOf(BaseModel.prototype),"serialize",this).call(this)),{type:this.options.type,selected:this.options.selected,extras:this.options.extras})}},{key:"deserialize",value:function deserialize(event){_get(_getPrototypeOf(BaseModel.prototype),"deserialize",this).call(this,event),this.options.extras=event.data.extras,this.options.selected=event.data.selected}},{key:"getType",value:function getType(){return this.options.type}},{key:"isSelected",value:function isSelected(){return this.options.selected}},{key:"isLocked",value:function isLocked(){return!!_get(_getPrototypeOf(BaseModel.prototype),"isLocked",this).call(this)||!!this.parent&&this.parent.isLocked()}},{key:"setSelected",value:function setSelected(){var selected=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.options.selected!==selected&&(this.options.selected=selected,this.fireEvent({isSelected:selected},"selectionChanged"))}},{key:"remove",value:function remove(){this.fireEvent({},"entityRemoved")}}]),BaseModel}(BaseEntity_1.BaseEntity);exports.BaseModel=BaseModel},282:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.SelectionLayerModel=void 0;var SelectionLayerModel=function(_LayerModel_1$LayerMo){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(SelectionLayerModel,_LayerModel_1$LayerMo);var _super=_createSuper(SelectionLayerModel);function SelectionLayerModel(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SelectionLayerModel),_super.call(this,{transformed:!1,isSvg:!1,type:"selection"})}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(SelectionLayerModel,[{key:"setBox",value:function setBox(rect){this.box=rect}},{key:"getChildModelFactoryBank",value:function getChildModelFactoryBank(){return null}}]),SelectionLayerModel}(__webpack_require__(434).LayerModel);exports.SelectionLayerModel=SelectionLayerModel},283:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(29),__webpack_require__(31),__webpack_require__(19),__webpack_require__(21),__webpack_require__(25),__webpack_require__(26),__webpack_require__(73),__webpack_require__(279),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(32),__webpack_require__(30),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.LinkModel=void 0;var PointModel_1=__webpack_require__(284),_=__webpack_require__(15),geometry_1=__webpack_require__(103),LinkModel=function(_react_canvas_core_1$){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(LinkModel,_react_canvas_core_1$);var _super=_createSuper(LinkModel);function LinkModel(options){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LinkModel),(_this=_super.call(this,options)).points=[new PointModel_1.PointModel({link:_assertThisInitialized(_this)}),new PointModel_1.PointModel({link:_assertThisInitialized(_this)})],_this.sourcePort=null,_this.targetPort=null,_this.renderedPaths=[],_this.labels=[],_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(LinkModel,[{key:"getBoundingBox",value:function getBoundingBox(){return geometry_1.Polygon.boundingBoxFromPoints(_.map(this.points,(function(point){return point.getPosition()})))}},{key:"getSelectionEntities",value:function getSelectionEntities(){return this.getTargetPort()&&this.getSourcePort()?_get(_getPrototypeOf(LinkModel.prototype),"getSelectionEntities",this).call(this).concat(_.slice(this.points,1,this.points.length-1)):this.getSourcePort()?this.getTargetPort()?_get(_getPrototypeOf(LinkModel.prototype),"getSelectionEntities",this).call(this).concat(this.points):_get(_getPrototypeOf(LinkModel.prototype),"getSelectionEntities",this).call(this).concat(_.slice(this.points,1,this.points.length)):_get(_getPrototypeOf(LinkModel.prototype),"getSelectionEntities",this).call(this).concat(_.slice(this.points,0,this.points.length-1))}},{key:"deserialize",value:function deserialize(event){var _this2=this;_get(_getPrototypeOf(LinkModel.prototype),"deserialize",this).call(this,event),this.points=_.map(event.data.points||[],(function(point){var p=new PointModel_1.PointModel({link:_this2,position:new geometry_1.Point(point.x,point.y)});return p.deserialize(Object.assign(Object.assign({},event),{data:point})),p})),_.forEach(event.data.labels||[],(function(label){var labelOb=event.engine.getFactoryForLabel(label.type).generateModel({});labelOb.deserialize(Object.assign(Object.assign({},event),{data:label})),_this2.addLabel(labelOb)})),event.data.target&&event.getModel(event.data.targetPort).then((function(model){_this2.setTargetPort(model)})),event.data.source&&event.getModel(event.data.sourcePort).then((function(model){_this2.setSourcePort(model)}))}},{key:"getRenderedPath",value:function getRenderedPath(){return this.renderedPaths}},{key:"setRenderedPaths",value:function setRenderedPaths(paths){this.renderedPaths=paths}},{key:"serialize",value:function serialize(){return Object.assign(Object.assign({},_get(_getPrototypeOf(LinkModel.prototype),"serialize",this).call(this)),{source:this.sourcePort?this.sourcePort.getParent().getID():null,sourcePort:this.sourcePort?this.sourcePort.getID():null,target:this.targetPort?this.targetPort.getParent().getID():null,targetPort:this.targetPort?this.targetPort.getID():null,points:_.map(this.points,(function(point){return point.serialize()})),labels:_.map(this.labels,(function(label){return label.serialize()}))})}},{key:"doClone",value:function doClone(){var lookupTable=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},clone=arguments.length>1?arguments[1]:void 0;clone.setPoints(_.map(this.getPoints(),(function(point){return point.clone(lookupTable)}))),this.sourcePort&&clone.setSourcePort(this.sourcePort.clone(lookupTable)),this.targetPort&&clone.setTargetPort(this.targetPort.clone(lookupTable))}},{key:"clearPort",value:function clearPort(port){this.sourcePort===port?this.setSourcePort(null):this.targetPort===port&&this.setTargetPort(null)}},{key:"remove",value:function remove(){this.sourcePort&&this.sourcePort.removeLink(this),this.targetPort&&this.targetPort.removeLink(this),_get(_getPrototypeOf(LinkModel.prototype),"remove",this).call(this)}},{key:"isLastPoint",value:function isLastPoint(point){return this.getPointIndex(point)===this.points.length-1}},{key:"getPointIndex",value:function getPointIndex(point){return this.points.indexOf(point)}},{key:"getPointModel",value:function getPointModel(id){for(var i=0;i<this.points.length;i++)if(this.points[i].getID()===id)return this.points[i];return null}},{key:"getPortForPoint",value:function getPortForPoint(point){return null!==this.sourcePort&&this.getFirstPoint().getID()===point.getID()?this.sourcePort:null!==this.targetPort&&this.getLastPoint().getID()===point.getID()?this.targetPort:null}},{key:"getPointForPort",value:function getPointForPort(port){return null!==this.sourcePort&&this.sourcePort.getID()===port.getID()?this.getFirstPoint():null!==this.targetPort&&this.targetPort.getID()===port.getID()?this.getLastPoint():null}},{key:"getFirstPoint",value:function getFirstPoint(){return this.points[0]}},{key:"getLastPoint",value:function getLastPoint(){return this.points[this.points.length-1]}},{key:"setSourcePort",value:function setSourcePort(port){null!==port&&port.addLink(this),null!==this.sourcePort&&this.sourcePort.removeLink(this),this.sourcePort=port,this.fireEvent({port:port},"sourcePortChanged"),port.reportedPosition&&this.getPointForPort(port).setPosition(port.getCenter())}},{key:"getSourcePort",value:function getSourcePort(){return this.sourcePort}},{key:"getTargetPort",value:function getTargetPort(){return this.targetPort}},{key:"setTargetPort",value:function setTargetPort(port){null!==port&&port.addLink(this),null!==this.targetPort&&this.targetPort.removeLink(this),this.targetPort=port,this.fireEvent({port:port},"targetPortChanged"),port.reportedPosition&&this.getPointForPort(port).setPosition(port.getCenter())}},{key:"point",value:function point(x,y){var index=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.addPoint(this.generatePoint(x,y),index)}},{key:"addLabel",value:function addLabel(label){label.setParent(this),this.labels.push(label)}},{key:"getPoints",value:function getPoints(){return this.points}},{key:"getLabels",value:function getLabels(){return this.labels}},{key:"setPoints",value:function setPoints(points){var _this3=this;_.forEach(points,(function(point){point.setParent(_this3)})),this.points=points}},{key:"removePoint",value:function removePoint(pointModel){this.points.splice(this.getPointIndex(pointModel),1)}},{key:"removePointsBefore",value:function removePointsBefore(pointModel){this.points.splice(0,this.getPointIndex(pointModel))}},{key:"removePointsAfter",value:function removePointsAfter(pointModel){this.points.splice(this.getPointIndex(pointModel)+1)}},{key:"removeMiddlePoints",value:function removeMiddlePoints(){this.points.length>2&&this.points.splice(0,this.points.length-2)}},{key:"addPoint",value:function addPoint(pointModel){var index=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return pointModel.setParent(this),this.points.splice(index,0,pointModel),pointModel}},{key:"generatePoint",value:function generatePoint(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new PointModel_1.PointModel({link:this,position:new geometry_1.Point(x,y)})}}]),LinkModel}(__webpack_require__(8).BaseModel);exports.LinkModel=LinkModel},284:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(21),__webpack_require__(22),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(32),__webpack_require__(30),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.PointModel=void 0;var PointModel=function(_react_canvas_core_1$){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(PointModel,_react_canvas_core_1$);var _super=_createSuper(PointModel);function PointModel(options){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PointModel),(_this=_super.call(this,Object.assign(Object.assign({},options),{type:"point"}))).parent=options.link,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(PointModel,[{key:"isConnectedToPort",value:function isConnectedToPort(){return null!==this.parent.getPortForPoint(this)}},{key:"getLink",value:function getLink(){return this.getParent()}},{key:"remove",value:function remove(){this.parent&&this.parent.removePoint(this),_get(_getPrototypeOf(PointModel.prototype),"remove",this).call(this)}},{key:"isLocked",value:function isLocked(){return _get(_getPrototypeOf(PointModel.prototype),"isLocked",this).call(this)||this.getParent().isLocked()}}]),PointModel}(__webpack_require__(8).BasePositionModel);exports.PointModel=PointModel},285:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(32),__webpack_require__(30),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.NodeLayerModel=void 0;var react_canvas_core_1=__webpack_require__(8),NodeModel_1=__webpack_require__(199),NodeLayerModel=function(_react_canvas_core_1$){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(NodeLayerModel,_react_canvas_core_1$);var _super=_createSuper(NodeLayerModel);function NodeLayerModel(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NodeLayerModel),_super.call(this,{type:"diagram-nodes",isSvg:!1,transformed:!0})}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(NodeLayerModel,[{key:"addModel",value:function addModel(model){var _this=this;if(!(model instanceof NodeModel_1.NodeModel))throw new Error("Can only add nodes to this layer");model.registerListener({entityRemoved:function entityRemoved(){_this.getParent().removeNode(model)}}),_get(_getPrototypeOf(NodeLayerModel.prototype),"addModel",this).call(this,model)}},{key:"getChildModelFactoryBank",value:function getChildModelFactoryBank(engine){return engine.getNodeFactories()}},{key:"getNodes",value:function getNodes(){return this.getModels()}}]),NodeLayerModel}(react_canvas_core_1.LayerModel);exports.NodeLayerModel=NodeLayerModel},286:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(32),__webpack_require__(30),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.LinkLayerModel=void 0;var react_canvas_core_1=__webpack_require__(8),LinkModel_1=__webpack_require__(283),LinkLayerModel=function(_react_canvas_core_1$){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(LinkLayerModel,_react_canvas_core_1$);var _super=_createSuper(LinkLayerModel);function LinkLayerModel(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LinkLayerModel),_super.call(this,{type:"diagram-links",isSvg:!0,transformed:!0})}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(LinkLayerModel,[{key:"addModel",value:function addModel(model){var _this=this;if(!(model instanceof LinkModel_1.LinkModel))throw new Error("Can only add links to this layer");model.registerListener({entityRemoved:function entityRemoved(){_this.getParent().removeLink(model)}}),_get(_getPrototypeOf(LinkLayerModel.prototype),"addModel",this).call(this,model)}},{key:"getLinks",value:function getLinks(){return this.getModels()}},{key:"getChildModelFactoryBank",value:function getChildModelFactoryBank(engine){return engine.getLinkFactories()}}]),LinkLayerModel}(react_canvas_core_1.LayerModel);exports.LinkLayerModel=LinkLayerModel},287:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(21),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(32),__webpack_require__(30),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.DefaultLabelModel=void 0;var DefaultLabelModel=function(_react_diagrams_core_){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DefaultLabelModel,_react_diagrams_core_);var _super=_createSuper(DefaultLabelModel);function DefaultLabelModel(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,DefaultLabelModel),_super.call(this,Object.assign({offsetY:null==options.offsetY?-23:options.offsetY,type:"default"},options))}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DefaultLabelModel,[{key:"setLabel",value:function setLabel(label){this.options.label=label}},{key:"deserialize",value:function deserialize(event){_get(_getPrototypeOf(DefaultLabelModel.prototype),"deserialize",this).call(this,event),this.options.label=event.data.label}},{key:"serialize",value:function serialize(){return Object.assign(Object.assign({},_get(_getPrototypeOf(DefaultLabelModel.prototype),"serialize",this).call(this)),{label:this.options.label})}}]),DefaultLabelModel}(__webpack_require__(50).LabelModel);exports.DefaultLabelModel=DefaultLabelModel},288:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(21),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(32),__webpack_require__(30),__webpack_require__(35),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),__webpack_require__(42),__webpack_require__(19),__webpack_require__(23),Object.defineProperty(exports,"__esModule",{value:!0}),exports.DefaultLinkModel=void 0;var react_diagrams_core_1=__webpack_require__(50),DefaultLabelModel_1=__webpack_require__(287),geometry_1=__webpack_require__(103),DefaultLinkModel=function(_react_diagrams_core_){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DefaultLinkModel,_react_diagrams_core_);var _super=_createSuper(DefaultLinkModel);function DefaultLinkModel(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,DefaultLinkModel),_super.call(this,Object.assign({type:"default",width:options.width||3,color:options.color||"gray",selectedColor:options.selectedColor||"rgb(0,192,255)",curvyness:50},options))}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DefaultLinkModel,[{key:"calculateControlOffset",value:function calculateControlOffset(port){return port.getOptions().alignment===react_diagrams_core_1.PortModelAlignment.RIGHT?[this.options.curvyness,0]:port.getOptions().alignment===react_diagrams_core_1.PortModelAlignment.LEFT?[-this.options.curvyness,0]:port.getOptions().alignment===react_diagrams_core_1.PortModelAlignment.TOP?[0,-this.options.curvyness]:[0,this.options.curvyness]}},{key:"getSVGPath",value:function getSVGPath(){if(2==this.points.length){var _curve$getSourceContr,_curve$getTargetContr,curve=new geometry_1.BezierCurve;if(curve.setSource(this.getFirstPoint().getPosition()),curve.setTarget(this.getLastPoint().getPosition()),curve.setSourceControl(this.getFirstPoint().getPosition().clone()),curve.setTargetControl(this.getLastPoint().getPosition().clone()),this.sourcePort)(_curve$getSourceContr=curve.getSourceControl()).translate.apply(_curve$getSourceContr,_toConsumableArray(this.calculateControlOffset(this.getSourcePort())));if(this.targetPort)(_curve$getTargetContr=curve.getTargetControl()).translate.apply(_curve$getTargetContr,_toConsumableArray(this.calculateControlOffset(this.getTargetPort())));return curve.getSVGCurve()}}},{key:"serialize",value:function serialize(){return Object.assign(Object.assign({},_get(_getPrototypeOf(DefaultLinkModel.prototype),"serialize",this).call(this)),{width:this.options.width,color:this.options.color,curvyness:this.options.curvyness,selectedColor:this.options.selectedColor})}},{key:"deserialize",value:function deserialize(event){_get(_getPrototypeOf(DefaultLinkModel.prototype),"deserialize",this).call(this,event),this.options.color=event.data.color,this.options.width=event.data.width,this.options.curvyness=event.data.curvyness,this.options.selectedColor=event.data.selectedColor}},{key:"addLabel",value:function addLabel(label){if(label instanceof react_diagrams_core_1.LabelModel)return _get(_getPrototypeOf(DefaultLinkModel.prototype),"addLabel",this).call(this,label);var labelOb=new DefaultLabelModel_1.DefaultLabelModel;return labelOb.setLabel(label),_get(_getPrototypeOf(DefaultLinkModel.prototype),"addLabel",this).call(this,labelOb)}},{key:"setWidth",value:function setWidth(width){this.options.width=width,this.fireEvent({width:width},"widthChanged")}},{key:"setColor",value:function setColor(color){this.options.color=color,this.fireEvent({color:color},"colorChanged")}}]),DefaultLinkModel}(react_diagrams_core_1.LinkModel);exports.DefaultLinkModel=DefaultLinkModel},289:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(21),__webpack_require__(23),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(32),__webpack_require__(30),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.DefaultPortModel=void 0;var react_diagrams_core_1=__webpack_require__(50),DefaultLinkModel_1=__webpack_require__(288),DefaultPortModel=function(_react_diagrams_core_){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DefaultPortModel,_react_diagrams_core_);var _super=_createSuper(DefaultPortModel);function DefaultPortModel(options,name,label){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DefaultPortModel),name&&(options={in:!!options,name:name,label:label}),options=options,_super.call(this,Object.assign({label:options.label||options.name,alignment:options.in?react_diagrams_core_1.PortModelAlignment.LEFT:react_diagrams_core_1.PortModelAlignment.RIGHT,type:"default"},options))}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DefaultPortModel,[{key:"deserialize",value:function deserialize(event){_get(_getPrototypeOf(DefaultPortModel.prototype),"deserialize",this).call(this,event),this.options.in=event.data.in,this.options.label=event.data.label}},{key:"serialize",value:function serialize(){return Object.assign(Object.assign({},_get(_getPrototypeOf(DefaultPortModel.prototype),"serialize",this).call(this)),{in:this.options.in,label:this.options.label})}},{key:"link",value:function link(port,factory){var link=this.createLinkModel(factory);return link.setSourcePort(this),link.setTargetPort(port),link}},{key:"canLinkToPort",value:function canLinkToPort(port){return!(port instanceof DefaultPortModel)||this.options.in!==port.getOptions().in}},{key:"createLinkModel",value:function createLinkModel(factory){var link=_get(_getPrototypeOf(DefaultPortModel.prototype),"createLinkModel",this).call(this);return!link&&factory?factory.generateModel({}):link||new DefaultLinkModel_1.DefaultLinkModel}}]),DefaultPortModel}(react_diagrams_core_1.PortModel);exports.DefaultPortModel=DefaultPortModel},420:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(3),__webpack_require__(6),__webpack_require__(10),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(9),__webpack_require__(7),Object.defineProperty(exports,"__esModule",{value:!0}),exports.FactoryBank=void 0;var BaseObserver_1=__webpack_require__(159),_=__webpack_require__(15),FactoryBank=function(_BaseObserver_1$BaseO){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(FactoryBank,_BaseObserver_1$BaseO);var _super=_createSuper(FactoryBank);function FactoryBank(){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FactoryBank),(_this=_super.call(this)).factories={},_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(FactoryBank,[{key:"getFactories",value:function getFactories(){return _.values(this.factories)}},{key:"clearFactories",value:function clearFactories(){for(var factory in this.factories)this.deregisterFactory(factory)}},{key:"getFactory",value:function getFactory(type){if(!this.factories[type])throw new Error("Cannot find factory with type [".concat(type,"]"));return this.factories[type]}},{key:"registerFactory",value:function registerFactory(factory){factory.setFactoryBank(this),this.factories[factory.getType()]=factory,this.fireEvent({factory:factory},"factoryAdded")}},{key:"deregisterFactory",value:function deregisterFactory(type){var factory=this.factories[type];factory.setFactoryBank(null),delete this.factories[type],this.fireEvent({factory:factory},"factoryRemoved")}}]),FactoryBank}(BaseObserver_1.BaseObserver);exports.FactoryBank=FactoryBank},422:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(2),__webpack_require__(29),__webpack_require__(128),Object.defineProperty(exports,"__esModule",{value:!0}),exports.Matrix=void 0;var Matrix=function(){function Matrix(matrix){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Matrix),this.matrix=matrix}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Matrix,[{key:"mmul",value:function mmul(matrix){var _this=this;return this.matrix=this.matrix.map((function(row,i){return matrix.asArray()[0].map((function(_,j){return row.reduce((function(acc,_,n){return acc+_this.matrix[i][n]*matrix.asArray()[n][j]}),0)}))})),this}},{key:"asArray",value:function asArray(){return this.matrix}},{key:"get",value:function get(rowIndex,columnIndex){return this.asArray()[rowIndex][columnIndex]}}]),Matrix}();exports.Matrix=Matrix},423:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(32),__webpack_require__(30),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.Rectangle=void 0;var Point_1=__webpack_require__(196),Rectangle=function(_Polygon_1$Polygon){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Rectangle,_Polygon_1$Polygon);var _super=_createSuper(Rectangle);function Rectangle(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return _classCallCheck(this,Rectangle),_possibleConstructorReturn(a instanceof Point_1.Point&&b instanceof Point_1.Point&&c instanceof Point_1.Point&&d instanceof Point_1.Point?_super.call(this,[a,b,c,d]):a instanceof Point_1.Point?_super.call(this,[a,new Point_1.Point(a.x+b,a.y),new Point_1.Point(a.x+b,a.y+c),new Point_1.Point(a.x,a.y+c)]):_super.call(this,Rectangle.pointsFromBounds(a,b,c,d)))}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Rectangle,[{key:"updateDimensions",value:function updateDimensions(x,y,width,height){this.points=Rectangle.pointsFromBounds(x,y,width,height)}},{key:"setPoints",value:function setPoints(points){if(4!==points.length)throw"Rectangles must always have 4 points";_get(_getPrototypeOf(Rectangle.prototype),"setPoints",this).call(this,points)}},{key:"containsPoint",value:function containsPoint(point){var tl=this.getTopLeft(),br=this.getBottomRight();return point.x>=tl.x&&point.x<=br.x&&point.y>=tl.y&&point.y<=br.y}},{key:"getWidth",value:function getWidth(){return Math.sqrt(Math.pow(this.getTopLeft().x-this.getTopRight().x,2)+Math.pow(this.getTopLeft().y-this.getTopRight().y,2))}},{key:"getHeight",value:function getHeight(){return Math.sqrt(Math.pow(this.getBottomLeft().x-this.getTopLeft().x,2)+Math.pow(this.getBottomLeft().y-this.getTopLeft().y,2))}},{key:"getTopMiddle",value:function getTopMiddle(){return Point_1.Point.middlePoint(this.getTopLeft(),this.getTopRight())}},{key:"getBottomMiddle",value:function getBottomMiddle(){return Point_1.Point.middlePoint(this.getBottomLeft(),this.getBottomRight())}},{key:"getLeftMiddle",value:function getLeftMiddle(){return Point_1.Point.middlePoint(this.getBottomLeft(),this.getTopLeft())}},{key:"getRightMiddle",value:function getRightMiddle(){return Point_1.Point.middlePoint(this.getBottomRight(),this.getTopRight())}},{key:"getTopLeft",value:function getTopLeft(){return this.points[0]}},{key:"getTopRight",value:function getTopRight(){return this.points[1]}},{key:"getBottomRight",value:function getBottomRight(){return this.points[2]}},{key:"getBottomLeft",value:function getBottomLeft(){return this.points[3]}}],[{key:"pointsFromBounds",value:function pointsFromBounds(x,y,width,height){return[new Point_1.Point(x,y),new Point_1.Point(x+width,y),new Point_1.Point(x+width,y+height),new Point_1.Point(x,y+height)]}}]),Rectangle}(__webpack_require__(277).Polygon);exports.Rectangle=Rectangle},424:function(module,exports,__webpack_require__){"use strict";function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(2),__webpack_require__(3),__webpack_require__(6),__webpack_require__(10),__webpack_require__(75),__webpack_require__(19),__webpack_require__(23),__webpack_require__(42),__webpack_require__(7),__webpack_require__(4),__webpack_require__(5),__webpack_require__(9),__webpack_require__(35),Object.defineProperty(exports,"__esModule",{value:!0}),exports.ActionEventBus=void 0;var Action_1=__webpack_require__(93),_=__webpack_require__(15),ActionEventBus=function(){function ActionEventBus(engine){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ActionEventBus),this.actions={},this.engine=engine,this.keys={}}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ActionEventBus,[{key:"getKeys",value:function getKeys(){return _.keys(this.keys)}},{key:"registerAction",value:function registerAction(action){var _this=this;return action.setEngine(this.engine),this.actions[action.id]=action,function(){_this.deregisterAction(action)}}},{key:"deregisterAction",value:function deregisterAction(action){action.setEngine(null),delete this.actions[action.id]}},{key:"getActionsForType",value:function getActionsForType(type){return _.filter(this.actions,(function(action){return action.options.type===type}))}},{key:"getModelForEvent",value:function getModelForEvent(actionEvent){return actionEvent.model?actionEvent.model:this.engine.getMouseElement(actionEvent.event)}},{key:"getActionsForEvent",value:function getActionsForEvent(actionEvent){var event=actionEvent.event;return"mousedown"===event.type?this.getActionsForType(Action_1.InputType.MOUSE_DOWN):"mouseup"===event.type?this.getActionsForType(Action_1.InputType.MOUSE_UP):"keydown"===event.type?(this.keys[event.key.toLowerCase()]=!0,this.getActionsForType(Action_1.InputType.KEY_DOWN)):"keyup"===event.type?(delete this.keys[event.key.toLowerCase()],this.getActionsForType(Action_1.InputType.KEY_UP)):"mousemove"===event.type?this.getActionsForType(Action_1.InputType.MOUSE_MOVE):"wheel"===event.type?this.getActionsForType(Action_1.InputType.MOUSE_WHEEL):[]}},{key:"fireAction",value:function fireAction(actionEvent){var _step,_iterator=_createForOfIteratorHelper(this.getActionsForEvent(actionEvent));try{for(_iterator.s();!(_step=_iterator.n()).done;){_step.value.options.fire(actionEvent)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}}]),ActionEventBus}();exports.ActionEventBus=ActionEventBus},425:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(19),__webpack_require__(3),__webpack_require__(23),__webpack_require__(42),__webpack_require__(7),__webpack_require__(4),__webpack_require__(5),__webpack_require__(9),__webpack_require__(6),__webpack_require__(10),__webpack_require__(35),Object.defineProperty(exports,"__esModule",{value:!0}),exports.ZoomCanvasAction=void 0;var Action_1=__webpack_require__(93),ZoomCanvasAction=function(_Action_1$Action){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ZoomCanvasAction,_Action_1$Action);var _super=_createSuper(ZoomCanvasAction);function ZoomCanvasAction(){var _this,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,ZoomCanvasAction),_this=_super.call(this,{type:Action_1.InputType.MOUSE_WHEEL,fire:function fire(actionEvent){var _step,event=actionEvent.event,_iterator=_createForOfIteratorHelper(_this.engine.getModel().getLayers());try{for(_iterator.s();!(_step=_iterator.n()).done;){_step.value.allowRepaint(!1)}}catch(err){_iterator.e(err)}finally{_iterator.f()}var model=_this.engine.getModel();event.stopPropagation();var oldZoomFactor=_this.engine.getModel().getZoomLevel()/100,scrollDelta=options.inverseZoom?-event.deltaY:event.deltaY;event.ctrlKey&&scrollDelta%1!=0?scrollDelta/=3:scrollDelta/=60,model.getZoomLevel()+scrollDelta>10&&model.setZoomLevel(model.getZoomLevel()+scrollDelta);var zoomFactor=model.getZoomLevel()/100,boundingRect=event.currentTarget.getBoundingClientRect(),clientWidth=boundingRect.width,clientHeight=boundingRect.height,widthDiff=clientWidth*zoomFactor-clientWidth*oldZoomFactor,heightDiff=clientHeight*zoomFactor-clientHeight*oldZoomFactor,clientX=event.clientX-boundingRect.left,clientY=event.clientY-boundingRect.top,xFactor=(clientX-model.getOffsetX())/oldZoomFactor/clientWidth,yFactor=(clientY-model.getOffsetY())/oldZoomFactor/clientHeight;model.setOffset(model.getOffsetX()-widthDiff*xFactor,model.getOffsetY()-heightDiff*yFactor),_this.engine.repaintCanvas();var _step2,_iterator2=_createForOfIteratorHelper(_this.engine.getModel().getLayers());try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){_step2.value.allowRepaint(!0)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}})}return ZoomCanvasAction}(Action_1.Action);exports.ZoomCanvasAction=ZoomCanvasAction},426:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(21),__webpack_require__(73),__webpack_require__(25),__webpack_require__(26),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.DeleteItemsAction=void 0;var Action_1=__webpack_require__(93),_=__webpack_require__(15),DeleteItemsAction=function(_Action_1$Action){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DeleteItemsAction,_Action_1$Action);var _super=_createSuper(DeleteItemsAction);function DeleteItemsAction(){var _this,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,DeleteItemsAction);var keyCodes=options.keyCodes||[46,8],modifiers=Object.assign({ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1},options.modifiers);return _this=_super.call(this,{type:Action_1.InputType.KEY_DOWN,fire:function fire(event){var _event$event=event.event,keyCode=_event$event.keyCode,ctrlKey=_event$event.ctrlKey,shiftKey=_event$event.shiftKey,altKey=_event$event.altKey,metaKey=_event$event.metaKey;-1!==keyCodes.indexOf(keyCode)&&_.isEqual({ctrlKey:ctrlKey,shiftKey:shiftKey,altKey:altKey,metaKey:metaKey},modifiers)&&(_.forEach(_this.engine.getModel().getSelectedEntities(),(function(model){model.isLocked()||model.remove()})),_this.engine.repaintCanvas())}})}return DeleteItemsAction}(Action_1.Action);exports.DeleteItemsAction=DeleteItemsAction},427:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.StateMachine=void 0;var _=__webpack_require__(15),StateMachine=function(_BaseObserver_1$BaseO){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(StateMachine,_BaseObserver_1$BaseO);var _super=_createSuper(StateMachine);function StateMachine(engine){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,StateMachine),(_this=_super.call(this)).engine=engine,_this.stateStack=[],_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(StateMachine,[{key:"getCurrentState",value:function getCurrentState(){return this.currentState}},{key:"pushState",value:function pushState(state){this.stateStack.push(state),this.setState(state)}},{key:"popState",value:function popState(){this.stateStack.pop(),this.setState(_.last(this.stateStack))}},{key:"setState",value:function setState(state){state.setEngine(this.engine),this.currentState&&this.currentState.deactivated(state);var old=this.currentState;this.currentState=state,this.currentState&&(this.currentState.activated(old),this.fireEvent({newState:state},"stateChanged"))}}]),StateMachine}(__webpack_require__(159).BaseObserver);exports.StateMachine=StateMachine},428:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(2),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractFactory=void 0;var AbstractFactory=function(){function AbstractFactory(type){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AbstractFactory),this.type=type}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(AbstractFactory,[{key:"setDiagramEngine",value:function setDiagramEngine(engine){this.engine=engine}},{key:"setFactoryBank",value:function setFactoryBank(bank){this.bank=bank}},{key:"getType",value:function getType(){return this.type}}]),AbstractFactory}();exports.AbstractFactory=AbstractFactory},429:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractModelFactory=void 0;var AbstractModelFactory=function(_AbstractFactory_1$Ab){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(AbstractModelFactory,_AbstractFactory_1$Ab);var _super=_createSuper(AbstractModelFactory);function AbstractModelFactory(){return _classCallCheck(this,AbstractModelFactory),_super.apply(this,arguments)}return AbstractModelFactory}(__webpack_require__(428).AbstractFactory);exports.AbstractModelFactory=AbstractModelFactory},430:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractReactFactory=void 0;var AbstractReactFactory=function(_AbstractModelFactory){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(AbstractReactFactory,_AbstractModelFactory);var _super=_createSuper(AbstractReactFactory);function AbstractReactFactory(){return _classCallCheck(this,AbstractReactFactory),_super.apply(this,arguments)}return AbstractReactFactory}(__webpack_require__(429).AbstractModelFactory);exports.AbstractReactFactory=AbstractReactFactory},431:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(21),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(32),__webpack_require__(30),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.BasePositionModel=void 0;var BaseModel_1=__webpack_require__(281),geometry_1=__webpack_require__(103),BasePositionModel=function(_BaseModel_1$BaseMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(BasePositionModel,_BaseModel_1$BaseMode);var _super=_createSuper(BasePositionModel);function BasePositionModel(options){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BasePositionModel),(_this=_super.call(this,options)).position=options.position||new geometry_1.Point(0,0),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(BasePositionModel,[{key:"setPosition",value:function setPosition(x,y){"object"===_typeof(x)?this.position=x:_typeof(x)&&(this.position=new geometry_1.Point(x,y)),this.fireEvent({},"positionChanged")}},{key:"getBoundingBox",value:function getBoundingBox(){return new geometry_1.Rectangle(this.position,0,0)}},{key:"deserialize",value:function deserialize(event){_get(_getPrototypeOf(BasePositionModel.prototype),"deserialize",this).call(this,event),this.position=new geometry_1.Point(event.data.x,event.data.y)}},{key:"serialize",value:function serialize(){return Object.assign(Object.assign({},_get(_getPrototypeOf(BasePositionModel.prototype),"serialize",this).call(this)),{x:this.position.x,y:this.position.y})}},{key:"getPosition",value:function getPosition(){return this.position}},{key:"getX",value:function getX(){return this.position.x}},{key:"getY",value:function getY(){return this.position.y}}]),BasePositionModel}(BaseModel_1.BaseModel);exports.BasePositionModel=BasePositionModel},432:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var _templateObject,_templateObject2,_templateObject3;function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}__webpack_require__(19),__webpack_require__(41),__webpack_require__(39),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),__webpack_require__(2),__webpack_require__(31),Object.defineProperty(exports,"__esModule",{value:!0}),exports.TransformLayerWidget=void 0;var S,React=__webpack_require__(0),styled_1=__webpack_require__(37),react_1=__webpack_require__(117);!function(S){var shared=react_1.css(_templateObject||(_templateObject=_taggedTemplateLiteral(["\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tposition: absolute;\n\t\tpointer-events: none;\n\t\ttransform-origin: 0 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\toverflow: visible;\n\t"])));S.DivLayer=styled_1.default.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral(["\n\t\t","\n\t"])),shared),S.SvgLayer=styled_1.default.svg(_templateObject3||(_templateObject3=_taggedTemplateLiteral(["\n\t\t","\n\t"])),shared)}(S||(S={}));var TransformLayerWidget=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(TransformLayerWidget,_React$Component);var _super=_createSuper(TransformLayerWidget);function TransformLayerWidget(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TransformLayerWidget),(_this=_super.call(this,props)).state={},_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(TransformLayerWidget,[{key:"getTransform",value:function getTransform(){var model=this.props.layer.getParent();return"\n\t\t\ttranslate(\n\t\t\t\t".concat(model.getOffsetX(),"px,\n\t\t\t\t").concat(model.getOffsetY(),"px)\n\t\t\tscale(\n\t\t\t\t").concat(model.getZoomLevel()/100,"\n\t\t\t)\n  \t")}},{key:"getTransformStyle",value:function getTransformStyle(){return this.props.layer.getOptions().transformed?{transform:this.getTransform()}:{}}},{key:"render",value:function render(){return this.props.layer.getOptions().isSvg?React.createElement(S.SvgLayer,{style:this.getTransformStyle()},this.props.children):React.createElement(S.DivLayer,{style:this.getTransformStyle()},this.props.children)}}]),TransformLayerWidget}(React.Component);exports.TransformLayerWidget=TransformLayerWidget,TransformLayerWidget.__docgenInfo={description:"",methods:[{name:"getTransform",docblock:null,modifiers:[],params:[],returns:null},{name:"getTransformStyle",docblock:null,modifiers:[],params:[],returns:null}],displayName:"TransformLayerWidget"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../packages/react-canvas-core/dist/entities/layer/TransformLayerWidget.js"]={name:"TransformLayerWidget",docgenInfo:TransformLayerWidget.__docgenInfo,path:"../packages/react-canvas-core/dist/entities/layer/TransformLayerWidget.js"})},433:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.SmartLayerWidget=void 0;var SmartLayerWidget=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(SmartLayerWidget,_React$Component);var _super=_createSuper(SmartLayerWidget);function SmartLayerWidget(){return _classCallCheck(this,SmartLayerWidget),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(SmartLayerWidget,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(){return this.props.layer.isRepaintEnabled()}},{key:"render",value:function render(){return this.props.engine.getFactoryForLayer(this.props.layer).generateReactWidget({model:this.props.layer})}}]),SmartLayerWidget}(__webpack_require__(0).Component);exports.SmartLayerWidget=SmartLayerWidget,SmartLayerWidget.__docgenInfo={description:"",methods:[],displayName:"SmartLayerWidget"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../packages/react-canvas-core/dist/entities/layer/SmartLayerWidget.js"]={name:"SmartLayerWidget",docgenInfo:SmartLayerWidget.__docgenInfo,path:"../packages/react-canvas-core/dist/entities/layer/SmartLayerWidget.js"})},434:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(25),__webpack_require__(26),__webpack_require__(21),__webpack_require__(160),__webpack_require__(161),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(32),__webpack_require__(30),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.LayerModel=void 0;var BaseModel_1=__webpack_require__(281),_=__webpack_require__(15),LayerModel=function(_BaseModel_1$BaseMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(LayerModel,_BaseModel_1$BaseMode);var _super=_createSuper(LayerModel);function LayerModel(){var _this,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,LayerModel),(_this=_super.call(this,options)).models={},_this.repaintEnabled=!0,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(LayerModel,[{key:"deserialize",value:function deserialize(event){var _this2=this;_get(_getPrototypeOf(LayerModel.prototype),"deserialize",this).call(this,event),this.options.isSvg=!!event.data.isSvg,this.options.transformed=!!event.data.transformed,_.forEach(event.data.models,(function(model){var modelOb=_this2.getChildModelFactoryBank(event.engine).getFactory(model.type).generateModel({initialConfig:model});modelOb.deserialize(Object.assign(Object.assign({},event),{data:model})),_this2.addModel(modelOb)}))}},{key:"serialize",value:function serialize(){return Object.assign(Object.assign({},_get(_getPrototypeOf(LayerModel.prototype),"serialize",this).call(this)),{isSvg:this.options.isSvg,transformed:this.options.transformed,models:_.mapValues(this.models,(function(model){return model.serialize()}))})}},{key:"isRepaintEnabled",value:function isRepaintEnabled(){return this.repaintEnabled}},{key:"allowRepaint",value:function allowRepaint(){var allow=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.repaintEnabled=allow}},{key:"remove",value:function remove(){this.parent&&this.parent.removeLayer(this),_get(_getPrototypeOf(LayerModel.prototype),"remove",this).call(this)}},{key:"addModel",value:function addModel(model){model.setParent(this),this.models[model.getID()]=model}},{key:"getSelectionEntities",value:function getSelectionEntities(){return _.flatMap(this.models,(function(model){return model.getSelectionEntities()}))}},{key:"getModels",value:function getModels(){return this.models}},{key:"getModel",value:function getModel(id){return this.models[id]}},{key:"removeModel",value:function removeModel(id){var _id="string"==typeof id?id:id.getID();return!!this.models[_id]&&(delete this.models[_id],!0)}}]),LayerModel}(BaseModel_1.BaseModel);exports.LayerModel=LayerModel},435:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var _templateObject;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(19),__webpack_require__(41),__webpack_require__(39),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),__webpack_require__(2),Object.defineProperty(exports,"__esModule",{value:!0}),exports.SelectionBoxWidget=void 0;var S,React=__webpack_require__(0),styled_1=__webpack_require__(37);!function(S){S.Container=styled_1.default.div(_templateObject||(_templateObject=function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n\t\tposition: absolute;\n\t\tbackground-color: rgba(0, 192, 255, 0.2);\n\t\tborder: solid 2px rgb(0, 192, 255);\n\t"])))}(S||(S={}));var SelectionBoxWidget=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(SelectionBoxWidget,_React$Component);var _super=_createSuper(SelectionBoxWidget);function SelectionBoxWidget(){return _classCallCheck(this,SelectionBoxWidget),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(SelectionBoxWidget,[{key:"render",value:function render(){var rect=this.props.rect;return React.createElement(S.Container,{style:{top:rect.top,left:rect.left,width:rect.width,height:rect.height}})}}]),SelectionBoxWidget}(React.Component);exports.SelectionBoxWidget=SelectionBoxWidget,SelectionBoxWidget.__docgenInfo={description:"",methods:[],displayName:"SelectionBoxWidget"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../packages/react-canvas-core/dist/entities/selection/SelectionBoxWidget.js"]={name:"SelectionBoxWidget",docgenInfo:SelectionBoxWidget.__docgenInfo,path:"../packages/react-canvas-core/dist/entities/selection/SelectionBoxWidget.js"})},436:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(135),__webpack_require__(101),__webpack_require__(3),__webpack_require__(2),__webpack_require__(21),__webpack_require__(11),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(32),__webpack_require__(30),__webpack_require__(19),__webpack_require__(23),__webpack_require__(42),__webpack_require__(7),__webpack_require__(4),__webpack_require__(5),__webpack_require__(9),__webpack_require__(6),__webpack_require__(10),__webpack_require__(35);var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DragCanvasState=void 0;var DragCanvasState=function(_AbstractDisplacement){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DragCanvasState,_AbstractDisplacement);var _super2=_createSuper(DragCanvasState);function DragCanvasState(){var _this,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,DragCanvasState),(_this=_super2.call(this,{name:"drag-canvas"})).config=Object.assign({allowDrag:!0},options),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DragCanvasState,[{key:"activated",value:function activated(prev){var _this2=this,_super=Object.create(null,{activated:{get:function get(){return _get(_getPrototypeOf(DragCanvasState.prototype),"activated",_this2)}}});return __awaiter(this,void 0,void 0,regeneratorRuntime.mark((function _callee(){var _iterator,_step;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _super.activated.call(this,prev),this.engine.getModel().clearSelection(),_context.next=4,this.engine.repaintCanvas(!0);case 4:_iterator=_createForOfIteratorHelper(this.engine.getModel().getLayers());try{for(_iterator.s();!(_step=_iterator.n()).done;)_step.value.allowRepaint(!1)}catch(err){_iterator.e(err)}finally{_iterator.f()}this.initialCanvasX=this.engine.getModel().getOffsetX(),this.initialCanvasY=this.engine.getModel().getOffsetY();case 8:case"end":return _context.stop()}}),_callee,this)})))}},{key:"deactivated",value:function deactivated(next){_get(_getPrototypeOf(DragCanvasState.prototype),"deactivated",this).call(this,next);var _step2,_iterator2=_createForOfIteratorHelper(this.engine.getModel().getLayers());try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){_step2.value.allowRepaint(!0)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}},{key:"fireMouseMoved",value:function fireMouseMoved(event){this.config.allowDrag&&(this.engine.getModel().setOffset(this.initialCanvasX+event.displacementX,this.initialCanvasY+event.displacementY),this.engine.repaintCanvas())}}]),DragCanvasState}(__webpack_require__(197).AbstractDisplacementState);exports.DragCanvasState=DragCanvasState},437:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(3),__webpack_require__(6),__webpack_require__(10),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(9),__webpack_require__(7),Object.defineProperty(exports,"__esModule",{value:!0}),exports.SelectingState=void 0;var State_1=__webpack_require__(198),Action_1=__webpack_require__(93),SelectionBoxState_1=__webpack_require__(438),SelectingState=function(_State_1$State){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(SelectingState,_State_1$State);var _super=_createSuper(SelectingState);function SelectingState(){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SelectingState),(_this=_super.call(this,{name:"selecting"})).keys=["shift"],_this.registerAction(new Action_1.Action({type:Action_1.InputType.MOUSE_DOWN,fire:function fire(event){var element=_this.engine.getActionEventBus().getModelForEvent(event);element?(element.setSelected(!0),_this.engine.repaintCanvas()):_this.transitionWithEvent(new SelectionBoxState_1.SelectionBoxState,event)}})),_this}return SelectingState}(State_1.State);exports.SelectingState=SelectingState},438:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(32),__webpack_require__(30),__webpack_require__(19),__webpack_require__(3),__webpack_require__(23),__webpack_require__(42),__webpack_require__(7),__webpack_require__(4),__webpack_require__(5),__webpack_require__(9),__webpack_require__(6),__webpack_require__(10),__webpack_require__(35),Object.defineProperty(exports,"__esModule",{value:!0}),exports.SelectionBoxState=void 0;var AbstractDisplacementState_1=__webpack_require__(197),SelectionLayerModel_1=__webpack_require__(282),geometry_1=__webpack_require__(103),SelectionBoxState=function(_AbstractDisplacement){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(SelectionBoxState,_AbstractDisplacement);var _super=_createSuper(SelectionBoxState);function SelectionBoxState(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SelectionBoxState),_super.call(this,{name:"selection-box"})}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(SelectionBoxState,[{key:"activated",value:function activated(previous){_get(_getPrototypeOf(SelectionBoxState.prototype),"activated",this).call(this,previous),this.layer=new SelectionLayerModel_1.SelectionLayerModel,this.engine.getModel().addLayer(this.layer)}},{key:"deactivated",value:function deactivated(next){_get(_getPrototypeOf(SelectionBoxState.prototype),"deactivated",this).call(this,next),this.layer.remove(),this.engine.repaintCanvas()}},{key:"getBoxDimensions",value:function getBoxDimensions(event){var rel=this.engine.getRelativePoint(event.event.clientX,event.event.clientY);return{left:rel.x>this.initialXRelative?this.initialXRelative:rel.x,top:rel.y>this.initialYRelative?this.initialYRelative:rel.y,width:Math.abs(rel.x-this.initialXRelative),height:Math.abs(rel.y-this.initialYRelative),right:rel.x<this.initialXRelative?this.initialXRelative:rel.x,bottom:rel.y<this.initialYRelative?this.initialYRelative:rel.y}}},{key:"fireMouseMoved",value:function fireMouseMoved(event){this.layer.setBox(this.getBoxDimensions(event));var relative=this.engine.getRelativeMousePoint({clientX:this.initialX,clientY:this.initialY});event.virtualDisplacementX<0&&(relative.x-=Math.abs(event.virtualDisplacementX)),event.virtualDisplacementY<0&&(relative.y-=Math.abs(event.virtualDisplacementY));var _step,rect=new geometry_1.Rectangle(relative,Math.abs(event.virtualDisplacementX),Math.abs(event.virtualDisplacementY)),_iterator=_createForOfIteratorHelper(this.engine.getModel().getSelectionEntities());try{for(_iterator.s();!(_step=_iterator.n()).done;){var model=_step.value;if(model.getBoundingBox){var bounds=model.getBoundingBox();rect.containsPoint(bounds.getTopLeft())&&rect.containsPoint(bounds.getBottomRight())?model.setSelected(!0):model.setSelected(!1)}}}catch(err){_iterator.e(err)}finally{_iterator.f()}this.engine.repaintCanvas()}}]),SelectionBoxState}(AbstractDisplacementState_1.AbstractDisplacementState);exports.SelectionBoxState=SelectionBoxState},439:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(32),__webpack_require__(30),__webpack_require__(19),__webpack_require__(3),__webpack_require__(23),__webpack_require__(42),__webpack_require__(7),__webpack_require__(4),__webpack_require__(5),__webpack_require__(9),__webpack_require__(6),__webpack_require__(10),__webpack_require__(35),Object.defineProperty(exports,"__esModule",{value:!0}),exports.MoveItemsState=void 0;var AbstractDisplacementState_1=__webpack_require__(197),Action_1=__webpack_require__(93),BasePositionModel_1=__webpack_require__(431),MoveItemsState=function(_AbstractDisplacement){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(MoveItemsState,_AbstractDisplacement);var _super=_createSuper(MoveItemsState);function MoveItemsState(){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MoveItemsState),(_this=_super.call(this,{name:"move-items"})).registerAction(new Action_1.Action({type:Action_1.InputType.MOUSE_DOWN,fire:function fire(event){var element=_this.engine.getActionEventBus().getModelForEvent(event);element&&(element.isSelected()||_this.engine.getModel().clearSelection(),element.setSelected(!0),_this.engine.repaintCanvas())}})),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(MoveItemsState,[{key:"activated",value:function activated(previous){_get(_getPrototypeOf(MoveItemsState.prototype),"activated",this).call(this,previous),this.initialPositions={}}},{key:"fireMouseMoved",value:function fireMouseMoved(event){var _step,items=this.engine.getModel().getSelectedEntities(),model=this.engine.getModel(),_iterator=_createForOfIteratorHelper(items);try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value;if(item instanceof BasePositionModel_1.BasePositionModel){if(item.isLocked())continue;this.initialPositions[item.getID()]||(this.initialPositions[item.getID()]={point:item.getPosition(),item:item});var pos=this.initialPositions[item.getID()].point;item.setPosition(model.getGridPosition(pos.x+event.virtualDisplacementX),model.getGridPosition(pos.y+event.virtualDisplacementY))}}}catch(err){_iterator.e(err)}finally{_iterator.f()}this.engine.repaintCanvas()}}]),MoveItemsState}(AbstractDisplacementState_1.AbstractDisplacementState);exports.MoveItemsState=MoveItemsState},440:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(22),__webpack_require__(29),__webpack_require__(31),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.LinkWidget=void 0;var React=__webpack_require__(0),_=__webpack_require__(15),LabelWidget_1=__webpack_require__(857),react_canvas_core_1=__webpack_require__(8),LinkWidget=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(LinkWidget,_React$Component);var _super=_createSuper(LinkWidget);function LinkWidget(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LinkWidget),(_this=_super.call(this,props)).state={sourcePort:null,targetPort:null},_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(LinkWidget,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.sourceListener&&this.sourceListener.deregister(),this.targetListener&&this.targetListener.deregister()}},{key:"installTarget",value:function installTarget(){var _this2=this;this.targetListener&&this.targetListener.deregister(),this.props.link.getTargetPort()&&(this.targetListener=this.props.link.getTargetPort().registerListener({reportInitialPosition:function reportInitialPosition(event){_this2.forceUpdate()}}))}},{key:"installSource",value:function installSource(){var _this3=this;this.sourceListener&&this.sourceListener.deregister(),this.props.link.getSourcePort()&&(this.sourceListener=this.props.link.getSourcePort().registerListener({reportInitialPosition:function reportInitialPosition(event){_this3.forceUpdate()}}))}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState,snapshot){prevState.sourcePort!==this.state.sourcePort&&this.installSource(),prevState.targetPort!==this.state.targetPort&&this.installTarget()}},{key:"componentDidMount",value:function componentDidMount(){this.props.link.getSourcePort()&&this.installSource(),this.props.link.getTargetPort()&&this.installTarget()}},{key:"render",value:function render(){var _this4=this,link=this.props.link;return link.getSourcePort()&&!link.getSourcePort().reportedPosition||link.getTargetPort()&&!link.getTargetPort().reportedPosition?null:React.createElement(react_canvas_core_1.PeformanceWidget,{model:this.props.link,serialized:this.props.link.serialize()},(function(){return React.createElement("g",{"data-linkid":_this4.props.link.getID()},_this4.props.diagramEngine.generateWidgetForLink(link),_.map(_this4.props.link.getLabels(),(function(labelModel,index){return React.createElement(LabelWidget_1.LabelWidget,{key:labelModel.getID(),engine:_this4.props.diagramEngine,label:labelModel,index:index})})))}))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){return{sourcePort:nextProps.link.getSourcePort(),targetPort:nextProps.link.getTargetPort()}}},{key:"generateLinePath",value:function generateLinePath(firstPoint,lastPoint){return"M".concat(firstPoint.getX(),",").concat(firstPoint.getY()," L ").concat(lastPoint.getX(),",").concat(lastPoint.getY())}}]),LinkWidget}(React.Component);exports.LinkWidget=LinkWidget,LinkWidget.__docgenInfo={description:"",methods:[{name:"installTarget",docblock:null,modifiers:[],params:[],returns:null},{name:"installSource",docblock:null,modifiers:[],params:[],returns:null},{name:"generateLinePath",docblock:null,modifiers:["static"],params:[{name:"firstPoint",type:null},{name:"lastPoint",type:null}],returns:null}],displayName:"LinkWidget"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../packages/react-diagrams-core/dist/entities/link/LinkWidget.js"]={name:"LinkWidget",docgenInfo:LinkWidget.__docgenInfo,path:"../packages/react-diagrams-core/dist/entities/link/LinkWidget.js"})},441:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var _templateObject;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(19),__webpack_require__(41),__webpack_require__(39),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),__webpack_require__(2),__webpack_require__(29),Object.defineProperty(exports,"__esModule",{value:!0}),exports.LinkLayerWidget=void 0;var S,React=__webpack_require__(0),styled_1=__webpack_require__(37),_=__webpack_require__(15),LinkWidget_1=__webpack_require__(440);!function(S){S.Container=styled_1.default.div(_templateObject||(_templateObject=function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}([""])))}(S||(S={}));var LinkLayerWidget=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(LinkLayerWidget,_React$Component);var _super=_createSuper(LinkLayerWidget);function LinkLayerWidget(){return _classCallCheck(this,LinkLayerWidget),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(LinkLayerWidget,[{key:"render",value:function render(){var _this=this;return React.createElement(React.Fragment,null,_.map(this.props.layer.getLinks(),(function(link){return React.createElement(LinkWidget_1.LinkWidget,{key:link.getID(),link:link,diagramEngine:_this.props.engine})})))}}]),LinkLayerWidget}(React.Component);exports.LinkLayerWidget=LinkLayerWidget,LinkLayerWidget.__docgenInfo={description:"",methods:[],displayName:"LinkLayerWidget"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../packages/react-diagrams-core/dist/entities/link-layer/LinkLayerWidget.js"]={name:"LinkLayerWidget",docgenInfo:LinkLayerWidget.__docgenInfo,path:"../packages/react-diagrams-core/dist/entities/link-layer/LinkLayerWidget.js"})},442:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var _templateObject;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(19),__webpack_require__(41),__webpack_require__(39),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),__webpack_require__(2),__webpack_require__(29),Object.defineProperty(exports,"__esModule",{value:!0}),exports.NodeLayerWidget=void 0;var S,React=__webpack_require__(0),styled_1=__webpack_require__(37),_=__webpack_require__(15),NodeWidget_1=__webpack_require__(443);!function(S){S.Container=styled_1.default.div(_templateObject||(_templateObject=function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}([""])))}(S||(S={}));var NodeLayerWidget=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(NodeLayerWidget,_React$Component);var _super=_createSuper(NodeLayerWidget);function NodeLayerWidget(){return _classCallCheck(this,NodeLayerWidget),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(NodeLayerWidget,[{key:"render",value:function render(){var _this=this;return React.createElement(React.Fragment,null,_.map(this.props.layer.getNodes(),(function(node){return React.createElement(NodeWidget_1.NodeWidget,{key:node.getID(),diagramEngine:_this.props.engine,node:node})})))}}]),NodeLayerWidget}(React.Component);exports.NodeLayerWidget=NodeLayerWidget,NodeLayerWidget.__docgenInfo={description:"",methods:[],displayName:"NodeLayerWidget"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../packages/react-diagrams-core/dist/entities/node-layer/NodeLayerWidget.js"]={name:"NodeLayerWidget",docgenInfo:NodeLayerWidget.__docgenInfo,path:"../packages/react-diagrams-core/dist/entities/node-layer/NodeLayerWidget.js"})},443:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var _templateObject;function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(19),__webpack_require__(41),__webpack_require__(39),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),__webpack_require__(2),__webpack_require__(25),__webpack_require__(26),Object.defineProperty(exports,"__esModule",{value:!0}),exports.NodeWidget=void 0;var S,React=__webpack_require__(0),_=__webpack_require__(15),react_canvas_core_1=__webpack_require__(8),styled_1=__webpack_require__(37),resize_observer_polyfill_1=__webpack_require__(444);!function(S){S.Node=styled_1.default.div(_templateObject||(_templateObject=function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n\t\tposition: absolute;\n\t\t-webkit-touch-callout: none; /* iOS Safari */\n\t\t-webkit-user-select: none; /* Chrome/Safari/Opera */\n\t\tuser-select: none;\n\t\tcursor: move;\n\t\tpointer-events: all;\n\t"])))}(S||(S={}));var NodeWidget=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(NodeWidget,_React$Component);var _super=_createSuper(NodeWidget);function NodeWidget(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NodeWidget),(_this=_super.call(this,props)).ref=React.createRef(),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(NodeWidget,[{key:"componentWillUnmount",value:function componentWillUnmount(){var _a;this.ob.disconnect(),this.ob=null,null===(_a=this.listener)||void 0===_a||_a.deregister(),this.listener=null}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState,snapshot){this.listener&&this.props.node!==prevProps.node&&(this.listener.deregister(),this.installSelectionListener())}},{key:"installSelectionListener",value:function installSelectionListener(){var _this2=this;this.listener=this.props.node.registerListener({selectionChanged:function selectionChanged(event){_this2.forceUpdate()}})}},{key:"updateSize",value:function updateSize(width,height){var _this3=this;this.props.node.updateDimensions({width:width,height:height});try{_.forEach(this.props.node.getPorts(),(function(port){port.updateCoords(_this3.props.diagramEngine.getPortCoords(port))}))}catch(ex){}}},{key:"componentDidMount",value:function componentDidMount(){var _this4=this;this.ob=new resize_observer_polyfill_1.default((function(entities){var bounds=entities[0].contentRect;_this4.updateSize(bounds.width,bounds.height)}));var b=this.ref.current.getBoundingClientRect();this.updateSize(b.width,b.height),this.ob.observe(this.ref.current),this.installSelectionListener()}},{key:"render",value:function render(){var _this5=this;return React.createElement(react_canvas_core_1.PeformanceWidget,{model:this.props.node,serialized:this.props.node.serialize()},(function(){return React.createElement(S.Node,{className:"node",ref:_this5.ref,"data-nodeid":_this5.props.node.getID(),style:{top:_this5.props.node.getY(),left:_this5.props.node.getX()}},_this5.props.diagramEngine.generateWidgetForNode(_this5.props.node))}))}}]),NodeWidget}(React.Component);exports.NodeWidget=NodeWidget,NodeWidget.__docgenInfo={description:"",methods:[{name:"installSelectionListener",docblock:null,modifiers:[],params:[],returns:null},{name:"updateSize",docblock:null,modifiers:[],params:[{name:"width",type:null},{name:"height",type:null}],returns:null}],displayName:"NodeWidget"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../packages/react-diagrams-core/dist/entities/node/NodeWidget.js"]={name:"NodeWidget",docgenInfo:NodeWidget.__docgenInfo,path:"../packages/react-diagrams-core/dist/entities/node/NodeWidget.js"})},445:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(21),__webpack_require__(22),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.DragNewLinkState=void 0;var react_canvas_core_1=__webpack_require__(8),PortModel_1=__webpack_require__(200),DragNewLinkState=function(_react_canvas_core_1$){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DragNewLinkState,_react_canvas_core_1$);var _super=_createSuper(DragNewLinkState);function DragNewLinkState(){var _this,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,DragNewLinkState),(_this=_super.call(this,{name:"drag-new-link"})).config=Object.assign({allowLooseLinks:!0,allowLinksFromLockedPorts:!1},options),_this.registerAction(new react_canvas_core_1.Action({type:react_canvas_core_1.InputType.MOUSE_DOWN,fire:function fire(event){_this.port=_this.engine.getMouseElement(event.event),_this.config.allowLinksFromLockedPorts||!_this.port.isLocked()?(_this.link=_this.port.createLinkModel(),_this.link?(_this.link.setSelected(!0),_this.link.setSourcePort(_this.port),_this.engine.getModel().addLink(_this.link),_this.port.reportPosition()):_this.eject()):_this.eject()}})),_this.registerAction(new react_canvas_core_1.Action({type:react_canvas_core_1.InputType.MOUSE_UP,fire:function fire(event){var model=_this.engine.getMouseElement(event.event);if(model instanceof PortModel_1.PortModel)return _this.port.canLinkToPort(model)?(_this.link.setTargetPort(model),model.reportPosition(),void _this.engine.repaintCanvas()):(_this.link.remove(),void _this.engine.repaintCanvas());_this.config.allowLooseLinks||(_this.link.remove(),_this.engine.repaintCanvas())}})),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DragNewLinkState,[{key:"fireMouseMoved",value:function fireMouseMoved(event){var portPos=this.port.getPosition(),zoomLevelPercentage=this.engine.getModel().getZoomLevel()/100,engineOffsetX=this.engine.getModel().getOffsetX()/zoomLevelPercentage,engineOffsetY=this.engine.getModel().getOffsetY()/zoomLevelPercentage,initialXRelative=this.initialXRelative/zoomLevelPercentage,initialYRelative=this.initialYRelative/zoomLevelPercentage,linkNextX=portPos.x-engineOffsetX+(initialXRelative-portPos.x)+event.virtualDisplacementX,linkNextY=portPos.y-engineOffsetY+(initialYRelative-portPos.y)+event.virtualDisplacementY;this.link.getLastPoint().setPosition(linkNextX,linkNextY),this.engine.repaintCanvas()}}]),DragNewLinkState}(react_canvas_core_1.AbstractDisplacementState);exports.DragNewLinkState=DragNewLinkState},446:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(25),__webpack_require__(26),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.DragDiagramItemsState=void 0;var react_canvas_core_1=__webpack_require__(8),_=__webpack_require__(15),PointModel_1=__webpack_require__(284),PortModel_1=__webpack_require__(200),DragDiagramItemsState=function(_react_canvas_core_1$){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DragDiagramItemsState,_react_canvas_core_1$);var _super=_createSuper(DragDiagramItemsState);function DragDiagramItemsState(){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DragDiagramItemsState),(_this=_super.call(this)).registerAction(new react_canvas_core_1.Action({type:react_canvas_core_1.InputType.MOUSE_UP,fire:function fire(event){var item=_this.engine.getMouseElement(event.event);item instanceof PortModel_1.PortModel&&_.forEach(_this.initialPositions,(function(position){if(position.item instanceof PointModel_1.PointModel){var link=position.item.getParent();if(link.getLastPoint()!==position.item)return;link.getSourcePort().canLinkToPort(item)&&(link.setTargetPort(item),item.reportPosition(),_this.engine.repaintCanvas())}}))}})),_this}return DragDiagramItemsState}(react_canvas_core_1.MoveItemsState);exports.DragDiagramItemsState=DragDiagramItemsState},447:function(module,exports,__webpack_require__){"use strict";__webpack_require__(11),__webpack_require__(2);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__(863),exports),__exportStar(__webpack_require__(287),exports),__exportStar(__webpack_require__(448),exports),__exportStar(__webpack_require__(864),exports),__exportStar(__webpack_require__(288),exports),__exportStar(__webpack_require__(449),exports),__exportStar(__webpack_require__(451),exports),__exportStar(__webpack_require__(450),exports),__exportStar(__webpack_require__(865),exports),__exportStar(__webpack_require__(452),exports),__exportStar(__webpack_require__(453),exports),__exportStar(__webpack_require__(866),exports),__exportStar(__webpack_require__(454),exports),__exportStar(__webpack_require__(289),exports)},448:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var _templateObject;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(19),__webpack_require__(41),__webpack_require__(39),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),__webpack_require__(2),Object.defineProperty(exports,"__esModule",{value:!0}),exports.DefaultLabelWidget=void 0;var S,React=__webpack_require__(0),styled_1=__webpack_require__(37);!function(S){S.Label=styled_1.default.div(_templateObject||(_templateObject=function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n\t\tbackground: rgba(0, 0, 0, 0.8);\n\t\tborder-radius: 5px;\n\t\tcolor: white;\n\t\tfont-size: 12px;\n\t\tpadding: 4px 8px;\n\t\tfont-family: sans-serif;\n\t\tuser-select: none;\n\t"])))}(S||(S={}));var DefaultLabelWidget=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DefaultLabelWidget,_React$Component);var _super=_createSuper(DefaultLabelWidget);function DefaultLabelWidget(){return _classCallCheck(this,DefaultLabelWidget),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DefaultLabelWidget,[{key:"render",value:function render(){return React.createElement(S.Label,null,this.props.model.getOptions().label)}}]),DefaultLabelWidget}(React.Component);exports.DefaultLabelWidget=DefaultLabelWidget,DefaultLabelWidget.__docgenInfo={description:"",methods:[],displayName:"DefaultLabelWidget"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../packages/react-diagrams-defaults/dist/label/DefaultLabelWidget.js"]={name:"DefaultLabelWidget",docgenInfo:DefaultLabelWidget.__docgenInfo,path:"../packages/react-diagrams-defaults/dist/label/DefaultLabelWidget.js"})},449:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(22),__webpack_require__(29),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.DefaultLinkWidget=void 0;var React=__webpack_require__(0),react_diagrams_core_1=__webpack_require__(50),DefaultLinkPointWidget_1=__webpack_require__(450),DefaultLinkSegmentWidget_1=__webpack_require__(451),DefaultLinkWidget=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DefaultLinkWidget,_React$Component);var _super=_createSuper(DefaultLinkWidget);function DefaultLinkWidget(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DefaultLinkWidget),(_this=_super.call(this,props)).refPaths=[],_this.state={selected:!1},_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DefaultLinkWidget,[{key:"renderPoints",value:function renderPoints(){var _a;return null===(_a=this.props.renderPoints)||void 0===_a||_a}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.props.link.setRenderedPaths(this.refPaths.map((function(ref){return ref.current})))}},{key:"componentDidMount",value:function componentDidMount(){this.props.link.setRenderedPaths(this.refPaths.map((function(ref){return ref.current})))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.link.setRenderedPaths([])}},{key:"addPointToLink",value:function addPointToLink(event,index){var _this2=this;if(!event.shiftKey&&!this.props.link.isLocked()&&this.props.link.getPoints().length-1<=this.props.diagramEngine.getMaxNumberPointsPerLink()){var point=new react_diagrams_core_1.PointModel({link:this.props.link,position:this.props.diagramEngine.getRelativeMousePoint(event)});this.props.link.addPoint(point,index),event.persist(),event.stopPropagation(),this.forceUpdate((function(){_this2.props.diagramEngine.getActionEventBus().fireAction({event:event,model:point})}))}}},{key:"generatePoint",value:function generatePoint(point){return React.createElement(DefaultLinkPointWidget_1.DefaultLinkPointWidget,{key:point.getID(),point:point,colorSelected:this.props.link.getOptions().selectedColor,color:this.props.link.getOptions().color})}},{key:"generateLink",value:function generateLink(path,extraProps,id){var _this3=this,ref=React.createRef();return this.refPaths.push(ref),React.createElement(DefaultLinkSegmentWidget_1.DefaultLinkSegmentWidget,{key:"link-".concat(id),path:path,selected:this.state.selected,diagramEngine:this.props.diagramEngine,factory:this.props.diagramEngine.getFactoryForLink(this.props.link),link:this.props.link,forwardRef:ref,onSelection:function onSelection(selected){_this3.setState({selected:selected})},extras:extraProps})}},{key:"render",value:function render(){var _this4=this,points=this.props.link.getPoints(),paths=[];if(this.refPaths=[],2===points.length)paths.push(this.generateLink(this.props.link.getSVGPath(),{onMouseDown:function onMouseDown(event){var _a,_b;null===(_b=(_a=_this4.props).selected)||void 0===_b||_b.call(_a,event),_this4.addPointToLink(event,1)}},"0")),null==this.props.link.getTargetPort()&&paths.push(this.generatePoint(points[1]));else{for(var _loop=function _loop(j){paths.push(_this4.generateLink(react_diagrams_core_1.LinkWidget.generateLinePath(points[j],points[j+1]),{"data-linkid":_this4.props.link.getID(),"data-point":j,onMouseDown:function onMouseDown(event){var _a,_b;null===(_b=(_a=_this4.props).selected)||void 0===_b||_b.call(_a,event),_this4.addPointToLink(event,j+1)}},j))},j=0;j<points.length-1;j++)_loop(j);if(this.renderPoints()){for(var i=1;i<points.length-1;i++)paths.push(this.generatePoint(points[i]));null==this.props.link.getTargetPort()&&paths.push(this.generatePoint(points[points.length-1]))}}return React.createElement("g",{"data-default-link-test":this.props.link.getOptions().testName},paths)}}]),DefaultLinkWidget}(React.Component);exports.DefaultLinkWidget=DefaultLinkWidget,DefaultLinkWidget.__docgenInfo={description:"",methods:[{name:"renderPoints",docblock:null,modifiers:[],params:[],returns:null},{name:"addPointToLink",docblock:null,modifiers:[],params:[{name:"event",type:null},{name:"index",type:null}],returns:null},{name:"generatePoint",docblock:null,modifiers:[],params:[{name:"point",type:null}],returns:null},{name:"generateLink",docblock:null,modifiers:[],params:[{name:"path",type:null},{name:"extraProps",type:null},{name:"id",type:null}],returns:null}],displayName:"DefaultLinkWidget"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../packages/react-diagrams-defaults/dist/link/DefaultLinkWidget.js"]={name:"DefaultLinkWidget",docgenInfo:DefaultLinkWidget.__docgenInfo,path:"../packages/react-diagrams-defaults/dist/link/DefaultLinkWidget.js"})},450:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var _templateObject;function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(19),__webpack_require__(41),__webpack_require__(39),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),__webpack_require__(2),Object.defineProperty(exports,"__esModule",{value:!0}),exports.DefaultLinkPointWidget=void 0;var S,React=__webpack_require__(0),styled_1=__webpack_require__(37);!function(S){S.PointTop=styled_1.default.circle(_templateObject||(_templateObject=function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n\t\tpointer-events: all;\n\t"])))}(S||(S={}));var DefaultLinkPointWidget=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DefaultLinkPointWidget,_React$Component);var _super=_createSuper(DefaultLinkPointWidget);function DefaultLinkPointWidget(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DefaultLinkPointWidget),(_this=_super.call(this,props)).state={selected:!1},_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DefaultLinkPointWidget,[{key:"render",value:function render(){var _this2=this,point=this.props.point;return React.createElement("g",null,React.createElement("circle",{cx:point.getPosition().x,cy:point.getPosition().y,r:5,fill:this.state.selected||this.props.point.isSelected()?this.props.colorSelected:this.props.color}),React.createElement(S.PointTop,{className:"point",onMouseLeave:function onMouseLeave(){_this2.setState({selected:!1})},onMouseEnter:function onMouseEnter(){_this2.setState({selected:!0})},"data-id":point.getID(),"data-linkid":point.getLink().getID(),cx:point.getPosition().x,cy:point.getPosition().y,r:15,opacity:0}))}}]),DefaultLinkPointWidget}(React.Component);exports.DefaultLinkPointWidget=DefaultLinkPointWidget,DefaultLinkPointWidget.__docgenInfo={description:"",methods:[],displayName:"DefaultLinkPointWidget"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../packages/react-diagrams-defaults/dist/link/DefaultLinkPointWidget.js"]={name:"DefaultLinkPointWidget",docgenInfo:DefaultLinkPointWidget.__docgenInfo,path:"../packages/react-diagrams-defaults/dist/link/DefaultLinkPointWidget.js"})},451:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(22),__webpack_require__(21),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.DefaultLinkSegmentWidget=void 0;var React=__webpack_require__(0),DefaultLinkSegmentWidget=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DefaultLinkSegmentWidget,_React$Component);var _super=_createSuper(DefaultLinkSegmentWidget);function DefaultLinkSegmentWidget(){return _classCallCheck(this,DefaultLinkSegmentWidget),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DefaultLinkSegmentWidget,[{key:"render",value:function render(){var _this=this,Bottom=React.cloneElement(this.props.factory.generateLinkSegment(this.props.link,this.props.selected||this.props.link.isSelected(),this.props.path),{ref:this.props.forwardRef}),Top=React.cloneElement(Bottom,Object.assign(Object.assign({strokeLinecap:"round",onMouseLeave:function onMouseLeave(){_this.props.onSelection(!1)},onMouseEnter:function onMouseEnter(){_this.props.onSelection(!0)}},this.props.extras),{ref:null,"data-linkid":this.props.link.getID(),strokeOpacity:this.props.selected?.1:0,strokeWidth:20,fill:"none",onContextMenu:function onContextMenu(){_this.props.link.isLocked()||(event.preventDefault(),_this.props.link.remove())}}));return React.createElement("g",null,Bottom,Top)}}]),DefaultLinkSegmentWidget}(React.Component);exports.DefaultLinkSegmentWidget=DefaultLinkSegmentWidget,DefaultLinkSegmentWidget.__docgenInfo={description:"",methods:[],displayName:"DefaultLinkSegmentWidget"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../packages/react-diagrams-defaults/dist/link/DefaultLinkSegmentWidget.js"]={name:"DefaultLinkSegmentWidget",docgenInfo:DefaultLinkSegmentWidget.__docgenInfo,path:"../packages/react-diagrams-defaults/dist/link/DefaultLinkSegmentWidget.js"})},452:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(21),__webpack_require__(279),__webpack_require__(73),__webpack_require__(23),__webpack_require__(29),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(32),__webpack_require__(30),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.DefaultNodeModel=void 0;var _=__webpack_require__(15),react_diagrams_core_1=__webpack_require__(50),DefaultPortModel_1=__webpack_require__(289),DefaultNodeModel=function(_react_diagrams_core_){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DefaultNodeModel,_react_diagrams_core_);var _super=_createSuper(DefaultNodeModel);function DefaultNodeModel(){var _this,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},color=arguments.length>1?arguments[1]:void 0;return _classCallCheck(this,DefaultNodeModel),"string"==typeof options&&(options={name:options,color:color}),(_this=_super.call(this,Object.assign({type:"default",name:"Untitled",color:"rgb(0,192,255)"},options))).portsOut=[],_this.portsIn=[],_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DefaultNodeModel,[{key:"doClone",value:function doClone(lookupTable,clone){clone.portsIn=[],clone.portsOut=[],_get(_getPrototypeOf(DefaultNodeModel.prototype),"doClone",this).call(this,lookupTable,clone)}},{key:"removePort",value:function removePort(port){_get(_getPrototypeOf(DefaultNodeModel.prototype),"removePort",this).call(this,port),port.getOptions().in?this.portsIn.splice(this.portsIn.indexOf(port),1):this.portsOut.splice(this.portsOut.indexOf(port),1)}},{key:"addPort",value:function addPort(port){return _get(_getPrototypeOf(DefaultNodeModel.prototype),"addPort",this).call(this,port),port.getOptions().in?-1===this.portsIn.indexOf(port)&&this.portsIn.push(port):-1===this.portsOut.indexOf(port)&&this.portsOut.push(port),port}},{key:"addInPort",value:function addInPort(label){var after=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],p=new DefaultPortModel_1.DefaultPortModel({in:!0,name:label,label:label,alignment:react_diagrams_core_1.PortModelAlignment.LEFT});return after||this.portsIn.splice(0,0,p),this.addPort(p)}},{key:"addOutPort",value:function addOutPort(label){var after=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],p=new DefaultPortModel_1.DefaultPortModel({in:!1,name:label,label:label,alignment:react_diagrams_core_1.PortModelAlignment.RIGHT});return after||this.portsOut.splice(0,0,p),this.addPort(p)}},{key:"deserialize",value:function deserialize(event){var _this2=this;_get(_getPrototypeOf(DefaultNodeModel.prototype),"deserialize",this).call(this,event),this.options.name=event.data.name,this.options.color=event.data.color,this.portsIn=_.map(event.data.portsInOrder,(function(id){return _this2.getPortFromID(id)})),this.portsOut=_.map(event.data.portsOutOrder,(function(id){return _this2.getPortFromID(id)}))}},{key:"serialize",value:function serialize(){return Object.assign(Object.assign({},_get(_getPrototypeOf(DefaultNodeModel.prototype),"serialize",this).call(this)),{name:this.options.name,color:this.options.color,portsInOrder:_.map(this.portsIn,(function(port){return port.getID()})),portsOutOrder:_.map(this.portsOut,(function(port){return port.getID()}))})}},{key:"getInPorts",value:function getInPorts(){return this.portsIn}},{key:"getOutPorts",value:function getOutPorts(){return this.portsOut}}]),DefaultNodeModel}(react_diagrams_core_1.NodeModel);exports.DefaultNodeModel=DefaultNodeModel},453:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}__webpack_require__(19),__webpack_require__(41),__webpack_require__(39),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),__webpack_require__(2),__webpack_require__(23),__webpack_require__(29),Object.defineProperty(exports,"__esModule",{value:!0}),exports.DefaultNodeWidget=void 0;var S,React=__webpack_require__(0),_=__webpack_require__(15),DefaultPortLabelWidget_1=__webpack_require__(454),styled_1=__webpack_require__(37);!function(S){S.Node=styled_1.default.div(_templateObject||(_templateObject=_taggedTemplateLiteral(["\n\t\tbackground-color: ",";\n\t\tborder-radius: 5px;\n\t\tfont-family: sans-serif;\n\t\tcolor: white;\n\t\tborder: solid 2px black;\n\t\toverflow: visible;\n\t\tfont-size: 11px;\n\t\tborder: solid 2px ",";\n\t"])),(function(p){return p.background}),(function(p){return p.selected?"rgb(0,192,255)":"black"})),S.Title=styled_1.default.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral(["\n\t\tbackground: rgba(0, 0, 0, 0.3);\n\t\tdisplay: flex;\n\t\twhite-space: nowrap;\n\t\tjustify-items: center;\n\t"]))),S.TitleName=styled_1.default.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral(["\n\t\tflex-grow: 1;\n\t\tpadding: 5px 5px;\n\t"]))),S.Ports=styled_1.default.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral(["\n\t\tdisplay: flex;\n\t\tbackground-image: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2));\n\t"]))),S.PortsContainer=styled_1.default.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral(["\n\t\tflex-grow: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\n\t\t&:first-of-type {\n\t\t\tmargin-right: 10px;\n\t\t}\n\n\t\t&:only-child {\n\t\t\tmargin-right: 0px;\n\t\t}\n\t"])))}(S||(S={}));var DefaultNodeWidget=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DefaultNodeWidget,_React$Component);var _super=_createSuper(DefaultNodeWidget);function DefaultNodeWidget(){var _this;return _classCallCheck(this,DefaultNodeWidget),(_this=_super.apply(this,arguments)).generatePort=function(port){return React.createElement(DefaultPortLabelWidget_1.DefaultPortLabel,{engine:_this.props.engine,port:port,key:port.getID()})},_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DefaultNodeWidget,[{key:"render",value:function render(){return React.createElement(S.Node,{"data-default-node-name":this.props.node.getOptions().name,selected:this.props.node.isSelected(),background:this.props.node.getOptions().color},React.createElement(S.Title,null,React.createElement(S.TitleName,null,this.props.node.getOptions().name)),React.createElement(S.Ports,null,React.createElement(S.PortsContainer,null,_.map(this.props.node.getInPorts(),this.generatePort)),React.createElement(S.PortsContainer,null,_.map(this.props.node.getOutPorts(),this.generatePort))))}}]),DefaultNodeWidget}(React.Component);exports.DefaultNodeWidget=DefaultNodeWidget,DefaultNodeWidget.__docgenInfo={description:"Default node that models the DefaultNodeModel. It creates two columns\nfor both all the input ports on the left, and the output ports on the right.",methods:[],displayName:"DefaultNodeWidget"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../packages/react-diagrams-defaults/dist/node/DefaultNodeWidget.js"]={name:"DefaultNodeWidget",docgenInfo:DefaultNodeWidget.__docgenInfo,path:"../packages/react-diagrams-defaults/dist/node/DefaultNodeWidget.js"})},454:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var _templateObject,_templateObject2,_templateObject3;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}__webpack_require__(19),__webpack_require__(41),__webpack_require__(39),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),__webpack_require__(2),Object.defineProperty(exports,"__esModule",{value:!0}),exports.DefaultPortLabel=void 0;var S,React=__webpack_require__(0),react_diagrams_core_1=__webpack_require__(50),styled_1=__webpack_require__(37);!function(S){S.PortLabel=styled_1.default.div(_templateObject||(_templateObject=_taggedTemplateLiteral(["\n\t\tdisplay: flex;\n\t\tmargin-top: 1px;\n\t\talign-items: center;\n\t"]))),S.Label=styled_1.default.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral(["\n\t\tpadding: 0 5px;\n\t\tflex-grow: 1;\n\t"]))),S.Port=styled_1.default.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral(["\n\t\twidth: 15px;\n\t\theight: 15px;\n\t\tbackground: rgba(255, 255, 255, 0.1);\n\n\t\t&:hover {\n\t\t\tbackground: rgb(192, 255, 0);\n\t\t}\n\t"])))}(S||(S={}));var DefaultPortLabel=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DefaultPortLabel,_React$Component);var _super=_createSuper(DefaultPortLabel);function DefaultPortLabel(){return _classCallCheck(this,DefaultPortLabel),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DefaultPortLabel,[{key:"render",value:function render(){var port=React.createElement(react_diagrams_core_1.PortWidget,{engine:this.props.engine,port:this.props.port},React.createElement(S.Port,null)),label=React.createElement(S.Label,null,this.props.port.getOptions().label);return React.createElement(S.PortLabel,null,this.props.port.getOptions().in?port:label,this.props.port.getOptions().in?label:port)}}]),DefaultPortLabel}(React.Component);exports.DefaultPortLabel=DefaultPortLabel,DefaultPortLabel.__docgenInfo={description:"",methods:[],displayName:"DefaultPortLabel"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../packages/react-diagrams-defaults/dist/port/DefaultPortLabelWidget.js"]={name:"DefaultPortLabel",docgenInfo:DefaultPortLabel.__docgenInfo,path:"../packages/react-diagrams-defaults/dist/port/DefaultPortLabelWidget.js"})},455:function(module,exports,__webpack_require__){"use strict";__webpack_require__(11),__webpack_require__(2);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__(456),exports),__exportStar(__webpack_require__(457),exports),__exportStar(__webpack_require__(490),exports),__exportStar(__webpack_require__(492),exports),__exportStar(__webpack_require__(493),exports),__exportStar(__webpack_require__(494),exports),__exportStar(__webpack_require__(491),exports),__exportStar(__webpack_require__(908),exports)},456:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(29),__webpack_require__(3),__webpack_require__(6),__webpack_require__(10),__webpack_require__(75),__webpack_require__(160),__webpack_require__(161),__webpack_require__(128),__webpack_require__(31),__webpack_require__(25),__webpack_require__(26),__webpack_require__(867),__webpack_require__(19),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(32),__webpack_require__(30),__webpack_require__(4),__webpack_require__(5),__webpack_require__(9),__webpack_require__(7),Object.defineProperty(exports,"__esModule",{value:!0}),exports.PathFindingLinkFactory=void 0;var React=__webpack_require__(0),PathFindingLinkModel_1=__webpack_require__(457),PathFindingLinkWidget_1=__webpack_require__(490),_=__webpack_require__(15),Path=__webpack_require__(906),react_diagrams_defaults_1=__webpack_require__(132),react_canvas_core_1=__webpack_require__(8),PathFindingLinkFactory=function(_react_diagrams_defau){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(PathFindingLinkFactory,_react_diagrams_defau);var _super=_createSuper(PathFindingLinkFactory);function PathFindingLinkFactory(){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PathFindingLinkFactory),(_this=_super.call(this,PathFindingLinkFactory.NAME)).ROUTING_SCALING_FACTOR=5,_this.canvasMatrix=[],_this.routingMatrix=[],_this.hAdjustmentFactor=0,_this.vAdjustmentFactor=0,_this.calculateMatrixDimensions=function(){var allNodesCoords=_.values(_this.engine.getModel().getNodes()).map((function(item){return{x:item.getX(),width:item.width,y:item.getY(),height:item.height}})),allLinks=_.values(_this.engine.getModel().getLinks()),allPortsCoords=_.flatMap(allLinks.map((function(link){return[link.getSourcePort(),link.getTargetPort()]}))).filter((function(port){return null!==port})).map((function(item){return{x:item.getX(),width:item.width,y:item.getY(),height:item.height}})),allPointsCoords=_.flatMap(allLinks.map((function(link){return link.getPoints()}))).map((function(item){return{x:item.getX(),width:0,y:item.getY(),height:0}})),sumProps=function sumProps(object,props){return _.reduce(props,(function(acc,prop){return acc+_.get(object,prop,0)}),0)},canvas=_this.engine.getCanvas(),concatedCoords=_.concat(allNodesCoords,allPortsCoords,allPointsCoords),minX=Math.floor(Math.min(_.get(_.minBy(concatedCoords,"x"),"x",0),0)/_this.ROUTING_SCALING_FACTOR)*_this.ROUTING_SCALING_FACTOR,maxXElement=_.maxBy(concatedCoords,(function(item){return sumProps(item,["x","width"])})),maxX=Math.max(sumProps(maxXElement,["x","width"]),canvas.offsetWidth),minYCoords=_.minBy(concatedCoords,"y"),minY=Math.floor(Math.min(_.get(minYCoords,"y",0),0)/_this.ROUTING_SCALING_FACTOR)*_this.ROUTING_SCALING_FACTOR,maxYElement=_.maxBy(concatedCoords,(function(item){return sumProps(item,["y","height"])})),maxY=Math.max(sumProps(maxYElement,["y","height"]),canvas.offsetHeight);return{width:Math.ceil(Math.abs(minX)+maxX),hAdjustmentFactor:Math.abs(minX)/_this.ROUTING_SCALING_FACTOR+1,height:Math.ceil(Math.abs(minY)+maxY),vAdjustmentFactor:Math.abs(minY)/_this.ROUTING_SCALING_FACTOR+1}},_this.markNodes=function(matrix){_.values(_this.engine.getModel().getNodes()).forEach((function(node){for(var startX=Math.floor(node.getX()/_this.ROUTING_SCALING_FACTOR),endX=Math.ceil((node.getX()+node.width)/_this.ROUTING_SCALING_FACTOR),startY=Math.floor(node.getY()/_this.ROUTING_SCALING_FACTOR),endY=Math.ceil((node.getY()+node.height)/_this.ROUTING_SCALING_FACTOR),x=startX-1;x<=endX+1;x++)for(var y=startY-1;y<endY+1;y++)_this.markMatrixPoint(matrix,_this.translateRoutingX(x),_this.translateRoutingY(y))}))},_this.markPorts=function(matrix){_.flatMap(_.values(_this.engine.getModel().getLinks()).map((function(link){return[].concat(link.getSourcePort(),link.getTargetPort())}))).filter((function(port){return null!==port})).forEach((function(port){for(var startX=Math.floor(port.x/_this.ROUTING_SCALING_FACTOR),endX=Math.ceil((port.x+port.width)/_this.ROUTING_SCALING_FACTOR),startY=Math.floor(port.y/_this.ROUTING_SCALING_FACTOR),endY=Math.ceil((port.y+port.height)/_this.ROUTING_SCALING_FACTOR),x=startX-1;x<=endX+1;x++)for(var y=startY-1;y<endY+1;y++)_this.markMatrixPoint(matrix,_this.translateRoutingX(x),_this.translateRoutingY(y))}))},_this.markMatrixPoint=function(matrix,x,y){void 0!==matrix[y]&&void 0!==matrix[y][x]&&(matrix[y][x]=1)},_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(PathFindingLinkFactory,[{key:"setDiagramEngine",value:function setDiagramEngine(engine){var _this2=this;_get(_getPrototypeOf(PathFindingLinkFactory.prototype),"setDiagramEngine",this).call(this,engine),engine.getStateMachine().registerListener({stateChanged:function stateChanged(event){if(event.newState instanceof react_canvas_core_1.AbstractDisplacementState)var deRegister=engine.getActionEventBus().registerAction(new react_canvas_core_1.Action({type:react_canvas_core_1.InputType.MOUSE_UP,fire:function fire(){_this2.calculateRoutingMatrix(),engine.repaintCanvas(),deRegister()}}))}}),this.listener=engine.registerListener({canvasReady:function canvasReady(){_.defer((function(){_this2.calculateRoutingMatrix(),engine.repaintCanvas()}))}})}},{key:"setFactoryBank",value:function setFactoryBank(bank){_get(_getPrototypeOf(PathFindingLinkFactory.prototype),"setFactoryBank",this).call(this,bank),!bank&&this.listener&&this.listener.deregister()}},{key:"generateReactWidget",value:function generateReactWidget(event){return React.createElement(PathFindingLinkWidget_1.PathFindingLinkWidget,{diagramEngine:this.engine,link:event.model,factory:this})}},{key:"generateModel",value:function generateModel(event){return new PathFindingLinkModel_1.PathFindingLinkModel}},{key:"getCanvasMatrix",value:function getCanvasMatrix(){return 0===this.canvasMatrix.length&&this.calculateCanvasMatrix(),this.canvasMatrix}},{key:"calculateCanvasMatrix",value:function calculateCanvasMatrix(){var _this$calculateMatrix=this.calculateMatrixDimensions(),canvasWidth=_this$calculateMatrix.width,hAdjustmentFactor=_this$calculateMatrix.hAdjustmentFactor,canvasHeight=_this$calculateMatrix.height,vAdjustmentFactor=_this$calculateMatrix.vAdjustmentFactor;this.hAdjustmentFactor=hAdjustmentFactor,this.vAdjustmentFactor=vAdjustmentFactor;var matrixWidth=Math.ceil(canvasWidth/this.ROUTING_SCALING_FACTOR),matrixHeight=Math.ceil(canvasHeight/this.ROUTING_SCALING_FACTOR);this.canvasMatrix=_.range(0,matrixHeight).map((function(){return new Array(matrixWidth).fill(0)}))}},{key:"getRoutingMatrix",value:function getRoutingMatrix(){return 0===this.routingMatrix.length&&this.calculateRoutingMatrix(),this.routingMatrix}},{key:"calculateRoutingMatrix",value:function calculateRoutingMatrix(){var matrix=_.cloneDeep(this.getCanvasMatrix());this.markNodes(matrix),this.markPorts(matrix),this.routingMatrix=matrix}},{key:"translateRoutingX",value:function translateRoutingX(x){var reverse=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return x+this.hAdjustmentFactor*(reverse?-1:1)}},{key:"translateRoutingY",value:function translateRoutingY(y){var reverse=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return y+this.vAdjustmentFactor*(reverse?-1:1)}},{key:"generateDynamicPath",value:function generateDynamicPath(pathCoords){var _this3=this,path=Path();return path=path.moveto(pathCoords[0][0]*this.ROUTING_SCALING_FACTOR,pathCoords[0][1]*this.ROUTING_SCALING_FACTOR),pathCoords.slice(1).forEach((function(coords){path=path.lineto(coords[0]*_this3.ROUTING_SCALING_FACTOR,coords[1]*_this3.ROUTING_SCALING_FACTOR)})),path.print()}}]),PathFindingLinkFactory}(react_diagrams_defaults_1.DefaultLinkFactory);exports.PathFindingLinkFactory=PathFindingLinkFactory,PathFindingLinkFactory.NAME="pathfinding"},457:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(21),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.PathFindingLinkModel=void 0;var PathFindingLinkFactory_1=__webpack_require__(456),PathFindingLinkModel=function(_react_diagrams_defau){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(PathFindingLinkModel,_react_diagrams_defau);var _super=_createSuper(PathFindingLinkModel);function PathFindingLinkModel(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,PathFindingLinkModel),_super.call(this,Object.assign({type:PathFindingLinkFactory_1.PathFindingLinkFactory.NAME},options))}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(PathFindingLinkModel,[{key:"performanceTune",value:function performanceTune(){return!1}}]),PathFindingLinkModel}(__webpack_require__(132).DefaultLinkModel);exports.PathFindingLinkModel=PathFindingLinkModel},490:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(22),__webpack_require__(29),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.PathFindingLinkWidget=void 0;var React=__webpack_require__(0),_=__webpack_require__(15),PathFinding_1=__webpack_require__(491),react_diagrams_defaults_1=__webpack_require__(132),PathFindingLinkWidget=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(PathFindingLinkWidget,_React$Component);var _super=_createSuper(PathFindingLinkWidget);function PathFindingLinkWidget(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PathFindingLinkWidget),(_this=_super.call(this,props)).refPaths=[],_this.state={selected:!1},_this.pathFinding=new PathFinding_1.default(_this.props.factory),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(PathFindingLinkWidget,[{key:"componentDidUpdate",value:function componentDidUpdate(){this.props.link.setRenderedPaths(this.refPaths.map((function(ref){return ref.current})))}},{key:"componentDidMount",value:function componentDidMount(){this.props.link.setRenderedPaths(this.refPaths.map((function(ref){return ref.current})))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.link.setRenderedPaths([])}},{key:"generateLink",value:function generateLink(path,id){var _this2=this,ref=React.createRef();return this.refPaths.push(ref),React.createElement(react_diagrams_defaults_1.DefaultLinkSegmentWidget,{key:"link-".concat(id),path:path,selected:this.state.selected,diagramEngine:this.props.diagramEngine,factory:this.props.diagramEngine.getFactoryForLink(this.props.link),link:this.props.link,forwardRef:ref,onSelection:function onSelection(selected){_this2.setState({selected:selected})},extras:{}})}},{key:"render",value:function render(){this.refPaths=[];var points=this.props.link.getPoints(),paths=[],directPathCoords=this.pathFinding.calculateDirectPath(_.first(points),_.last(points)),routingMatrix=this.props.factory.getRoutingMatrix(),smartLink=this.pathFinding.calculateLinkStartEndCoords(routingMatrix,directPathCoords);if(smartLink){var start=smartLink.start,end=smartLink.end,pathToStart=smartLink.pathToStart,pathToEnd=smartLink.pathToEnd,simplifiedPath=this.pathFinding.calculateDynamicPath(routingMatrix,start,end,pathToStart,pathToEnd);paths.push(this.generateLink(this.props.factory.generateDynamicPath(simplifiedPath),"0"))}return React.createElement(React.Fragment,null,paths)}}]),PathFindingLinkWidget}(React.Component);exports.PathFindingLinkWidget=PathFindingLinkWidget,PathFindingLinkWidget.__docgenInfo={description:"",methods:[{name:"generateLink",docblock:null,modifiers:[],params:[{name:"path",type:null},{name:"id",type:null}],returns:null}],displayName:"PathFindingLinkWidget"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../packages/react-diagrams-routing/dist/link/PathFindingLinkWidget.js"]={name:"PathFindingLinkWidget",docgenInfo:PathFindingLinkWidget.__docgenInfo,path:"../packages/react-diagrams-routing/dist/link/PathFindingLinkWidget.js"})},491:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(2),__webpack_require__(888),__webpack_require__(889),__webpack_require__(19),__webpack_require__(29),__webpack_require__(31),Object.defineProperty(exports,"__esModule",{value:!0});var PF=__webpack_require__(890),pathFinderInstance=new PF.JumpPointFinder({heuristic:PF.Heuristic.manhattan,diagonalMovement:PF.DiagonalMovement.Never}),PathFinding=function(){function PathFinding(factory){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PathFinding),this.instance=pathFinderInstance,this.factory=factory}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(PathFinding,[{key:"calculateDirectPath",value:function calculateDirectPath(from,to){var matrix=this.factory.getCanvasMatrix(),grid=new PF.Grid(matrix);return pathFinderInstance.findPath(this.factory.translateRoutingX(Math.floor(from.getX()/this.factory.ROUTING_SCALING_FACTOR)),this.factory.translateRoutingY(Math.floor(from.getY()/this.factory.ROUTING_SCALING_FACTOR)),this.factory.translateRoutingX(Math.floor(to.getX()/this.factory.ROUTING_SCALING_FACTOR)),this.factory.translateRoutingY(Math.floor(to.getY()/this.factory.ROUTING_SCALING_FACTOR)),grid)}},{key:"calculateLinkStartEndCoords",value:function calculateLinkStartEndCoords(matrix,path){var startIndex=path.findIndex((function(point){return!!matrix[point[1]]&&0===matrix[point[1]][point[0]]})),endIndex=path.length-1-path.slice().reverse().findIndex((function(point){return!!matrix[point[1]]&&0===matrix[point[1]][point[0]]}));if(-1!==startIndex&&-1!==endIndex){var pathToStart=path.slice(0,startIndex),pathToEnd=path.slice(endIndex);return{start:{x:path[startIndex][0],y:path[startIndex][1]},end:{x:path[endIndex][0],y:path[endIndex][1]},pathToStart:pathToStart,pathToEnd:pathToEnd}}}},{key:"calculateDynamicPath",value:function calculateDynamicPath(routingMatrix,start,end,pathToStart,pathToEnd){var _this=this,grid=new PF.Grid(routingMatrix),dynamicPath=pathFinderInstance.findPath(start.x,start.y,end.x,end.y,grid),pathCoords=pathToStart.concat(dynamicPath,pathToEnd).map((function(coords){return[_this.factory.translateRoutingX(coords[0],!0),_this.factory.translateRoutingY(coords[1],!0)]}));return PF.Util.compressPath(pathCoords)}}]),PathFinding}();exports.default=PathFinding},492:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(152),__webpack_require__(22),__webpack_require__(29),__webpack_require__(25),__webpack_require__(26),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(35),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),__webpack_require__(42),__webpack_require__(19),__webpack_require__(23),Object.defineProperty(exports,"__esModule",{value:!0}),exports.RightAngleLinkWidget=void 0;var React=__webpack_require__(0),react_diagrams_core_1=__webpack_require__(104),react_diagrams_defaults_1=__webpack_require__(132),geometry_1=__webpack_require__(81),RightAngleLinkWidget=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(RightAngleLinkWidget,_React$Component);var _super=_createSuper(RightAngleLinkWidget);function RightAngleLinkWidget(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,RightAngleLinkWidget),(_this=_super.call(this,props)).handleMove=function(event){this.draggingEvent(event,this.dragging_index)}.bind(_assertThisInitialized(_this)),_this.handleUp=function(event){this.setState({canDrag:!1,selected:!1}),window.removeEventListener("mousemove",this.handleMove),window.removeEventListener("mouseup",this.handleUp)}.bind(_assertThisInitialized(_this)),_this.refPaths=[],_this.state={selected:!1,canDrag:!1},_this.dragging_index=0,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(RightAngleLinkWidget,[{key:"componentDidUpdate",value:function componentDidUpdate(){this.props.link.setRenderedPaths(this.refPaths.map((function(ref){return ref.current})))}},{key:"componentDidMount",value:function componentDidMount(){this.props.link.setRenderedPaths(this.refPaths.map((function(ref){return ref.current})))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.link.setRenderedPaths([])}},{key:"generateLink",value:function generateLink(path,extraProps,id){var _this2=this,ref=React.createRef();return this.refPaths.push(ref),React.createElement(react_diagrams_defaults_1.DefaultLinkSegmentWidget,{key:"link-".concat(id),path:path,selected:this.state.selected,diagramEngine:this.props.diagramEngine,factory:this.props.diagramEngine.getFactoryForLink(this.props.link),link:this.props.link,forwardRef:ref,onSelection:function onSelection(selected){_this2.setState({selected:selected})},extras:extraProps})}},{key:"calculatePositions",value:function calculatePositions(points,event,index,coordinate){var _points6;if(0===index){var point=new react_diagrams_core_1.PointModel({link:this.props.link,position:new geometry_1.Point(points[index].getX(),points[index].getY())});return this.props.link.addPoint(point,index),void this.dragging_index++}if(index!==points.length-2){if(index-2>0){var _points3,_points2=(_defineProperty(_points3={},index-2,points[index-2].getPosition()),_defineProperty(_points3,index+1,points[index+1].getPosition()),_defineProperty(_points3,index-1,points[index-1].getPosition()),_points3);if(Math.abs(_points2[index-1][coordinate]-_points2[index+1][coordinate])<5)return _points2[index-2][coordinate]=this.props.diagramEngine.getRelativeMousePoint(event)[coordinate],_points2[index+1][coordinate]=this.props.diagramEngine.getRelativeMousePoint(event)[coordinate],points[index-2].setPosition(_points2[index-2]),points[index+1].setPosition(_points2[index+1]),points[index-1].remove(),points[index-1].remove(),this.dragging_index--,void this.dragging_index--}if(index+2<points.length-2){var _points5,_points4=(_defineProperty(_points5={},index+3,points[index+3].getPosition()),_defineProperty(_points5,index+2,points[index+2].getPosition()),_defineProperty(_points5,index+1,points[index+1].getPosition()),_defineProperty(_points5,index,points[index].getPosition()),_points5);if(Math.abs(_points4[index+1][coordinate]-_points4[index+2][coordinate])<5)return _points4[index][coordinate]=this.props.diagramEngine.getRelativeMousePoint(event)[coordinate],_points4[index+3][coordinate]=this.props.diagramEngine.getRelativeMousePoint(event)[coordinate],points[index].setPosition(_points4[index]),points[index+3].setPosition(_points4[index+3]),points[index+1].remove(),void points[index+1].remove()}var _points=(_defineProperty(_points6={},index,points[index].getPosition()),_defineProperty(_points6,index+1,points[index+1].getPosition()),_points6);_points[index][coordinate]=this.props.diagramEngine.getRelativeMousePoint(event)[coordinate],_points[index+1][coordinate]=this.props.diagramEngine.getRelativeMousePoint(event)[coordinate],points[index].setPosition(_points[index]),points[index+1].setPosition(_points[index+1])}else{var _point=new react_diagrams_core_1.PointModel({link:this.props.link,position:new geometry_1.Point(points[index+1].getX(),points[index+1].getY())});this.props.link.addPoint(_point,index+1)}}},{key:"draggingEvent",value:function draggingEvent(event,index){var points=this.props.link.getPoints(),dx=Math.abs(points[index].getX()-points[index+1].getX()),dy=Math.abs(points[index].getY()-points[index+1].getY());0===dx?this.calculatePositions(points,event,index,"x"):0===dy&&this.calculatePositions(points,event,index,"y"),this.props.link.setFirstAndLastPathsDirection()}},{key:"render",value:function render(){var _this3=this,points=this.props.link.getPoints(),paths=[],pointLeft=points[0],pointRight=points[points.length-1],hadToSwitch=!1;pointLeft.getX()>pointRight.getX()&&(pointLeft=points[points.length-1],pointRight=points[0],hadToSwitch=!0);var dy=Math.abs(points[0].getY()-points[points.length-1].getY());if(null===this.props.link.getTargetPort()&&2===points.length)_toConsumableArray(Array(2)).forEach((function(item){_this3.props.link.addPoint(new react_diagrams_core_1.PointModel({link:_this3.props.link,position:new geometry_1.Point(pointLeft.getX(),pointRight.getY())}),1)})),this.props.link.setManuallyFirstAndLastPathsDirection(!0,!0);else if(null===this.props.link.getTargetPort()&&null!==this.props.link.getSourcePort())points[1].setPosition(pointRight.getX()+(pointLeft.getX()-pointRight.getX())/2,hadToSwitch?pointRight.getY():pointLeft.getY()),points[2].setPosition(pointRight.getX()+(pointLeft.getX()-pointRight.getX())/2,hadToSwitch?pointLeft.getY():pointRight.getY());else if(!this.state.canDrag&&points.length>2)for(var i=1;i<points.length;i+=points.length-2)i-1==0?this.props.link.getFirstPathXdirection()?points[i].setPosition(points[i].getX(),points[i-1].getY()):points[i].setPosition(points[i-1].getX(),points[i].getY()):this.props.link.getLastPathXdirection()?points[i-1].setPosition(points[i-1].getX(),points[i].getY()):points[i-1].setPosition(points[i].getX(),points[i-1].getY());2!==points.length||0===dy||this.state.canDrag||this.props.link.addPoint(new react_diagrams_core_1.PointModel({link:this.props.link,position:new geometry_1.Point(pointLeft.getX(),pointRight.getY())}));for(var _loop=function _loop(j){paths.push(_this3.generateLink(react_diagrams_core_1.LinkWidget.generateLinePath(points[j],points[j+1]),{"data-linkid":_this3.props.link.getID(),"data-point":j,onMouseDown:function onMouseDown(event){0===event.button&&(_this3.setState({canDrag:!0}),_this3.dragging_index=j,window.addEventListener("mousemove",_this3.handleMove),window.addEventListener("mouseup",_this3.handleUp))},onMouseEnter:function onMouseEnter(event){_this3.setState({selected:!0}),_this3.props.link.lastHoverIndexOfPath=j}},j))},j=0;j<points.length-1;j++)_loop(j);return this.refPaths=[],React.createElement("g",{"data-default-link-test":this.props.link.getOptions().testName},paths)}}]),RightAngleLinkWidget}(React.Component);exports.RightAngleLinkWidget=RightAngleLinkWidget,RightAngleLinkWidget.defaultProps={color:"red",width:3,link:null,smooth:!1,diagramEngine:null,factory:null},RightAngleLinkWidget.__docgenInfo={description:"",methods:[{name:"generateLink",docblock:null,modifiers:[],params:[{name:"path",type:null},{name:"extraProps",type:null},{name:"id",type:null}],returns:null},{name:"calculatePositions",docblock:null,modifiers:[],params:[{name:"points",type:null},{name:"event",type:null},{name:"index",type:null},{name:"coordinate",type:null}],returns:null},{name:"draggingEvent",docblock:null,modifiers:[],params:[{name:"event",type:null},{name:"index",type:null}],returns:null}],displayName:"RightAngleLinkWidget",props:{color:{defaultValue:{value:"'red'",computed:!1},required:!1},width:{defaultValue:{value:"3",computed:!1},required:!1},link:{defaultValue:{value:"null",computed:!1},required:!1},smooth:{defaultValue:{value:"false",computed:!1},required:!1},diagramEngine:{defaultValue:{value:"null",computed:!1},required:!1},factory:{defaultValue:{value:"null",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../packages/react-diagrams-routing/dist/link/RightAngleLinkWidget.js"]={name:"RightAngleLinkWidget",docgenInfo:RightAngleLinkWidget.__docgenInfo,path:"../packages/react-diagrams-routing/dist/link/RightAngleLinkWidget.js"})},493:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.RightAngleLinkFactory=void 0;var React=__webpack_require__(0),RightAngleLinkWidget_1=__webpack_require__(492),react_diagrams_defaults_1=__webpack_require__(132),RightAngleLinkModel_1=__webpack_require__(494),RightAngleLinkFactory=function(_react_diagrams_defau){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(RightAngleLinkFactory,_react_diagrams_defau);var _super=_createSuper(RightAngleLinkFactory);function RightAngleLinkFactory(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,RightAngleLinkFactory),_super.call(this,RightAngleLinkFactory.NAME)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(RightAngleLinkFactory,[{key:"generateModel",value:function generateModel(event){return new RightAngleLinkModel_1.RightAngleLinkModel}},{key:"generateReactWidget",value:function generateReactWidget(event){return React.createElement(RightAngleLinkWidget_1.RightAngleLinkWidget,{diagramEngine:this.engine,link:event.model,factory:this})}}]),RightAngleLinkFactory}(react_diagrams_defaults_1.DefaultLinkFactory);exports.RightAngleLinkFactory=RightAngleLinkFactory,RightAngleLinkFactory.NAME="rightAngle"},494:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(21),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(32),__webpack_require__(30),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.RightAngleLinkModel=void 0;var react_diagrams_defaults_1=__webpack_require__(132),RightAngleLinkFactory_1=__webpack_require__(493),RightAngleLinkModel=function(_react_diagrams_defau){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(RightAngleLinkModel,_react_diagrams_defau);var _super=_createSuper(RightAngleLinkModel);function RightAngleLinkModel(){var _this,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,RightAngleLinkModel),(_this=_super.call(this,Object.assign({type:RightAngleLinkFactory_1.RightAngleLinkFactory.NAME},options))).lastHoverIndexOfPath=0,_this._lastPathXdirection=!1,_this._firstPathXdirection=!1,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(RightAngleLinkModel,[{key:"setFirstAndLastPathsDirection",value:function setFirstAndLastPathsDirection(){for(var points=this.getPoints(),i=1;i<points.length;i+=points.length-2){var dx=Math.abs(points[i].getX()-points[i-1].getX()),dy=Math.abs(points[i].getY()-points[i-1].getY());i-1==0?this._firstPathXdirection=dx>dy:this._lastPathXdirection=dx>dy}}},{key:"addPoint",value:function addPoint(pointModel){var index=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return _get(_getPrototypeOf(RightAngleLinkModel.prototype),"addPoint",this).call(this,pointModel,index),this.setFirstAndLastPathsDirection(),pointModel}},{key:"deserialize",value:function deserialize(event){_get(_getPrototypeOf(RightAngleLinkModel.prototype),"deserialize",this).call(this,event),this.setFirstAndLastPathsDirection()}},{key:"setManuallyFirstAndLastPathsDirection",value:function setManuallyFirstAndLastPathsDirection(first,last){this._firstPathXdirection=first,this._lastPathXdirection=last}},{key:"getLastPathXdirection",value:function getLastPathXdirection(){return this._lastPathXdirection}},{key:"getFirstPathXdirection",value:function getFirstPathXdirection(){return this._firstPathXdirection}},{key:"setWidth",value:function setWidth(width){this.options.width=width,this.fireEvent({width:width},"widthChanged")}},{key:"setColor",value:function setColor(color){this.options.color=color,this.fireEvent({color:color},"colorChanged")}}]),RightAngleLinkModel}(react_diagrams_defaults_1.DefaultLinkModel);exports.RightAngleLinkModel=RightAngleLinkModel},50:function(module,exports,__webpack_require__){"use strict";__webpack_require__(11),__webpack_require__(2);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__(854),exports),__exportStar(__webpack_require__(856),exports),__exportStar(__webpack_require__(283),exports),__exportStar(__webpack_require__(284),exports),__exportStar(__webpack_require__(440),exports),__exportStar(__webpack_require__(286),exports),__exportStar(__webpack_require__(441),exports),__exportStar(__webpack_require__(858),exports),__exportStar(__webpack_require__(285),exports),__exportStar(__webpack_require__(442),exports),__exportStar(__webpack_require__(859),exports),__exportStar(__webpack_require__(199),exports),__exportStar(__webpack_require__(443),exports),__exportStar(__webpack_require__(200),exports),__exportStar(__webpack_require__(860),exports),__exportStar(__webpack_require__(861),exports),__exportStar(__webpack_require__(446),exports),__exportStar(__webpack_require__(445),exports),__exportStar(__webpack_require__(862),exports)},529:function(module,exports,__webpack_require__){__webpack_require__(530),__webpack_require__(681),__webpack_require__(682),__webpack_require__(834),module.exports=__webpack_require__(837)},596:function(module,exports){},682:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(356)},8:function(module,exports,__webpack_require__){"use strict";__webpack_require__(11),__webpack_require__(2);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__(839),exports),__exportStar(__webpack_require__(195),exports),__exportStar(__webpack_require__(278),exports),__exportStar(__webpack_require__(428),exports),__exportStar(__webpack_require__(429),exports),__exportStar(__webpack_require__(430),exports),__exportStar(__webpack_require__(159),exports),__exportStar(__webpack_require__(420),exports),__exportStar(__webpack_require__(843),exports),__exportStar(__webpack_require__(93),exports),__exportStar(__webpack_require__(424),exports),__exportStar(__webpack_require__(280),exports),__exportStar(__webpack_require__(281),exports),__exportStar(__webpack_require__(431),exports),__exportStar(__webpack_require__(278),exports),__exportStar(__webpack_require__(844),exports),__exportStar(__webpack_require__(434),exports),__exportStar(__webpack_require__(432),exports),__exportStar(__webpack_require__(433),exports),__exportStar(__webpack_require__(849),exports),__exportStar(__webpack_require__(435),exports),__exportStar(__webpack_require__(282),exports),__exportStar(__webpack_require__(850),exports),__exportStar(__webpack_require__(197),exports),__exportStar(__webpack_require__(198),exports),__exportStar(__webpack_require__(427),exports),__exportStar(__webpack_require__(851),exports),__exportStar(__webpack_require__(436),exports),__exportStar(__webpack_require__(437),exports),__exportStar(__webpack_require__(438),exports),__exportStar(__webpack_require__(439),exports),__exportStar(__webpack_require__(426),exports),__exportStar(__webpack_require__(425),exports)},834:function(module,exports,__webpack_require__){"use strict";__webpack_require__(65),__webpack_require__(4),__webpack_require__(75),__webpack_require__(30),__webpack_require__(25),__webpack_require__(26),__webpack_require__(835),__webpack_require__(39),__webpack_require__(2);var _clientApi=__webpack_require__(145),_clientLogger=__webpack_require__(89),_configFilename=__webpack_require__(836);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_configFilename.args||_configFilename.argTypes)&&_clientLogger.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify({args:_configFilename.args,argTypes:_configFilename.argTypes})),_configFilename.decorators&&_configFilename.decorators.forEach((function(decorator){return(0,_clientApi.addDecorator)(decorator,!1)})),_configFilename.loaders&&_configFilename.loaders.forEach((function(loader){return(0,_clientApi.addLoader)(loader,!1)})),(_configFilename.parameters||_configFilename.globals||_configFilename.globalTypes)&&(0,_clientApi.addParameters)(_objectSpread(_objectSpread({},_configFilename.parameters),{},{globals:_configFilename.globals,globalTypes:_configFilename.globalTypes}),!1),_configFilename.argTypesEnhancers&&_configFilename.argTypesEnhancers.forEach((function(enhancer){return(0,_clientApi.addArgTypesEnhancer)(enhancer)}))},836:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"parameters",(function(){return parameters}));var parameters={layout:"fullscreen"}},837:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(356).configure)([__webpack_require__(838)],module,!1)}).call(this,__webpack_require__(99)(module))},838:function(module,exports,__webpack_require__){var map={"./1_SimpleUsage.stories.tsx":1028,"./2_AdvancedUsage.stories.tsx":1025,"./3_Customization.stories.tsx":1027,"./4_Libraries.stories.tsx":1029};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=838},839:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(21),__webpack_require__(101),__webpack_require__(3),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.CanvasEngine=void 0;var lodash_1=__webpack_require__(15),FactoryBank_1=__webpack_require__(420),BaseObserver_1=__webpack_require__(159),geometry_1=__webpack_require__(103),ActionEventBus_1=__webpack_require__(424),ZoomCanvasAction_1=__webpack_require__(425),DeleteItemsAction_1=__webpack_require__(426),StateMachine_1=__webpack_require__(427),CanvasEngine=function(_BaseObserver_1$BaseO){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(CanvasEngine,_BaseObserver_1$BaseO);var _super=_createSuper(CanvasEngine);function CanvasEngine(){var _this,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,CanvasEngine),(_this=_super.call(this)).model=null,_this.eventBus=new ActionEventBus_1.ActionEventBus(_assertThisInitialized(_this)),_this.stateMachine=new StateMachine_1.StateMachine(_assertThisInitialized(_this)),_this.layerFactories=new FactoryBank_1.FactoryBank,_this.registerFactoryBank(_this.layerFactories),_this.options=Object.assign({registerDefaultDeleteItemsAction:!0,registerDefaultZoomCanvasAction:!0,repaintDebounceMs:0},options),!0===_this.options.registerDefaultZoomCanvasAction&&_this.eventBus.registerAction(new ZoomCanvasAction_1.ZoomCanvasAction),!0===_this.options.registerDefaultDeleteItemsAction&&_this.eventBus.registerAction(new DeleteItemsAction_1.DeleteItemsAction),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(CanvasEngine,[{key:"getStateMachine",value:function getStateMachine(){return this.stateMachine}},{key:"getRelativeMousePoint",value:function getRelativeMousePoint(event){var point=this.getRelativePoint(event.clientX,event.clientY);return new geometry_1.Point((point.x-this.model.getOffsetX())/(this.model.getZoomLevel()/100),(point.y-this.model.getOffsetY())/(this.model.getZoomLevel()/100))}},{key:"getRelativePoint",value:function getRelativePoint(x,y){var canvasRect=this.canvas.getBoundingClientRect();return new geometry_1.Point(x-canvasRect.left,y-canvasRect.top)}},{key:"registerFactoryBank",value:function registerFactoryBank(factory){var _this2=this;factory.registerListener({factoryAdded:function factoryAdded(event){event.factory.setDiagramEngine(_this2)},factoryRemoved:function factoryRemoved(event){event.factory.setDiagramEngine(null)}})}},{key:"getActionEventBus",value:function getActionEventBus(){return this.eventBus}},{key:"getLayerFactories",value:function getLayerFactories(){return this.layerFactories}},{key:"getFactoryForLayer",value:function getFactoryForLayer(layer){return"string"==typeof layer?this.layerFactories.getFactory(layer):this.layerFactories.getFactory(layer.getType())}},{key:"setModel",value:function setModel(model){var _this3=this;this.model=model,this.canvas&&requestAnimationFrame((function(){_this3.repaintCanvas()}))}},{key:"getModel",value:function getModel(){return this.model}},{key:"repaintCanvas",value:function repaintCanvas(promise){var _this4=this,repaintDebounceMs=this.options.repaintDebounceMs,repaint=function repaint(){_this4.iterateListeners((function(listener){listener.repaintCanvas&&listener.repaintCanvas()}))},repaintFn=repaint;if(repaintDebounceMs>0&&(repaintFn=lodash_1.debounce(repaint,repaintDebounceMs)),promise)return new Promise((function(resolve){var l=_this4.registerListener({rendered:function rendered(){resolve(),l.deregister()}});repaintFn()}));repaintFn()}},{key:"setCanvas",value:function setCanvas(canvas){this.canvas!==canvas&&(this.canvas=canvas,canvas&&this.fireEvent({},"canvasReady"))}},{key:"getCanvas",value:function getCanvas(){return this.canvas}},{key:"getMouseElement",value:function getMouseElement(event){return null}},{key:"zoomToFit",value:function zoomToFit(){var xFactor=this.canvas.clientWidth/this.canvas.scrollWidth,yFactor=this.canvas.clientHeight/this.canvas.scrollHeight,zoomFactor=xFactor<yFactor?xFactor:yFactor;this.model.setZoomLevel(this.model.getZoomLevel()*zoomFactor),this.model.setOffset(0,0),this.repaintCanvas()}}]),CanvasEngine}(BaseObserver_1.BaseObserver);exports.CanvasEngine=CanvasEngine},842:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(31),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(32),__webpack_require__(30),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.BezierCurve=exports.BezierCurvepPoints=void 0;var BezierCurvepPoints,Point_1=__webpack_require__(196),Polygon_1=__webpack_require__(277);!function(BezierCurvepPoints){BezierCurvepPoints[BezierCurvepPoints.SOURCE=0]="SOURCE",BezierCurvepPoints[BezierCurvepPoints.SOURCE_CONTROL=1]="SOURCE_CONTROL",BezierCurvepPoints[BezierCurvepPoints.TARGET_CONTROL=2]="TARGET_CONTROL",BezierCurvepPoints[BezierCurvepPoints.TARGET=3]="TARGET"}(BezierCurvepPoints=exports.BezierCurvepPoints||(exports.BezierCurvepPoints={}));var BezierCurve=function(_Polygon_1$Polygon){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(BezierCurve,_Polygon_1$Polygon);var _super=_createSuper(BezierCurve);function BezierCurve(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BezierCurve),_super.call(this,[new Point_1.Point(0,0),new Point_1.Point(0,0),new Point_1.Point(0,0),new Point_1.Point(0,0)])}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(BezierCurve,[{key:"getSVGCurve",value:function getSVGCurve(){return"M".concat(this.getSource().toSVG()," C").concat(this.getSourceControl().toSVG(),", ").concat(this.getTargetControl().toSVG(),", ").concat(this.getTarget().toSVG())}},{key:"setPoints",value:function setPoints(points){if(4!==points.length)throw new Error("BezierCurve must have extactly 4 points");_get(_getPrototypeOf(BezierCurve.prototype),"setPoints",this).call(this,points)}},{key:"getSource",value:function getSource(){return this.points[BezierCurvepPoints.SOURCE]}},{key:"getSourceControl",value:function getSourceControl(){return this.points[BezierCurvepPoints.SOURCE_CONTROL]}},{key:"getTargetControl",value:function getTargetControl(){return this.points[BezierCurvepPoints.TARGET_CONTROL]}},{key:"getTarget",value:function getTarget(){return this.points[BezierCurvepPoints.TARGET]}},{key:"setSource",value:function setSource(point){this.points[BezierCurvepPoints.SOURCE]=point}},{key:"setSourceControl",value:function setSourceControl(point){this.points[BezierCurvepPoints.SOURCE_CONTROL]=point}},{key:"setTargetControl",value:function setTargetControl(point){this.points[BezierCurvepPoints.TARGET_CONTROL]=point}},{key:"setTarget",value:function setTarget(point){this.points[BezierCurvepPoints.TARGET]=point}}]),BezierCurve}(Polygon_1.Polygon);exports.BezierCurve=BezierCurve},843:function(module,exports,__webpack_require__){"use strict";__webpack_require__(2),Object.defineProperty(exports,"__esModule",{value:!0})},844:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var _templateObject;function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(19),__webpack_require__(41),__webpack_require__(39),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),__webpack_require__(2),__webpack_require__(29),Object.defineProperty(exports,"__esModule",{value:!0}),exports.CanvasWidget=void 0;var S,React=__webpack_require__(0),TransformLayerWidget_1=__webpack_require__(432),styled_1=__webpack_require__(37),SmartLayerWidget_1=__webpack_require__(433);!function(S){S.Canvas=styled_1.default.div(_templateObject||(_templateObject=function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n\t\tposition: relative;\n\t\tcursor: move;\n\t\toverflow: hidden;\n\t"])))}(S||(S={}));var CanvasWidget=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(CanvasWidget,_React$Component);var _super=_createSuper(CanvasWidget);function CanvasWidget(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CanvasWidget),(_this=_super.call(this,props)).ref=React.createRef(),_this.state={action:null,diagramEngineListener:null},_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(CanvasWidget,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.engine.deregisterListener(this.canvasListener),this.props.engine.setCanvas(null),document.removeEventListener("keyup",this.keyUp),document.removeEventListener("keydown",this.keyDown)}},{key:"registerCanvas",value:function registerCanvas(){this.props.engine.setCanvas(this.ref.current),this.props.engine.iterateListeners((function(list){list.rendered&&list.rendered()}))}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.registerCanvas()}},{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.canvasListener=this.props.engine.registerListener({repaintCanvas:function repaintCanvas(){_this2.forceUpdate()}}),this.keyDown=function(event){_this2.props.engine.getActionEventBus().fireAction({event:event})},this.keyUp=function(event){_this2.props.engine.getActionEventBus().fireAction({event:event})},document.addEventListener("keyup",this.keyUp),document.addEventListener("keydown",this.keyDown),this.registerCanvas()}},{key:"render",value:function render(){var _this3=this,model=this.props.engine.getModel();return React.createElement(S.Canvas,{className:this.props.className,ref:this.ref,onWheel:function onWheel(event){_this3.props.engine.getActionEventBus().fireAction({event:event})},onMouseDown:function onMouseDown(event){_this3.props.engine.getActionEventBus().fireAction({event:event})},onMouseUp:function onMouseUp(event){_this3.props.engine.getActionEventBus().fireAction({event:event})},onMouseMove:function onMouseMove(event){_this3.props.engine.getActionEventBus().fireAction({event:event})}},model.getLayers().map((function(layer){return React.createElement(TransformLayerWidget_1.TransformLayerWidget,{layer:layer,key:layer.getID()},React.createElement(SmartLayerWidget_1.SmartLayerWidget,{layer:layer,engine:_this3.props.engine,key:layer.getID()}))})))}}]),CanvasWidget}(React.Component);exports.CanvasWidget=CanvasWidget,CanvasWidget.__docgenInfo={description:"",methods:[{name:"registerCanvas",docblock:null,modifiers:[],params:[],returns:null}],displayName:"CanvasWidget"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../packages/react-canvas-core/dist/entities/canvas/CanvasWidget.js"]={name:"CanvasWidget",docgenInfo:CanvasWidget.__docgenInfo,path:"../packages/react-canvas-core/dist/entities/canvas/CanvasWidget.js"})},849:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.SelectionBoxLayerFactory=void 0;var React=__webpack_require__(0),AbstractReactFactory_1=__webpack_require__(430),SelectionLayerModel_1=__webpack_require__(282),SelectionBoxWidget_1=__webpack_require__(435),SelectionBoxLayerFactory=function(_AbstractReactFactory){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(SelectionBoxLayerFactory,_AbstractReactFactory);var _super=_createSuper(SelectionBoxLayerFactory);function SelectionBoxLayerFactory(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SelectionBoxLayerFactory),_super.call(this,"selection")}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(SelectionBoxLayerFactory,[{key:"generateModel",value:function generateModel(event){return new SelectionLayerModel_1.SelectionLayerModel}},{key:"generateReactWidget",value:function generateReactWidget(event){return React.createElement(SelectionBoxWidget_1.SelectionBoxWidget,{rect:event.model.box})}}]),SelectionBoxLayerFactory}(AbstractReactFactory_1.AbstractReactFactory);exports.SelectionBoxLayerFactory=SelectionBoxLayerFactory},850:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.PeformanceWidget=void 0;var React=__webpack_require__(0),_=__webpack_require__(15),PeformanceWidget=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(PeformanceWidget,_React$Component);var _super=_createSuper(PeformanceWidget);function PeformanceWidget(){return _classCallCheck(this,PeformanceWidget),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(PeformanceWidget,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps,nextState,nextContext){return!this.props.model.performanceTune()||(this.props.model!==nextProps.model||!_.isEqual(this.props.serialized,nextProps.serialized))}},{key:"render",value:function render(){return this.props.children()}}]),PeformanceWidget}(React.Component);exports.PeformanceWidget=PeformanceWidget,PeformanceWidget.__docgenInfo={description:"",methods:[],displayName:"PeformanceWidget"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../packages/react-canvas-core/dist/widgets/PeformanceWidget.js"]={name:"PeformanceWidget",docgenInfo:PeformanceWidget.__docgenInfo,path:"../packages/react-canvas-core/dist/widgets/PeformanceWidget.js"})},851:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.DefaultState=void 0;var State_1=__webpack_require__(198),Action_1=__webpack_require__(93),DragCanvasState_1=__webpack_require__(436),SelectingState_1=__webpack_require__(437),MoveItemsState_1=__webpack_require__(439),DefaultState=function(_State_1$State){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DefaultState,_State_1$State);var _super=_createSuper(DefaultState);function DefaultState(){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DefaultState),(_this=_super.call(this,{name:"default"})).childStates=[new SelectingState_1.SelectingState],_this.registerAction(new Action_1.Action({type:Action_1.InputType.MOUSE_DOWN,fire:function fire(event){_this.engine.getActionEventBus().getModelForEvent(event)?_this.transitionWithEvent(new MoveItemsState_1.MoveItemsState,event):_this.transitionWithEvent(new DragCanvasState_1.DragCanvasState,event)}})),_this}return DefaultState}(State_1.State);exports.DefaultState=DefaultState},854:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(75),__webpack_require__(25),__webpack_require__(26),__webpack_require__(855),__webpack_require__(160),__webpack_require__(161),__webpack_require__(3),__webpack_require__(6),__webpack_require__(10),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(32),__webpack_require__(30),__webpack_require__(19),__webpack_require__(23),__webpack_require__(42),__webpack_require__(7),__webpack_require__(4),__webpack_require__(5),__webpack_require__(9),__webpack_require__(35),Object.defineProperty(exports,"__esModule",{value:!0}),exports.DiagramModel=void 0;var _=__webpack_require__(15),LinkModel_1=__webpack_require__(283),NodeModel_1=__webpack_require__(199),react_canvas_core_1=__webpack_require__(8),NodeLayerModel_1=__webpack_require__(285),LinkLayerModel_1=__webpack_require__(286),DiagramModel=function(_react_canvas_core_1$){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DiagramModel,_react_canvas_core_1$);var _super=_createSuper(DiagramModel);function DiagramModel(){var _this,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,DiagramModel),(_this=_super.call(this,options)).addLayer(new LinkLayerModel_1.LinkLayerModel),_this.addLayer(new NodeLayerModel_1.NodeLayerModel),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DiagramModel,[{key:"deserialize",value:function deserialize(event){this.layers=[],_get(_getPrototypeOf(DiagramModel.prototype),"deserialize",this).call(this,event)}},{key:"addLayer",value:function addLayer(layer){_get(_getPrototypeOf(DiagramModel.prototype),"addLayer",this).call(this,layer),layer instanceof NodeLayerModel_1.NodeLayerModel&&(this.activeNodeLayer=layer),layer instanceof LinkLayerModel_1.LinkLayerModel&&(this.activeLinkLayer=layer)}},{key:"getLinkLayers",value:function getLinkLayers(){return _.filter(this.layers,(function(layer){return layer instanceof LinkLayerModel_1.LinkLayerModel}))}},{key:"getNodeLayers",value:function getNodeLayers(){return _.filter(this.layers,(function(layer){return layer instanceof NodeLayerModel_1.NodeLayerModel}))}},{key:"getActiveNodeLayer",value:function getActiveNodeLayer(){if(!this.activeNodeLayer){var layers=this.getNodeLayers();0===layers.length?this.addLayer(new NodeLayerModel_1.NodeLayerModel):this.activeNodeLayer=layers[0]}return this.activeNodeLayer}},{key:"getActiveLinkLayer",value:function getActiveLinkLayer(){if(!this.activeLinkLayer){var layers=this.getLinkLayers();0===layers.length?this.addLayer(new LinkLayerModel_1.LinkLayerModel):this.activeLinkLayer=layers[0]}return this.activeLinkLayer}},{key:"getNode",value:function getNode(node){var _step,_iterator=_createForOfIteratorHelper(this.getNodeLayers());try{for(_iterator.s();!(_step=_iterator.n()).done;){var model=_step.value.getModel(node);if(model)return model}}catch(err){_iterator.e(err)}finally{_iterator.f()}}},{key:"getLink",value:function getLink(link){var _step2,_iterator2=_createForOfIteratorHelper(this.getLinkLayers());try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var model=_step2.value.getModel(link);if(model)return model}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}},{key:"addAll",value:function addAll(){for(var _this2=this,_len=arguments.length,models=new Array(_len),_key=0;_key<_len;_key++)models[_key]=arguments[_key];return _.forEach(models,(function(model){model instanceof LinkModel_1.LinkModel?_this2.addLink(model):model instanceof NodeModel_1.NodeModel&&_this2.addNode(model)})),models}},{key:"addLink",value:function addLink(link){return this.getActiveLinkLayer().addModel(link),this.fireEvent({link:link,isCreated:!0},"linksUpdated"),link}},{key:"addNode",value:function addNode(node){return this.getActiveNodeLayer().addModel(node),this.fireEvent({node:node,isCreated:!0},"nodesUpdated"),node}},{key:"removeLink",value:function removeLink(link){_.some(this.getLinkLayers(),(function(layer){return layer.removeModel(link)}))&&this.fireEvent({link:link,isCreated:!1},"linksUpdated")}},{key:"removeNode",value:function removeNode(node){_.some(this.getNodeLayers(),(function(layer){return layer.removeModel(node)}))&&this.fireEvent({node:node,isCreated:!1},"nodesUpdated")}},{key:"getLinks",value:function getLinks(){return _.flatMap(this.getLinkLayers(),(function(layer){return _.values(layer.getModels())}))}},{key:"getNodes",value:function getNodes(){return _.flatMap(this.getNodeLayers(),(function(layer){return _.values(layer.getModels())}))}}]),DiagramModel}(react_canvas_core_1.CanvasModel);exports.DiagramModel=DiagramModel},856:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(21),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(32),__webpack_require__(30),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.LabelModel=void 0;var LabelModel=function(_react_canvas_core_1$){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(LabelModel,_react_canvas_core_1$);var _super=_createSuper(LabelModel);function LabelModel(options){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LabelModel),_super.call(this,Object.assign(Object.assign({},options),{offsetX:options.offsetX||0,offsetY:options.offsetY||0}))}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(LabelModel,[{key:"deserialize",value:function deserialize(event){_get(_getPrototypeOf(LabelModel.prototype),"deserialize",this).call(this,event),this.options.offsetX=event.data.offsetX,this.options.offsetY=event.data.offsetY}},{key:"serialize",value:function serialize(){return Object.assign(Object.assign({},_get(_getPrototypeOf(LabelModel.prototype),"serialize",this).call(this)),{offsetX:this.options.offsetX,offsetY:this.options.offsetY})}}]),LabelModel}(__webpack_require__(8).BaseModel);exports.LabelModel=LabelModel},857:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var _templateObject,_templateObject2;function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}__webpack_require__(19),__webpack_require__(41),__webpack_require__(39),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),__webpack_require__(2),__webpack_require__(29),__webpack_require__(128),__webpack_require__(31),Object.defineProperty(exports,"__esModule",{value:!0}),exports.LabelWidget=void 0;var S,React=__webpack_require__(0),styled_1=__webpack_require__(37);!function(S){S.Label=styled_1.default.div(_templateObject||(_templateObject=_taggedTemplateLiteral(["\n\t\tdisplay: inline-block;\n\t\tposition: absolute;\n\t"]))),S.Foreign=styled_1.default.foreignObject(_templateObject2||(_templateObject2=_taggedTemplateLiteral(["\n\t\tpointer-events: none;\n\t\toverflow: visible;\n\t"])))}(S||(S={}));var LabelWidget=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(LabelWidget,_React$Component);var _super=_createSuper(LabelWidget);function LabelWidget(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LabelWidget),(_this=_super.call(this,props)).findPathAndRelativePositionToRenderLabel=function(index){for(var link=_this.props.label.getParent(),lengths=link.getRenderedPath().map((function(path){return path.getTotalLength()})),labelPosition=lengths.reduce((function(previousValue,currentValue){return previousValue+currentValue}),0)*(index/(link.getLabels().length+1)),pathIndex=0;pathIndex<link.getRenderedPath().length;){if(labelPosition-lengths[pathIndex]<0)return{path:link.getRenderedPath()[pathIndex],position:labelPosition};labelPosition-=lengths[pathIndex],pathIndex++}},_this.calculateLabelPosition=function(){var found=_this.findPathAndRelativePositionToRenderLabel(_this.props.index+1);if(found){var path=found.path,position=found.position,labelDimensions_width=_this.ref.current.offsetWidth,labelDimensions_height=_this.ref.current.offsetHeight,pathCentre=path.getPointAtLength(position),labelCoordinates={x:pathCentre.x-labelDimensions_width/2+_this.props.label.getOptions().offsetX,y:pathCentre.y-labelDimensions_height/2+_this.props.label.getOptions().offsetY};_this.ref.current.style.transform="translate(".concat(labelCoordinates.x,"px, ").concat(labelCoordinates.y,"px)")}},_this.ref=React.createRef(),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(LabelWidget,[{key:"componentDidUpdate",value:function componentDidUpdate(){window.requestAnimationFrame(this.calculateLabelPosition)}},{key:"componentDidMount",value:function componentDidMount(){window.requestAnimationFrame(this.calculateLabelPosition)}},{key:"render",value:function render(){var canvas=this.props.engine.getCanvas();return React.createElement(S.Foreign,{key:this.props.label.getID(),width:canvas.offsetWidth,height:canvas.offsetHeight},React.createElement(S.Label,{ref:this.ref},this.props.engine.getFactoryForLabel(this.props.label).generateReactWidget({model:this.props.label})))}}]),LabelWidget}(React.Component);exports.LabelWidget=LabelWidget,LabelWidget.__docgenInfo={description:"",methods:[],displayName:"LabelWidget"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../packages/react-diagrams-core/dist/entities/label/LabelWidget.js"]={name:"LabelWidget",docgenInfo:LabelWidget.__docgenInfo,path:"../packages/react-diagrams-core/dist/entities/label/LabelWidget.js"})},858:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.LinkLayerFactory=void 0;var React=__webpack_require__(0),react_canvas_core_1=__webpack_require__(8),LinkLayerModel_1=__webpack_require__(286),LinkLayerWidget_1=__webpack_require__(441),LinkLayerFactory=function(_react_canvas_core_1$){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(LinkLayerFactory,_react_canvas_core_1$);var _super=_createSuper(LinkLayerFactory);function LinkLayerFactory(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LinkLayerFactory),_super.call(this,"diagram-links")}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(LinkLayerFactory,[{key:"generateModel",value:function generateModel(event){return new LinkLayerModel_1.LinkLayerModel}},{key:"generateReactWidget",value:function generateReactWidget(event){return React.createElement(LinkLayerWidget_1.LinkLayerWidget,{layer:event.model,engine:this.engine})}}]),LinkLayerFactory}(react_canvas_core_1.AbstractReactFactory);exports.LinkLayerFactory=LinkLayerFactory},859:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.NodeLayerFactory=void 0;var React=__webpack_require__(0),react_canvas_core_1=__webpack_require__(8),NodeLayerModel_1=__webpack_require__(285),NodeLayerWidget_1=__webpack_require__(442),NodeLayerFactory=function(_react_canvas_core_1$){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(NodeLayerFactory,_react_canvas_core_1$);var _super=_createSuper(NodeLayerFactory);function NodeLayerFactory(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NodeLayerFactory),_super.call(this,"diagram-nodes")}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(NodeLayerFactory,[{key:"generateModel",value:function generateModel(event){return new NodeLayerModel_1.NodeLayerModel}},{key:"generateReactWidget",value:function generateReactWidget(event){return React.createElement(NodeLayerWidget_1.NodeLayerWidget,{layer:event.model,engine:this.engine})}}]),NodeLayerFactory}(react_canvas_core_1.AbstractReactFactory);exports.NodeLayerFactory=NodeLayerFactory},860:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(415),__webpack_require__(3),__webpack_require__(6),__webpack_require__(10),__webpack_require__(21),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(9),__webpack_require__(7),Object.defineProperty(exports,"__esModule",{value:!0}),exports.PortWidget=void 0;var React=__webpack_require__(0),_=__webpack_require__(15),react_canvas_core_1=__webpack_require__(8),PortWidget=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(PortWidget,_React$Component);var _super=_createSuper(PortWidget);function PortWidget(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PortWidget),(_this=_super.call(this,props)).ref=React.createRef(),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(PortWidget,[{key:"report",value:function report(){this.props.port.updateCoords(this.props.engine.getPortCoords(this.props.port,this.ref.current))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.engineListenerHandle&&this.engineListenerHandle.deregister()}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState,snapshot){this.props.port.reportedPosition||this.report()}},{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.engineListenerHandle=this.props.engine.registerListener({canvasReady:function canvasReady(){_this2.report()}}),this.props.engine.getCanvas()&&this.report()}},{key:"getExtraProps",value:function getExtraProps(){return react_canvas_core_1.Toolkit.TESTING?{"data-links":_.keys(this.props.port.getNode().getPort(this.props.port.getName()).links).join(",")}:{}}},{key:"render",value:function render(){return React.createElement("div",Object.assign({style:this.props.style,ref:this.ref,className:"port ".concat(this.props.className||""),"data-name":this.props.port.getName(),"data-nodeid":this.props.port.getNode().getID()},this.getExtraProps()),this.props.children)}}]),PortWidget}(React.Component);exports.PortWidget=PortWidget,PortWidget.__docgenInfo={description:"",methods:[{name:"report",docblock:null,modifiers:[],params:[],returns:null},{name:"getExtraProps",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PortWidget"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../packages/react-diagrams-core/dist/entities/port/PortWidget.js"]={name:"PortWidget",docgenInfo:PortWidget.__docgenInfo,path:"../packages/react-diagrams-core/dist/entities/port/PortWidget.js"})},861:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.DefaultDiagramState=void 0;var react_canvas_core_1=__webpack_require__(8),PortModel_1=__webpack_require__(200),DragNewLinkState_1=__webpack_require__(445),DragDiagramItemsState_1=__webpack_require__(446),DefaultDiagramState=function(_react_canvas_core_1$){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DefaultDiagramState,_react_canvas_core_1$);var _super=_createSuper(DefaultDiagramState);function DefaultDiagramState(){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DefaultDiagramState),(_this=_super.call(this,{name:"default-diagrams"})).childStates=[new react_canvas_core_1.SelectingState],_this.dragCanvas=new react_canvas_core_1.DragCanvasState,_this.dragNewLink=new DragNewLinkState_1.DragNewLinkState,_this.dragItems=new DragDiagramItemsState_1.DragDiagramItemsState,_this.registerAction(new react_canvas_core_1.Action({type:react_canvas_core_1.InputType.MOUSE_DOWN,fire:function fire(event){var element=_this.engine.getActionEventBus().getModelForEvent(event);element?element instanceof PortModel_1.PortModel?_this.transitionWithEvent(_this.dragNewLink,event):_this.transitionWithEvent(_this.dragItems,event):_this.transitionWithEvent(_this.dragCanvas,event)}})),_this}return DefaultDiagramState}(react_canvas_core_1.State);exports.DefaultDiagramState=DefaultDiagramState},862:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(31),__webpack_require__(29),__webpack_require__(75),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.DiagramEngine=void 0;var NodeModel_1=__webpack_require__(199),geometry_1=__webpack_require__(103),react_canvas_core_1=__webpack_require__(8),DiagramEngine=function(_react_canvas_core_1$){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DiagramEngine,_react_canvas_core_1$);var _super=_createSuper(DiagramEngine);function DiagramEngine(){var _this,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,DiagramEngine),(_this=_super.call(this,options)).maxNumberPointsPerLink=1e3,_this.nodeFactories=new react_canvas_core_1.FactoryBank,_this.linkFactories=new react_canvas_core_1.FactoryBank,_this.portFactories=new react_canvas_core_1.FactoryBank,_this.labelFactories=new react_canvas_core_1.FactoryBank;var setup=function setup(factory){factory.registerListener({factoryAdded:function factoryAdded(event){event.factory.setDiagramEngine(_assertThisInitialized(_this))},factoryRemoved:function factoryRemoved(event){event.factory.setDiagramEngine(null)}})};return setup(_this.nodeFactories),setup(_this.linkFactories),setup(_this.portFactories),setup(_this.labelFactories),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DiagramEngine,[{key:"getMouseElement",value:function getMouseElement(event){var target=event.target,diagramModel=this.model,element=react_canvas_core_1.Toolkit.closest(target,".port[data-name]");if(element){var nodeElement=react_canvas_core_1.Toolkit.closest(target,".node[data-nodeid]");return diagramModel.getNode(nodeElement.getAttribute("data-nodeid")).getPort(element.getAttribute("data-name"))}return(element=react_canvas_core_1.Toolkit.closest(target,".point[data-id]"))?diagramModel.getLink(element.getAttribute("data-linkid")).getPointModel(element.getAttribute("data-id")):(element=react_canvas_core_1.Toolkit.closest(target,"[data-linkid]"))?diagramModel.getLink(element.getAttribute("data-linkid")):(element=react_canvas_core_1.Toolkit.closest(target,".node[data-nodeid]"))?diagramModel.getNode(element.getAttribute("data-nodeid")):null}},{key:"getNodeFactories",value:function getNodeFactories(){return this.nodeFactories}},{key:"getLinkFactories",value:function getLinkFactories(){return this.linkFactories}},{key:"getLabelFactories",value:function getLabelFactories(){return this.labelFactories}},{key:"getPortFactories",value:function getPortFactories(){return this.portFactories}},{key:"getFactoryForNode",value:function getFactoryForNode(node){return"string"==typeof node?this.nodeFactories.getFactory(node):this.nodeFactories.getFactory(node.getType())}},{key:"getFactoryForLink",value:function getFactoryForLink(link){return"string"==typeof link?this.linkFactories.getFactory(link):this.linkFactories.getFactory(link.getType())}},{key:"getFactoryForLabel",value:function getFactoryForLabel(label){return"string"==typeof label?this.labelFactories.getFactory(label):this.labelFactories.getFactory(label.getType())}},{key:"getFactoryForPort",value:function getFactoryForPort(port){return"string"==typeof port?this.portFactories.getFactory(port):this.portFactories.getFactory(port.getType())}},{key:"generateWidgetForLink",value:function generateWidgetForLink(link){return this.getFactoryForLink(link).generateReactWidget({model:link})}},{key:"generateWidgetForNode",value:function generateWidgetForNode(node){return this.getFactoryForNode(node).generateReactWidget({model:node})}},{key:"getNodeElement",value:function getNodeElement(node){var selector=this.canvas.querySelector('.node[data-nodeid="'.concat(node.getID(),'"]'));if(null===selector)throw new Error("Cannot find Node element with nodeID: ["+node.getID()+"]");return selector}},{key:"getNodePortElement",value:function getNodePortElement(port){var selector=this.canvas.querySelector('.port[data-name="'.concat(port.getName(),'"][data-nodeid="').concat(port.getParent().getID(),'"]'));if(null===selector)throw new Error("Cannot find Node Port element with nodeID: ["+port.getParent().getID()+"] and name: ["+port.getName()+"]");return selector}},{key:"getPortCenter",value:function getPortCenter(port){return this.getPortCoords(port).getOrigin()}},{key:"getPortCoords",value:function getPortCoords(port,element){if(!this.canvas)throw new Error("Canvas needs to be set first");element||(element=this.getNodePortElement(port));var sourceRect=element.getBoundingClientRect(),point=this.getRelativeMousePoint({clientX:sourceRect.left,clientY:sourceRect.top}),zoom=this.model.getZoomLevel()/100;return new geometry_1.Rectangle(point.x,point.y,sourceRect.width/zoom,sourceRect.height/zoom)}},{key:"getNodeDimensions",value:function getNodeDimensions(node){if(!this.canvas)return{width:0,height:0};var nodeRect=this.getNodeElement(node).getBoundingClientRect();return{width:nodeRect.width,height:nodeRect.height}}},{key:"getBoundingNodesRect",value:function getBoundingNodesRect(nodes,margin){if(nodes){if(0===nodes.length)return new geometry_1.Rectangle(0,0,0,0);var boundingBox=geometry_1.Polygon.boundingBoxFromPolygons(nodes.map((function(node){return node.getBoundingBox()})));return margin?new geometry_1.Rectangle(boundingBox.getTopLeft().x-margin,boundingBox.getTopLeft().y-margin,boundingBox.getWidth()+2*margin,boundingBox.getHeight()+2*margin):boundingBox}}},{key:"zoomToFitSelectedNodes",value:function zoomToFitSelectedNodes(margin){var nodes=this.model.getSelectedEntities().filter((function(entity){return entity instanceof NodeModel_1.NodeModel}));this.zoomToFitNodes({margin:margin,nodes:nodes.length>0?nodes:null})}},{key:"zoomToFitNodes",value:function zoomToFitNodes(options){var margin=options||0,nodes=[];options&&"object"==_typeof(options)&&(margin=options.margin||0,nodes=options.nodes||[]),0===nodes.length&&(nodes=this.model.getNodes());var nodesRect=this.getBoundingNodesRect(nodes,margin);if(nodesRect){var canvasRect=this.canvas.getBoundingClientRect(),canvasTopLeftPoint={x:canvasRect.left,y:canvasRect.top},nodeLayerTopLeftPoint={x:canvasTopLeftPoint.x+this.getModel().getOffsetX(),y:canvasTopLeftPoint.y+this.getModel().getOffsetY()},xFactor=this.canvas.clientWidth/nodesRect.getWidth(),yFactor=this.canvas.clientHeight/nodesRect.getHeight(),zoomFactor=xFactor<yFactor?xFactor:yFactor;this.model.setZoomLevel(100*zoomFactor);var nodesRectTopLeftPoint={x:nodeLayerTopLeftPoint.x+nodesRect.getTopLeft().x*zoomFactor,y:nodeLayerTopLeftPoint.y+nodesRect.getTopLeft().y*zoomFactor};this.model.setOffset(this.model.getOffsetX()+canvasTopLeftPoint.x-nodesRectTopLeftPoint.x,this.model.getOffsetY()+canvasTopLeftPoint.y-nodesRectTopLeftPoint.y),this.repaintCanvas()}}},{key:"getMaxNumberPointsPerLink",value:function getMaxNumberPointsPerLink(){return this.maxNumberPointsPerLink}},{key:"setMaxNumberPointsPerLink",value:function setMaxNumberPointsPerLink(max){this.maxNumberPointsPerLink=max}}]),DiagramEngine}(react_canvas_core_1.CanvasEngine);exports.DiagramEngine=DiagramEngine},863:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.DefaultLabelFactory=void 0;var React=__webpack_require__(0),DefaultLabelModel_1=__webpack_require__(287),DefaultLabelWidget_1=__webpack_require__(448),DefaultLabelFactory=function(_react_canvas_core_1$){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DefaultLabelFactory,_react_canvas_core_1$);var _super=_createSuper(DefaultLabelFactory);function DefaultLabelFactory(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DefaultLabelFactory),_super.call(this,"default")}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DefaultLabelFactory,[{key:"generateReactWidget",value:function generateReactWidget(event){return React.createElement(DefaultLabelWidget_1.DefaultLabelWidget,{model:event.model})}},{key:"generateModel",value:function generateModel(event){return new DefaultLabelModel_1.DefaultLabelModel}}]),DefaultLabelFactory}(__webpack_require__(8).AbstractReactFactory);exports.DefaultLabelFactory=DefaultLabelFactory},864:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var _templateObject,_templateObject2,_templateObject3;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}__webpack_require__(19),__webpack_require__(41),__webpack_require__(39),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),__webpack_require__(2),Object.defineProperty(exports,"__esModule",{value:!0}),exports.DefaultLinkFactory=void 0;var S,React=__webpack_require__(0),DefaultLinkModel_1=__webpack_require__(288),DefaultLinkWidget_1=__webpack_require__(449),styled_1=__webpack_require__(37),react_canvas_core_1=__webpack_require__(8),react_1=__webpack_require__(117);!function(S){S.Keyframes=react_1.keyframes(_templateObject||(_templateObject=_taggedTemplateLiteral(["\n\t\tfrom {\n\t\t\tstroke-dashoffset: 24;\n\t\t}\n\t\tto {\n\t\t\tstroke-dashoffset: 0;\n\t\t}\n\t"])));var selected=react_1.css(_templateObject2||(_templateObject2=_taggedTemplateLiteral(["\n\t\tstroke-dasharray: 10, 2;\n\t\tanimation: "," 1s linear infinite;\n\t"])),S.Keyframes);S.Path=styled_1.default.path(_templateObject3||(_templateObject3=_taggedTemplateLiteral(["\n\t\t",";\n\t\tfill: none;\n\t\tpointer-events: all;\n\t"])),(function(p){return p.selected&&selected}))}(S||(S={}));var DefaultLinkFactory=function(_react_canvas_core_1$){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DefaultLinkFactory,_react_canvas_core_1$);var _super=_createSuper(DefaultLinkFactory);function DefaultLinkFactory(){var type=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return _classCallCheck(this,DefaultLinkFactory),_super.call(this,type)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DefaultLinkFactory,[{key:"generateReactWidget",value:function generateReactWidget(event){return React.createElement(DefaultLinkWidget_1.DefaultLinkWidget,{link:event.model,diagramEngine:this.engine})}},{key:"generateModel",value:function generateModel(event){return new DefaultLinkModel_1.DefaultLinkModel}},{key:"generateLinkSegment",value:function generateLinkSegment(model,selected,path){return React.createElement(S.Path,{selected:selected,stroke:selected?model.getOptions().selectedColor:model.getOptions().color,strokeWidth:model.getOptions().width,d:path})}}]),DefaultLinkFactory}(react_canvas_core_1.AbstractReactFactory);exports.DefaultLinkFactory=DefaultLinkFactory},865:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.DefaultNodeFactory=void 0;var React=__webpack_require__(0),DefaultNodeModel_1=__webpack_require__(452),DefaultNodeWidget_1=__webpack_require__(453),DefaultNodeFactory=function(_react_canvas_core_1$){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DefaultNodeFactory,_react_canvas_core_1$);var _super=_createSuper(DefaultNodeFactory);function DefaultNodeFactory(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DefaultNodeFactory),_super.call(this,"default")}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DefaultNodeFactory,[{key:"generateReactWidget",value:function generateReactWidget(event){return React.createElement(DefaultNodeWidget_1.DefaultNodeWidget,{engine:this.engine,node:event.model})}},{key:"generateModel",value:function generateModel(event){return new DefaultNodeModel_1.DefaultNodeModel}}]),DefaultNodeFactory}(__webpack_require__(8).AbstractReactFactory);exports.DefaultNodeFactory=DefaultNodeFactory},866:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(2),__webpack_require__(13),__webpack_require__(12),__webpack_require__(14),__webpack_require__(11),__webpack_require__(4),__webpack_require__(5),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(6),__webpack_require__(10),Object.defineProperty(exports,"__esModule",{value:!0}),exports.DefaultPortFactory=void 0;var DefaultPortModel_1=__webpack_require__(289),DefaultPortFactory=function(_react_canvas_core_1$){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DefaultPortFactory,_react_canvas_core_1$);var _super=_createSuper(DefaultPortFactory);function DefaultPortFactory(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DefaultPortFactory),_super.call(this,"default")}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DefaultPortFactory,[{key:"generateModel",value:function generateModel(){return new DefaultPortModel_1.DefaultPortModel({name:"unknown"})}}]),DefaultPortFactory}(__webpack_require__(8).AbstractModelFactory);exports.DefaultPortFactory=DefaultPortFactory},908:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(2),__webpack_require__(25),__webpack_require__(26),__webpack_require__(23),__webpack_require__(31),Object.defineProperty(exports,"__esModule",{value:!0}),exports.DagreEngine=void 0;var react_diagrams_core_1=__webpack_require__(104),dagre=__webpack_require__(909),_=__webpack_require__(15),geometry_1=__webpack_require__(81),DagreEngine=function(){function DagreEngine(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,DagreEngine),this.options=options}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DagreEngine,[{key:"redistribute",value:function redistribute(model){var g=new dagre.graphlib.Graph({multigraph:!0,compound:!0});g.setGraph(this.options.graph||{}),g.setDefaultEdgeLabel((function(){return{}})),_.forEach(model.getNodes(),(function(node){g.setNode(node.getID(),{width:node.width,height:node.height})})),_.forEach(model.getLinks(),(function(link){link.getSourcePort()&&link.getTargetPort()&&g.setEdge({v:link.getSourcePort().getNode().getID(),w:link.getTargetPort().getNode().getID(),name:link.getID()})})),dagre.layout(g),g.nodes().forEach((function(v){var node=g.node(v);model.getNode(v).setPosition(node.x-node.width/2,node.y-node.height/2)})),this.options.includeLinks&&g.edges().forEach((function(e){for(var edge=g.edge(e),link=model.getLink(e.name),points=[link.getFirstPoint()],i=1;i<edge.points.length-1;i++)points.push(new react_diagrams_core_1.PointModel({link:link,position:new geometry_1.Point(edge.points[i].x,edge.points[i].y)}));link.setPoints(points.concat(link.getLastPoint()))}))}}]),DagreEngine}();exports.DagreEngine=DagreEngine},93:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(2),Object.defineProperty(exports,"__esModule",{value:!0}),exports.Action=exports.InputType=void 0;var Toolkit_1=__webpack_require__(195);!function(InputType){InputType.MOUSE_DOWN="mouse-down",InputType.MOUSE_UP="mouse-up",InputType.MOUSE_MOVE="mouse-move",InputType.MOUSE_WHEEL="mouse-wheel",InputType.KEY_DOWN="key-down",InputType.KEY_UP="key-up"}(exports.InputType||(exports.InputType={}));var Action=function(){function Action(options){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Action),this.options=options,this.id=Toolkit_1.Toolkit.UID()}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Action,[{key:"setEngine",value:function setEngine(engine){this.engine=engine}}]),Action}();exports.Action=Action}},[[529,1,2]]]);
//# sourceMappingURL=main.60a8d40ccd1cdeb71d01.bundle.js.map